(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function s(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t}var o=n("qOnz");n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return l}));var a=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new o.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var o=i(s.value,2),a=o[1],u=this.normalizeInstanceIdentifier(o[0]);try{var l=this.getOrInitializeService(u);a.resolve(l)}catch(c){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(s(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function s(t){try{a(n.next(t))}catch(e){i(e)}}function o(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,o)}a((n=n.apply(t,[])).next())}));var t,e,n},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,l=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=l[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return E})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return c})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return l})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return m}));var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function l(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function c(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g="FirebaseError",y=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name=g,Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,v.prototype.create),s}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?_(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new y(i,a,r);return u},t}();function _(t,e){return t.replace(w,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var w=/\{\$([^}]+)}/g;function b(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function S(){}},xsWp:function(t,e,n){"use strict";n.r(e);var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function s(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function o(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function a(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var u=n("zIRd"),l=n("q/0M"),c=n("qOnz"),h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var d,p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},m=m||{},g=p||self;function y(){}function v(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function _(t){var e=v(t);return"array"==e||"object"==e&&"number"==typeof t.length}function w(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var b="closure_uid_"+(1e9*Math.random()>>>0),E=0;function C(t,e,n){return t.call.apply(t.bind,arguments)}function S(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function T(t,e,n){return(T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?C:S).apply(null,arguments)}function x(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function k(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function A(){this.j=this.j,this.i=this.i}A.prototype.j=!1,A.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,b)&&t[b]||(t[b]=++E)}(this)},A.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var N=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},O=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function P(t){return Array.prototype.concat.apply([],arguments)}function R(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function D(t){return/^[\s\xa0]*$/.test(t)}var L,M=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function V(t,e){return-1!=t.indexOf(e)}function F(t,e){return t<e?-1:t>e?1:0}t:{var j=g.navigator;if(j){var U=j.userAgent;if(U){L=U;break t}}L=""}function q(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function B(t){var e={};for(var n in t)e[n]=t[n];return e}var z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<z.length;s++)n=z[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function H(t){return H[" "](t),t}H[" "]=y;var G,W,K=V(L,"Opera"),Q=V(L,"Trident")||V(L,"MSIE"),Z=V(L,"Edge"),Y=Z||Q,X=V(L,"Gecko")&&!(V(L.toLowerCase(),"webkit")&&!V(L,"Edge"))&&!(V(L,"Trident")||V(L,"MSIE"))&&!V(L,"Edge"),J=V(L.toLowerCase(),"webkit")&&!V(L,"Edge");function tt(){var t=g.document;return t?t.documentMode:void 0}t:{var et="",nt=(W=L,X?/rv:([^\);]+)(\)|;)/.exec(W):Z?/Edge\/([\d\.]+)/.exec(W):Q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(W):J?/WebKit\/(\S+)/.exec(W):K?/(?:Version)[ \/]?(\S+)/.exec(W):void 0);if(nt&&(et=nt?nt[1]:""),Q){var rt=tt();if(null!=rt&&rt>parseFloat(et)){G=String(rt);break t}}G=et}var it={};function st(t){return function(t,e){var n=it;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=M(String(G)).split("."),r=M(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=F(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||F(0==o[2].length,0==a[2].length)||F(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var ot=g.document&&Q&&(tt()||parseInt(G,10))||void 0,at=!Q||9<=Number(ot),ut=Q&&!st("9"),lt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{g.addEventListener("test",y,e),g.removeEventListener("test",y,e)}catch(n){}return t}();function ct(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ht(t,e){if(ct.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(X){t:{try{H(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ft[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ct.prototype.b=function(){this.defaultPrevented=!0},k(ht,ct);var ft={2:"touch",3:"pen",4:"mouse"};ht.prototype.b=function(){ht.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ut)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(cr){}};var dt="closure_listenable_"+(1e6*Math.random()|0),pt=0;function mt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++pt,this.Y=this.Z=!1}function gt(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function yt(t){this.src=t,this.a={},this.b=0}function vt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=N(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(gt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function _t(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}yt.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=_t(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new mt(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var wt="closure_lm_"+(1e6*Math.random()|0),bt={};function Et(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=Nt(r),e&&e[dt]?e.wa(n,r,w(i)?!!i.capture:!!i,s):Ct(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Et(t,e[s],n,r,i);return null}return n=Nt(n),t&&t[dt]?t.va(e,n,w(r)?!!r.capture:!!r,i):Ct(t,e,n,!1,r,i)}function Ct(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=w(i)?!!i.capture:!!i;if(o&&!at)return null;var a=kt(t);if(a||(t[wt]=a=new yt(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=It,e=at?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)lt||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Tt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function St(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[dt])vt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Tt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=kt(e))?(vt(n,t),0==n.b&&(n.src=null,e[wt]=null)):gt(t)}}}function Tt(t){return t in bt?bt[t]:bt[t]="on"+t}function xt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&St(t),n.call(r,e)}function It(t,e){if(t.Y)return!0;if(!at){if(!e)t:{e=["window","event"];for(var n=g,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return xt(t,e=new ht(e,this))}return xt(t,new ht(e,this))}function kt(t){return(t=t[wt])instanceof yt?t:null}var At="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nt(t){return"function"==v(t)?t:(t[At]||(t[At]=function(e){return t.handleEvent(e)}),t[At])}function Ot(){A.call(this),this.c=new yt(this),this.J=this,this.C=null}function Pt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&vt(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}k(Ot,A),Ot.prototype[dt]=!0,(d=Ot.prototype).addEventListener=function(t,e,n,r){Et(this,t,e,n,r)},d.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=w(i)?!!i.capture:!!i,r=Nt(r),e&&e[dt]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=_t(o=e.a[n],r,i,s))&&(gt(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=kt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=_t(n,r,i,s)),(r=-1<e?n[e]:null)&&St(r))}(this,t,e,n,r)},d.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new ct(t,n);else if(t instanceof ct)t.target=t.target||n;else{var i=t;$(t=new ct(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];i=Pt(o,r,!0,t)&&i}if(i=Pt(o=t.a=n,r,!0,t)&&i,i=Pt(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=Pt(o=t.a=e[s],r,!1,t)&&i;return i},d.G=function(){if(Ot.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)gt(n[r]);delete e.a[t],e.b--}}this.C=null},d.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},d.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Rt=g.JSON.stringify;function Dt(){this.b=this.a=null}var Lt,Mt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Ft}),(function(t){t.reset()}),100);function Vt(){var t=Bt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ft(){this.next=this.b=this.a=null}function jt(t){g.setTimeout((function(){throw t}),0)}function Ut(t,e){Lt||function(){var t=g.Promise.resolve(void 0);Lt=function(){t.then(zt)}}(),qt||(Lt(),qt=!0),Bt.add(t,e)}Dt.prototype.add=function(t,e){var n=Mt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ft.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ft.prototype.reset=function(){this.next=this.b=this.a=null};var qt=!1,Bt=new Dt;function zt(){for(var t;t=Vt();){try{t.a.call(t.b)}catch(n){jt(n)}var e=Mt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}qt=!1}function $t(t,e){Ot.call(this),this.b=t||1,this.a=e||g,this.f=T(this.Ya,this),this.g=I()}function Ht(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Gt(t,e,n){if("function"==v(t))n&&(t=T(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=T(t.handleEvent,t)}return 2147483647<Number(e)?-1:g.setTimeout(t,e||0)}function Wt(t){t.a=Gt((function(){t.a=null,t.c&&(t.c=!1,Wt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}k($t,Ot),(d=$t.prototype).aa=!1,d.M=null,d.Ya=function(){if(this.aa){var t=I()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ht(this),this.start()))}},d.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=I())},d.G=function(){$t.S.G.call(this),Ht(this),delete this.a};var Kt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Wt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(g.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(A);function Qt(t){A.call(this),this.b=t,this.a={}}k(Qt,A);var Zt=[];function Yt(t,e,n,r){Array.isArray(n)||(n&&(Zt[0]=n.toString()),n=Zt);for(var i=0;i<n.length;i++){var s=Et(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Xt(t){q(t.a,(function(t,e){this.a.hasOwnProperty(e)&&St(t)}),t),t.a={}}function Jt(){this.a=!0}function te(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Rt(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Qt.prototype.G=function(){Qt.S.G.call(this),Xt(this)},Qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jt.prototype.info=function(){};var ee=null;function ne(){return ee=ee||new Ot}function re(t){ct.call(this,"serverreachability",t)}function ie(t){var e=ne();e.dispatchEvent(new re(e,t))}function se(t){ct.call(this,"statevent",t)}function oe(t){var e=ne();e.dispatchEvent(new se(e,t))}function ae(t){ct.call(this,"timingevent",t)}function ue(t,e){if("function"!=v(t))throw Error("Fn must not be null and must be a function");return g.setTimeout((function(){t()}),e)}k(re,ct),k(se,ct),k(ae,ct);var le={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ce={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function he(){}function fe(){}he.prototype.a=null;var de,pe={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function me(){ct.call(this,"d")}function ge(){ct.call(this,"c")}function ye(){}function ve(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Qt(this),this.P=_e,this.R=new $t(t=Y?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}k(me,ct),k(ge,ct),k(ye,he),de=new ye;var _e=45e3,we={},be={};function Ee(t,e,n){t.H=1,t.i=$e(Fe(e)),t.j=n,t.I=!0,Ce(t,null)}function Ce(t,e){t.u=I(),xe(t),t.l=Fe(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),rn(n.b,"t",r),t.D=0,t.a=Xn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Kt(T(t.Ca,t,t.a),t.O)),Yt(t.J,t.a,"readystatechange",t.Wa),e=t.B?B(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ie(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function Se(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Te(t,n);if(i==be){4==e&&(t.h=4,oe(14),r=!1),te(t.c,t.f,null,"[Incomplete Response]");break}if(i==we){t.h=4,oe(15),te(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}te(t.c,t.f,i,null),Oe(t,i)}4==e&&0==n.length&&(t.h=1,oe(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),$n(e),e.F=!0)):(te(t.c,t.f,n,"[Invalid Chunked Response]"),Ne(t),Ae(t))}function Te(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?be:(n=Number(e.substring(n,r)),isNaN(n)?we:(r+=1)+n>e.length?be:(e=e.substr(r,n),t.D=r+n,e))}function xe(t){t.U=I()+t.P,Ie(t,t.P)}function Ie(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ue(T(t.Ua,t),e)}function ke(t){t.o&&(g.clearTimeout(t.o),t.o=null)}function Ae(t){0==t.g.v||t.A||Wn(t.g,t)}function Ne(t){ke(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ht(t.R),Xt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Oe(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||hn(n.b,t)))if(n.I=t.N,!t.C&&hn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Kf){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Gn(n),Ln(n)}zn(n),oe(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ue(T(n.Ra,n),6e3));if(1>=cn(n.b)&&n.ea){try{n.ea()}catch(Kf){}n.ea=void 0}}else Qn(n,11)}else if((t.C||n.a==t)&&Gn(n),!D(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var l=t.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=u.b;!h.a&&(V(c,"spdy")||V(c,"quic")||V(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(fn(h,h.b),h.b=null))}if(u.A){var f=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,ze(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=I()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Yn(u,u.C?u.ga:null,u.fa),d.C){dn(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(ke(p),xe(p)),u.a=d}else Bn(u);0<n.g.length&&Fn(n)}else"stop"!=i[0]&&"close"!=i[0]||Qn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Qn(n,7):Dn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ie(4)}catch(Kf){}}function Pe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(_(t)||"string"==typeof t)O(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(_(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Re(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Re)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function De(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Le(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Le(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Le(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(d=ve.prototype).setTimeout=function(t){this.P=t},d.Wa=function(t){t=t.target;var e=this.F;e&&3==Nn(t)?e.f():this.Ca(t)},d.Ca=function(t){try{if(t==this.a)t:{var e=Nn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!Y&&!this.a.$())){this.A||4!=e||7==n||ie(8==n||0>=r?3:2),ke(this);var i=this.a.X();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,oe(12),Ne(this),Ae(this);break t}te(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Oe(this,u)}this.I?(Se(this,e,s),Y&&this.b&&3==e&&(Yt(this.J,this.R,"tick",this.Va),this.R.start())):(te(this.c,this.f,s,null),Oe(this,s)),4==e&&Ne(this),this.b&&!this.A&&(4==e?Wn(this.g,this):(this.b=!1,xe(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,oe(12)):(this.h=0,oe(13)),Ne(this),Ae(this)}}}catch(l){}},d.Va=function(){if(this.a){var t=Nn(this.a),e=this.a.$();this.D<e.length&&(ke(this),Se(this,t,e),this.b&&4!=t&&xe(this))}},d.cancel=function(){this.A=!0,Ne(this)},d.Ua=function(){this.o=null;var t=I();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(ie(3),oe(17)),Ne(this),this.h=2,Ae(this)):Ie(this,this.U-t)},(d=Re.prototype).K=function(){De(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},d.L=function(){return De(this),this.a.concat()},d.get=function(t,e){return Le(this.b,t)?this.b[t]:e},d.set=function(t,e){Le(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},d.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Me=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ve(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ve){this.a=void 0!==e?e:t.a,je(this,t.f),this.j=t.j,Ue(this,t.c),qe(this,t.h),this.g=t.g,e=t.b;var n=new Je;n.c=e.c,e.a&&(n.a=new Re(e.a),n.b=e.b),Be(this,n),this.i=t.i}else t&&(n=String(t).match(Me))?(this.a=!!e,je(this,n[1]||"",!0),this.j=He(n[2]||""),Ue(this,n[3]||"",!0),qe(this,n[4]),this.g=He(n[5]||"",!0),Be(this,n[6]||"",!0),this.i=He(n[7]||"")):(this.a=!!e,this.b=new Je(null,this.a))}function Fe(t){return new Ve(t)}function je(t,e,n){t.f=n?He(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ue(t,e,n){t.c=n?He(e,!0):e}function qe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Be(t,e,n){e instanceof Je?(t.b=e,function(t,e){e&&!t.f&&(tn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(en(this,e),rn(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ge(e,Ye)),t.b=new Je(e,t.a))}function ze(t,e,n){t.b.set(e,n)}function $e(t){return ze(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^I()).toString(36)),t}function He(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ge(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,We),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function We(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ve.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ge(e,Ke,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ge(e,Ke,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ge(n,"/"==n.charAt(0)?Ze:Qe,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ge(n,Xe)),t.join("")};var Ke=/[#\/\?@]/g,Qe=/[#\?:]/g,Ze=/[#\?]/g,Ye=/[#\?@]/g,Xe=/#/g;function Je(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function tn(t){t.a||(t.a=new Re,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function en(t,e){tn(t),e=sn(t,e),Le(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Le((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&De(t)))}function nn(t,e){return tn(t),e=sn(t,e),Le(t.a.b,e)}function rn(t,e,n){en(t,e),0<n.length&&(t.c=null,t.a.set(sn(t,e),R(n)),t.b+=n.length)}function sn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function on(t,e){this.b=t,this.a=e}function an(t){this.g=t||un,t=g.PerformanceNavigationTiming?0<(t=g.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(g.ia&&g.ia.ya&&g.ia.ya()&&g.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(d=Je.prototype).add=function(t,e){tn(this),this.c=null,t=sn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},d.forEach=function(t,e){tn(this),this.a.forEach((function(n,r){O(n,(function(n){t.call(e,n,r,this)}),this)}),this)},d.L=function(){tn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},d.K=function(t){tn(this);var e=[];if("string"==typeof t)nn(this,t)&&(e=P(e,this.a.get(sn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=P(e,t[n])}return e},d.set=function(t,e){return tn(this),this.c=null,nn(this,t=sn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},d.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},d.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var un=10;function ln(t){return!!t.b||!!t.a&&t.a.size>=t.f}function cn(t){return t.b?1:t.a?t.a.size:0}function hn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function fn(t,e){t.a?t.a.add(e):t.b=e}function dn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function pn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=f(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return R(t.c)}function mn(){}function gn(){this.a=new mn}function yn(t,e,n){var r=n||"";try{Pe(t,(function(t,n){var i=t;w(t)&&(i=Rt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}an.prototype.cancel=function(){var t,e;if(this.c=pn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=f(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},mn.prototype.stringify=function(t){return g.JSON.stringify(t,void 0)},mn.prototype.parse=function(t){return g.JSON.parse(t,void 0)};var _n=g.JSON.parse;function wn(t){Ot.call(this),this.headers=new Re,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=bn,this.D=this.F=!1}k(wn,Ot);var bn="",En=/^https?$/i,Cn=["POST","PUT"];function Sn(t){return"content-type"==t.toLowerCase()}function Tn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,xn(t),kn(t)}function xn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function In(t){if(t.b&&void 0!==m&&(!t.s[1]||4!=Nn(t)||2!=t.X()))if(t.l&&4==Nn(t))Gt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Nn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Me)[1]||null;if(!s&&g.self&&g.self.location){var o=g.self.location.protocol;s=o.substr(0,o.length-1)}i=!En.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<Nn(t)?t.a.statusText:""}catch(u){a=""}t.f=a+" ["+t.X()+"]",xn(t)}}finally{kn(t)}}}function kn(t,e){if(t.a){An(t);var n=t.a,r=t.s[0]?y:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function An(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(g.clearTimeout(t.m),t.m=null)}function Nn(t){return t.a?t.a.readyState:0}function On(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return q(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ze(t,e,n))}function Pn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Rn(t){this.pa=0,this.g=[],this.c=new Jt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Pn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Pn("baseRetryDelayMs",5e3,t),this.Ma=Pn("retryDelaySeedMs",1e4,t),this.Ja=Pn("forwardChannelMaxRetries",2,t),this.ma=Pn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new an(t&&t.concurrentRequestLimit),this.ka=new gn,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Dn(t){if(Mn(t),3==t.v){var e=t.R++,n=Fe(t.B);ze(n,"SID",t.J),ze(n,"RID",e),ze(n,"TYPE","terminate"),Un(t,n),(e=new ve(t,t.c,e,void 0)).H=2,e.i=$e(Fe(n)),n=!1,g.navigator&&g.navigator.sendBeacon&&(n=g.navigator.sendBeacon(e.i.toString(),"")),!n&&g.Image&&((new Image).src=e.i,n=!0),n||(e.a=Xn(e.g,null),e.a.ba(e.i)),e.u=I(),xe(e)}Zn(t)}function Ln(t){t.a&&($n(t),t.a.cancel(),t.a=null)}function Mn(t){Ln(t),t.j&&(g.clearTimeout(t.j),t.j=null),Gn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&g.clearTimeout(t.h),t.h=null)}function Vn(t,e){t.g.push(new on(t.La++,e)),3==t.v&&Fn(t)}function Fn(t){ln(t.b)||t.h||(t.h=!0,Ut(t.Ba,t),t.u=0)}function jn(t,e){var n;n=e?e.f:t.R++;var r=Fe(t.B);ze(r,"SID",t.J),ze(r,"RID",n),ze(r,"AID",t.P),Un(t,r),t.i&&t.l&&On(r,t.i,t.l),n=new ve(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=qn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),fn(t.b,n),Ee(n,r,e)}function Un(t,e){t.f&&Pe({},(function(t,n){ze(e,n,t)}))}function qn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?T(t.f.Ha,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=s))s=Math.max(0,i[u].b-100),a=!1;else try{yn(c,o,"req"+l+"_")}catch(Rr){r&&r(c)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Bn(t){t.a||t.j||(t.U=1,Ut(t.Aa,t),t.o=0)}function zn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=ue(T(t.Aa,t),Kn(t,t.o)),t.o++,0))}function $n(t){null!=t.s&&(g.clearTimeout(t.s),t.s=null)}function Hn(t){t.a=new ve(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Fe(t.la);ze(e,"RID","rpc"),ze(e,"SID",t.J),ze(e,"CI",t.H?"0":"1"),ze(e,"AID",t.P),Un(t,e),ze(e,"TYPE","xmlhttp"),t.i&&t.l&&On(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=$e(Fe(e)),n.j=null,n.I=!0,Ce(n,t)}function Gn(t){null!=t.m&&(g.clearTimeout(t.m),t.m=null)}function Wn(t,e){var n=null;if(t.a==e){Gn(t),$n(t),t.a=null;var r=2}else{if(!hn(t.b,e))return;n=e.s,dn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=I()-e.u;var i=t.u;(r=ne()).dispatchEvent(new ae(r,n,e,i)),Fn(t)}else Bn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(cn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=ue(T(t.Ba,t,e),Kn(t,t.u)),t.u++,0)))}(t,e)||2==r&&zn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Qn(t,5);break;case 4:Qn(t,10);break;case 3:Qn(t,6);break;default:Qn(t,2)}}function Kn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Qn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=T(t.Xa,t);n||(n=new Ve("//www.google.com/images/cleardot.gif"),g.location&&"http"==g.location.protocol||je(n,"https"),$e(n)),function(t,e){var n=new Jt;if(g.Image){var r=new Image;r.onload=x(vn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=x(vn,n,r,"TestLoadImage: error",!1,e),r.onabort=x(vn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=x(vn,n,r,"TestLoadImage: timeout",!1,e),g.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else oe(2);t.v=0,t.f&&t.f.ra(e),Zn(t),Mn(t)}function Zn(t){t.v=0,t.I=-1,t.f&&(0==pn(t.b).length&&0==t.g.length||(t.b.c.length=0,R(t.g),t.g.length=0),t.f.qa())}function Yn(t,e,n){var r=function(t){return t instanceof Ve?Fe(t):new Ve(t,void 0)}(n);if(""!=r.c)e&&Ue(r,e+"."+r.c),qe(r,r.h);else{var i=g.location;r=function(t,e,n,r){var i=new Ve(null,void 0);return t&&je(i,t),e&&Ue(i,e),n&&qe(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&q(t.W,(function(t,e){ze(r,e,t)})),n=t.na,(e=t.A)&&n&&ze(r,e,n),ze(r,"VER",t.ha),Un(t,r),r}function Xn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wn(t.Ka)).F=t.C,e}function Jn(){}function tr(){if(Q&&!(10<=Number(ot)))throw Error("Environmental error: no available transport.")}function er(t,e){Ot.call(this),this.a=new Rn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!D(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!D(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ir(this)}function nr(t){me.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function rr(){ge.call(this),this.status=1}function ir(t){this.a=t}(d=wn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:de),this.a.onreadystatechange=T(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Tn(this,s)}t=n||"";var i=new Re(this.headers);r&&Pe(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Sn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=g.FormData&&t instanceof g.FormData,!(0<=N(Cn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{An(this),0<this.o&&((this.D=function(t){return Q&&st(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=T(this.xa,this)):this.m=Gt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Tn(this,s)}},d.xa=function(){void 0!==m&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},d.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),kn(this))},d.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),kn(this,!0)),wn.S.G.call(this)},d.za=function(){this.j||(this.A||this.l||this.g?In(this):this.Ta())},d.Ta=function(){In(this)},d.X=function(){try{return 2<Nn(this)?this.a.status:-1}catch(W){return-1}},d.$=function(){try{return this.a?this.a.responseText:""}catch(W){return""}},d.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),_n(e)}},d.ua=function(){return this.h},d.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(d=Rn.prototype).ha=8,d.v=1,d.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ve(this,this.c,t,void 0),r=this.l;if(this.O&&(r?$(r=B(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=qn(this,n,e),ze(i=Fe(this.B),"RID",t),ze(i,"CVER",22),this.A&&ze(i,"X-HTTP-Session-Id",this.A),Un(this,i),this.i&&r&&On(i,this.i,r),fn(this.b,n),this.Ga&&ze(i,"TYPE","init"),this.da?(ze(i,"$req",e),ze(i,"SID","null"),n.V=!0,Ee(n,i,null)):Ee(n,i,e),this.v=2}}else 3==this.v&&(t?jn(this,t):0==this.g.length||ln(this.b)||jn(this))},d.Aa=function(){if(this.j=null,Hn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ue(T(this.Sa,this),t)}},d.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ln(this),Hn(this))},d.Ra=function(){null!=this.m&&(this.m=null,Ln(this),zn(this),oe(19))},d.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),oe(2)):(this.c.info("Failed to ping google.com"),oe(1))},(d=Jn.prototype).ta=function(){},d.sa=function(){},d.ra=function(){},d.qa=function(){},d.Ha=function(){},tr.prototype.a=function(t,e){return new er(t,e)},k(er,Ot),(d=er.prototype).addEventListener=function(t,e,n,r){er.S.addEventListener.call(this,t,e,n,r)},d.removeEventListener=function(t,e,n,r){er.S.removeEventListener.call(this,t,e,n,r)},d.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;oe(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Yn(t,null,t.fa),Fn(t)},d.close=function(){Dn(this.a)},d.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Vn(this.a,e)}else this.g?((e={}).__data__=Rt(t),Vn(this.a,e)):Vn(this.a,t)},d.G=function(){this.a.f=null,delete this.f,Dn(this.a),delete this.a,er.S.G.call(this)},k(nr,me),k(rr,ge),k(ir,Jn),ir.prototype.ta=function(){this.a.dispatchEvent("a")},ir.prototype.sa=function(t){this.a.dispatchEvent(new nr(t))},ir.prototype.ra=function(t){this.a.dispatchEvent(new rr(t))},ir.prototype.qa=function(){this.a.dispatchEvent("b")},tr.prototype.createWebChannel=tr.prototype.a,er.prototype.send=er.prototype.Pa,er.prototype.open=er.prototype.Oa,er.prototype.close=er.prototype.close,le.NO_ERROR=0,le.TIMEOUT=8,le.HTTP_ERROR=6,ce.COMPLETE="complete",fe.EventType=pe,pe.OPEN="a",pe.CLOSE="b",pe.ERROR="c",pe.MESSAGE="d",Ot.prototype.listen=Ot.prototype.va,wn.prototype.listenOnce=wn.prototype.wa,wn.prototype.getLastError=wn.prototype.Qa,wn.prototype.getLastErrorCode=wn.prototype.ua,wn.prototype.getStatus=wn.prototype.X,wn.prototype.getResponseJson=wn.prototype.Na,wn.prototype.getResponseText=wn.prototype.$,wn.prototype.send=wn.prototype.ba;var sr=le,or=ce,ar=fe,ur=wn,lr=n("/6Yf");n.d(e,"__PRIVATE_registerFirestore",(function(){return Kf}));var cr=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},hr=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),fr=new l.b("@firebase/firestore");function dr(){return fr.logLevel}function pr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(fr.logLevel<=l.a.DEBUG){var r=e.map(yr);fr.debug.apply(fr,a(["Firestore (8.0.2): "+t],r))}}function mr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(fr.logLevel<=l.a.ERROR){var r=e.map(yr);fr.error.apply(fr,a(["Firestore (8.0.2): "+t],r))}}function gr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(fr.logLevel<=l.a.WARN){var r=e.map(yr);fr.warn.apply(fr,a(["Firestore (8.0.2): "+t],r))}}function yr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function vr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.0.2) INTERNAL ASSERTION FAILED: "+t;throw mr(e),new Error(e)}function _r(t,e){t||vr()}function wr(t,e){return t}function br(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Er=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=br(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Cr(t,e){return t<e?-1:t>e?1:0}function Sr(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Tr(t){return t+"\0"}function xr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ir(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ar=function(){function t(t,e){this.h=t,this.l=e,this._={}}return t.prototype.get=function(t){var e=this.h(t),n=this._[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.l(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this._[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.l(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this._[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this._[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.l(n[r][0],t))return 1===n.length?delete this._[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Ir(this._,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.T=function(){return kr(this._)},t}(),Nr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Or=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i(e,t),e}(Error),Pr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Or(Nr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Or(Nr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Or(Nr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Or(Nr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.I=function(t){return this.seconds===t.seconds?Cr(this.nanoseconds,t.nanoseconds):Cr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Rr=function(){function t(t){this.timestamp=t}return t.m=function(e){return new t(e)},t.min=function(){return new t(new Pr(0,0))},t.prototype.A=function(t){return this.timestamp.I(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.R=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.P=function(){return this.timestamp},t}(),Dr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&vr(),void 0===n?n=t.length-e:n>t.length-e&&vr(),this.segments=t,this.offset=e,this.g=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.g},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.V(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.p(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.v=function(t){return this.p(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.S=function(){return this.p(this.segments,this.offset,this.length-1)},t.prototype.D=function(){return this.segments[this.offset]},t.prototype.C=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.T=function(){return 0===this.length},t.prototype.N=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.F=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.O=function(){return this.segments.slice(this.offset,this.limit())},t.V=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Lr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.p=function(t,n,r){return new e(t,n,r)},e.prototype.M=function(){return this.O().join("/")},e.prototype.toString=function(){return this.M()},e.k=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Or(Nr.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.$=function(){return new e([])},e}(Dr),Mr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.p=function(t,n,r){return new e(t,n,r)},e.L=function(t){return Mr.test(t)},e.prototype.M=function(){return this.O().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.L(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.M()},e.prototype.B=function(){return 1===this.length&&"__name__"===this.get(0)},e.q=function(){return new e(["__name__"])},e.U=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Or(Nr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Or(Nr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Or(Nr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Or(Nr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.$=function(){return new e([])},e}(Dr),Fr=function(){function t(t){this.path=t}return t.K=function(e){return new t(Lr.k(e))},t.W=function(e){return new t(Lr.k(e).v(5))},t.prototype.j=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Lr.V(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.V=function(t,e){return Lr.V(t.path,e.path)},t.G=function(t){return t.length%2==0},t.H=function(e){return new t(new Lr(e.slice()))},t}();function jr(t){return null==t}function Ur(t){return 0===t&&1/t==-1/0}function qr(t){return"number"==typeof t&&Number.isInteger(t)&&!Ur(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Br=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.J=null};function zr(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Br(t,e,n,r,i,s,o)}function $r(t){var e=wr(t);if(null===e.J){var n=e.path.M();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.M()+t.op.toString()+Li(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.M()+e.dir;var e})).join(","),jr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Fo(e.startAt)),e.endAt&&(n+="|ub:",n+=Fo(e.endAt)),e.J=n}return e.J}function Hr(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!zo(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Oi(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Uo(t.startAt,e.startAt)&&Uo(t.endAt,e.endAt)}function Gr(t){return Fr.G(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Wr=function(){function t(t){this.Y=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.Y)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.Y)},t.prototype.X=function(){return 2*this.Y.length},t.prototype.A=function(t){return Cr(this.Y,t.Y)},t.prototype.isEqual=function(t){return this.Y===t.Y},t}();Wr.Z=new Wr("");var Kr,Qr,Zr=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Rr.min()),void 0===s&&(s=Rr.min()),void 0===o&&(o=Wr.Z),this.target=t,this.targetId=e,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.nt=function(e){return new t(this.target,this.targetId,this.tt,e,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.st=function(e,n){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.it=function(e){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,e,this.resumeToken)},t}(),Yr=function(t){this.count=t};function Xr(t){switch(t){case Nr.OK:return vr();case Nr.CANCELLED:case Nr.UNKNOWN:case Nr.DEADLINE_EXCEEDED:case Nr.RESOURCE_EXHAUSTED:case Nr.INTERNAL:case Nr.UNAVAILABLE:case Nr.UNAUTHENTICATED:return!1;case Nr.INVALID_ARGUMENT:case Nr.NOT_FOUND:case Nr.ALREADY_EXISTS:case Nr.PERMISSION_DENIED:case Nr.FAILED_PRECONDITION:case Nr.ABORTED:case Nr.OUT_OF_RANGE:case Nr.UNIMPLEMENTED:case Nr.DATA_LOSS:return!0;default:return vr()}}function Jr(t){if(void 0===t)return mr("GRPC error has no .code"),Nr.UNKNOWN;switch(t){case Kr.OK:return Nr.OK;case Kr.CANCELLED:return Nr.CANCELLED;case Kr.UNKNOWN:return Nr.UNKNOWN;case Kr.DEADLINE_EXCEEDED:return Nr.DEADLINE_EXCEEDED;case Kr.RESOURCE_EXHAUSTED:return Nr.RESOURCE_EXHAUSTED;case Kr.INTERNAL:return Nr.INTERNAL;case Kr.UNAVAILABLE:return Nr.UNAVAILABLE;case Kr.UNAUTHENTICATED:return Nr.UNAUTHENTICATED;case Kr.INVALID_ARGUMENT:return Nr.INVALID_ARGUMENT;case Kr.NOT_FOUND:return Nr.NOT_FOUND;case Kr.ALREADY_EXISTS:return Nr.ALREADY_EXISTS;case Kr.PERMISSION_DENIED:return Nr.PERMISSION_DENIED;case Kr.FAILED_PRECONDITION:return Nr.FAILED_PRECONDITION;case Kr.ABORTED:return Nr.ABORTED;case Kr.OUT_OF_RANGE:return Nr.OUT_OF_RANGE;case Kr.UNIMPLEMENTED:return Nr.UNIMPLEMENTED;case Kr.DATA_LOSS:return Nr.DATA_LOSS;default:return vr()}}(Qr=Kr||(Kr={}))[Qr.OK=0]="OK",Qr[Qr.CANCELLED=1]="CANCELLED",Qr[Qr.UNKNOWN=2]="UNKNOWN",Qr[Qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qr[Qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qr[Qr.NOT_FOUND=5]="NOT_FOUND",Qr[Qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qr[Qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qr[Qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qr[Qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qr[Qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qr[Qr.ABORTED=10]="ABORTED",Qr[Qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qr[Qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qr[Qr.INTERNAL=13]="INTERNAL",Qr[Qr.UNAVAILABLE=14]="UNAVAILABLE",Qr[Qr.DATA_LOSS=15]="DATA_LOSS";var ti=function(){function t(t,e){this.V=t,this.root=e||ni.EMPTY}return t.prototype.rt=function(e,n){return new t(this.V,this.root.rt(e,n,this.V).copy(null,null,ni.ot,null,null))},t.prototype.remove=function(e){return new t(this.V,this.root.remove(e,this.V).copy(null,null,ni.ot,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.T();){var n=this.V(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.T();){var r=this.V(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.T=function(){return this.root.T()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.at=function(){return this.root.at()},t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.lt=function(){return new ei(this.root,null,this.V,!1)},t.prototype._t=function(t){return new ei(this.root,t,this.V,!1)},t.prototype.ft=function(){return new ei(this.root,null,this.V,!0)},t.prototype.dt=function(t){return new ei(this.root,t,this.V,!0)},t}(),ei=function(){function t(t,e,n,r){this.wt=r,this.Tt=[];for(var i=1;!t.T();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.wt?t.right:t.left}}return t.prototype.Et=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.T();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.T();)this.Tt.push(t),t=t.left;return e},t.prototype.It=function(){return this.Tt.length>0},t.prototype.At=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),ni=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.T=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left.T()?this:this.left.min()},t.prototype.at=function(){return this.min().key},t.prototype.ct=function(){return this.right.T()?this.key:this.right.ct()},t.prototype.rt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.rt(t,e,n))).Rt()},t.prototype.Pt=function(){if(this.left.T())return t.EMPTY;var e=this;return e.left.gt()||e.left.left.gt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).Rt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.T()||i.left.gt()||i.left.left.gt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.gt()&&(i=i.yt()),i.right.T()||i.right.gt()||i.right.left.gt()||(i=i.vt()),0===n(e,i.key)){if(i.right.T())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Rt()},t.prototype.gt=function(){return this.color},t.prototype.Rt=function(){var t=this;return t.right.gt()&&!t.left.gt()&&(t=t.bt()),t.left.gt()&&t.left.left.gt()&&(t=t.yt()),t.left.gt()&&t.right.gt()&&(t=t.St()),t},t.prototype.Vt=function(){var t=this.St();return t.right.left.gt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.yt())).bt()).St()),t},t.prototype.vt=function(){var t=this.St();return t.left.left.gt()&&(t=(t=t.yt()).St()),t},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.yt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.St=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Dt=function(){var t=this.Ct();return Math.pow(2,t)<=this.size+1},t.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw vr();if(this.right.gt())throw vr();var t=this.left.Ct();if(t!==this.right.Ct())throw vr();return t+(this.gt()?0:1)},t}();ni.EMPTY=null,ni.RED=!0,ni.ot=!1,ni.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw vr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw vr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw vr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw vr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw vr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.rt=function(t,e,n){return new ni(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.T=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.at=function(){return null},t.prototype.ct=function(){return null},t.prototype.gt=function(){return!1},t.prototype.Dt=function(){return!0},t.prototype.Ct=function(){return 0},t}());var ri=function(){function t(t){this.V=t,this.data=new ti(this.V)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.at()},t.prototype.last=function(){return this.data.ct()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},t.prototype.Nt=function(t,e){for(var n=this.data._t(t[0]);n.It();){var r=n.Et();if(this.V(r.key,t[1])>=0)return;e(r.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data._t(e):this.data.lt();n.It();)if(!t(n.Et().key))return},t.prototype.Ft=function(t){var e=this.data._t(t);return e.It()?e.Et().key:null},t.prototype.lt=function(){return new ii(this.data.lt())},t.prototype._t=function(t){return new ii(this.data._t(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).rt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.T=function(){return this.data.T()},t.prototype.Ot=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.lt(),r=e.data.lt();n.It();){var i=n.Et().key,s=r.Et().key;if(0!==this.V(i,s))return!1}return!0},t.prototype.O=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.V);return n.data=e,n},t}(),ii=function(){function t(t){this.Mt=t}return t.prototype.Et=function(){return this.Mt.Et().key},t.prototype.It=function(){return this.Mt.It()},t}(),si=new ti(Fr.V);function oi(){return si}function ai(){return oi()}var ui=new ti(Fr.V);function li(){return ui}var ci=new ti(Fr.V),hi=new ri(Fr.V);function fi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=hi,r=0,i=t;r<i.length;r++)n=n.add(i[r]);return n}var di=new ri(Cr);function pi(){return di}var mi=function(){function t(t){this.V=t?function(e,n){return t(e,n)||Fr.V(e.key,n.key)}:function(t,e){return Fr.V(t.key,e.key)},this.kt=li(),this.$t=new ti(this.V)}return t.Lt=function(e){return new t(e.V)},t.prototype.has=function(t){return null!=this.kt.get(t)},t.prototype.get=function(t){return this.kt.get(t)},t.prototype.first=function(){return this.$t.at()},t.prototype.last=function(){return this.$t.ct()},t.prototype.T=function(){return this.$t.T()},t.prototype.indexOf=function(t){var e=this.kt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.$t.ut((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.kt.rt(t.key,t),e.$t.rt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.kt.remove(t),this.$t.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.$t.lt(),r=e.$t.lt();n.It();){var i=n.Et().key,s=r.Et().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.V=this.V,r.kt=e,r.$t=n,r},t}(),gi=function(){function t(){this.Bt=new ti(Fr.V)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Bt.get(e);n?0!==t.type&&3===n.type?this.Bt=this.Bt.rt(e,t):3===t.type&&1!==n.type?this.Bt=this.Bt.rt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Bt=this.Bt.rt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Bt=this.Bt.remove(e):1===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):vr():this.Bt=this.Bt.rt(e,t)},t.prototype.qt=function(){var t=[];return this.Bt.ut((function(e,n){t.push(n)})),t},t}(),yi=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=s,this.Kt=o,this.Wt=a}return t.jt=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,mi.Lt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.T()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Kt===t.Kt&&this.Qt.isEqual(t.Qt)&&Co(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ut.isEqual(t.Ut)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),vi=function(){function t(t,e,n,r,i){this.et=t,this.Gt=e,this.zt=n,this.Ht=r,this.Jt=i}return t.Yt=function(e,n){var r=new Map;return r.set(e,_i.Xt(e,n)),new t(Rr.min(),r,pi(),oi(),fi())},t}(),_i=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Zt=e,this.te=n,this.ee=r,this.ne=i}return t.Xt=function(e,n){return new t(Wr.Z,n,fi(),fi(),fi())},t}(),wi=function(t,e,n,r){this.se=t,this.removedTargetIds=e,this.key=n,this.ie=r},bi=function(t,e){this.targetId=t,this.re=e},Ei=function(t,e,n,r){void 0===n&&(n=Wr.Z),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ci=function(){function t(){this.oe=0,this.ae=xi(),this.ce=Wr.Z,this.ue=!1,this.he=!0}return Object.defineProperty(t.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),t.prototype.fe=function(t){t.X()>0&&(this.he=!0,this.ce=t)},t.prototype.de=function(){var t=fi(),e=fi(),n=fi();return this.ae.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:vr()}})),new _i(this.ce,this.ue,t,e,n)},t.prototype.we=function(){this.he=!1,this.ae=xi()},t.prototype.Te=function(t,e){this.he=!0,this.ae=this.ae.rt(t,e)},t.prototype.Ee=function(t){this.he=!0,this.ae=this.ae.remove(t)},t.prototype.Ie=function(){this.oe+=1},t.prototype.me=function(){this.oe-=1},t.prototype.Ae=function(){this.he=!0,this.ue=!0},t}(),Si=function(){function t(t){this.Re=t,this.Pe=new Map,this.ge=oi(),this.Ve=Ti(),this.ye=new ri(Cr)}return t.prototype.pe=function(t){for(var e=0,n=t.se;e<n.length;e++){var r=n[e];t.ie instanceof oo?this.ve(r,t.ie):t.ie instanceof ao&&this.be(r,t.key,t.ie)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.be(s[i],t.key,t.ie)},t.prototype.Se=function(t){var e=this;this.De(t,(function(n){var r=e.Ce(n);switch(t.state){case 0:e.Ne(n)&&r.fe(t.resumeToken);break;case 1:r.me(),r.le||r.we(),r.fe(t.resumeToken);break;case 2:r.me(),r.le||e.removeTarget(n);break;case 3:e.Ne(n)&&(r.Ae(),r.fe(t.resumeToken));break;case 4:e.Ne(n)&&(e.xe(n),r.fe(t.resumeToken));break;default:vr()}}))},t.prototype.De=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Ne(r)&&e(r)}))},t.prototype.Fe=function(t){var e=t.targetId,n=t.re.count,r=this.Oe(e);if(r){var i=r.target;if(Gr(i))if(0===n){var s=new Fr(i.path);this.be(e,s,new ao(s,Rr.min()))}else _r(1===n);else this.Me(e)!==n&&(this.xe(e),this.ye=this.ye.add(e))}},t.prototype.ke=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var s=e.Oe(i);if(s){if(r.Zt&&Gr(s.target)){var o=new Fr(s.target.path);null!==e.ge.get(o)||e.$e(i,o)||e.be(i,o,new ao(o,t))}r._e&&(n.set(i,r.de()),r.we())}}));var r=fi();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){var n=e.Oe(t);return!n||2===n.tt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new vi(t,n,this.ye,this.ge,r);return this.ge=oi(),this.Ve=Ti(),this.ye=new ri(Cr),i},t.prototype.ve=function(t,e){if(this.Ne(t)){var n=this.$e(t,e.key)?2:0;this.Ce(t).Te(e.key,n),this.ge=this.ge.rt(e.key,e),this.Ve=this.Ve.rt(e.key,this.Le(e.key).add(t))}},t.prototype.be=function(t,e,n){if(this.Ne(t)){var r=this.Ce(t);this.$e(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.rt(e,this.Le(e).delete(t)),n&&(this.ge=this.ge.rt(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ce(t).de();return this.Re.Be(t).size+e.te.size-e.ne.size},t.prototype.Ie=function(t){this.Ce(t).Ie()},t.prototype.Ce=function(t){var e=this.Pe.get(t);return e||(e=new Ci,this.Pe.set(t,e)),e},t.prototype.Le=function(t){var e=this.Ve.get(t);return e||(e=new ri(Cr),this.Ve=this.Ve.rt(t,e)),e},t.prototype.Ne=function(t){var e=null!==this.Oe(t);return e||pr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Oe=function(t){var e=this.Pe.get(t);return e&&e.le?null:this.Re.qe(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new Ci),this.Re.Be(t).forEach((function(n){e.be(t,n,null)}))},t.prototype.$e=function(t,e){return this.Re.Be(t).has(e)},t}();function Ti(){return new ti(Fr.V)}function xi(){return new ti(Fr.V)}function Ii(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ki(t){var e=Mi(t.mapValue.fields.__local_write_time__.timestampValue);return new Pr(e.seconds,e.nanos)}var Ai=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ii(t)?4:10:vr()}function Oi(t,e){var n=Ni(t);if(n!==Ni(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ki(t).isEqual(ki(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Mi(t.timestampValue),r=Mi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Fi(t.bytesValue).isEqual(Fi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Vi(t.geoPointValue.latitude)===Vi(e.geoPointValue.latitude)&&Vi(t.geoPointValue.longitude)===Vi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Vi(t.integerValue)===Vi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Vi(t.doubleValue),r=Vi(e.doubleValue);return n===r?Ur(n)===Ur(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Sr(t.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(xr(n)!==xr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Oi(n[i],r[i])))return!1;return!0}(t,e);default:return vr()}}function Pi(t,e){return void 0!==(t.values||[]).find((function(t){return Oi(t,e)}))}function Ri(t,e){var n=Ni(t),r=Ni(e);if(n!==r)return Cr(n,r);switch(n){case 0:return 0;case 1:return Cr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Vi(t.integerValue||t.doubleValue),r=Vi(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Di(t.timestampValue,e.timestampValue);case 4:return Di(ki(t),ki(e));case 5:return Cr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Fi(t),r=Fi(e);return n.A(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Cr(n[i],r[i]);if(0!==s)return s}return Cr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Cr(Vi(t.latitude),Vi(e.latitude));return 0!==n?n:Cr(Vi(t.longitude),Vi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Ri(n[i],r[i]);if(s)return s}return Cr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Cr(r[o],s[o]);if(0!==a)return a;var u=Ri(n[r[o]],i[s[o]]);if(0!==u)return u}return Cr(r.length,s.length)}(t.mapValue,e.mapValue);default:throw vr()}}function Di(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Cr(t,e);var n=Mi(t),r=Mi(e),i=Cr(n.seconds,r.seconds);return 0!==i?i:Cr(n.nanos,r.nanos)}function Li(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Mi(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Fi(e.bytesValue).toBase64():"referenceValue"in e?Fr.W(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):vr();var n}(t)}function Mi(t){if(_r(!!t),"string"==typeof t){var e=0,n=Ai.exec(t);if(_r(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Vi(t.seconds),nanos:Vi(t.nanos)}}function Vi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Fi(t){return"string"==typeof t?Wr.fromBase64String(t):Wr.fromUint8Array(t)}function ji(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.M()}}function Ui(t){return!!t&&"integerValue"in t}function qi(t){return!!t&&"arrayValue"in t}function Bi(t){return!!t&&"nullValue"in t}function zi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $i(t){return!!t&&"mapValue"in t}var Hi={asc:"ASCENDING",desc:"DESCENDING"},Gi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wi=function(t,e){this.t=t,this.Ue=e};function Ki(t){return{integerValue:""+t}}function Qi(t,e){if(t.Ue){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ur(e)?"-0":e}}function Zi(t,e){return qr(e)?Ki(e):Qi(t,e)}function Yi(t,e){return t.Ue?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xi(t,e){return t.Ue?e.toBase64():e.toUint8Array()}function Ji(t,e){return Yi(t,e.P())}function ts(t){return _r(!!t),Rr.m(function(t){var e=Mi(t);return new Pr(e.seconds,e.nanos)}(t))}function es(t,e){return function(t){return new Lr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).M()}function ns(t){var e=Lr.k(t);return _r(Ss(e)),e}function rs(t,e){return es(t.t,e.path)}function is(t,e){var n=ns(e);if(n.get(1)!==t.t.projectId)throw new Or(Nr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Or(Nr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Fr(us(n))}function ss(t,e){return es(t.t,e)}function os(t){var e=ns(t);return 4===e.length?Lr.$():us(e)}function as(t){return new Lr(["projects",t.t.projectId,"databases",t.t.database]).M()}function us(t){return _r(t.length>4&&"documents"===t.get(4)),t.v(5)}function ls(t,e,n){return{name:rs(t,e),fields:n.proto.mapValue.fields}}function cs(t,e){var n;if(e instanceof Ks)n={update:ls(t,e.key,e.value)};else if(e instanceof to)n={delete:rs(t,e.key)};else if(e instanceof Qs)n={update:ls(t,e.key,e.data),updateMask:Cs(e.Qe)};else if(e instanceof Ys)n={transform:{document:rs(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof As)return{fieldPath:e.field.M(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ns)return{fieldPath:e.field.M(),appendMissingElements:{values:n.elements}};if(n instanceof Ps)return{fieldPath:e.field.M(),removeAllFromArray:{values:n.elements}};if(n instanceof Ds)return{fieldPath:e.field.M(),increment:n.Ke};throw vr()}(0,t)}))}};else{if(!(e instanceof eo))return vr();n={verify:rs(t,e.key)}}return e.je.We||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ji(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:vr()}(t,e.je)),n}function hs(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Us.updateTime(ts(t.updateTime)):void 0!==t.exists?Us.exists(t.exists):Us.Ge()}(e.currentDocument):Us.Ge();if(e.update){var r=is(t,e.update.name),i=new no({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Vs((t.fieldPaths||[]).map((function(t){return Vr.U(t)})))}(e.updateMask);return new Qs(r,i,s,n)}return new Ks(r,i,n)}if(e.delete){var o=is(t,e.delete);return new to(o,n)}if(e.transform){var a=is(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(_r("REQUEST_TIME"===e.setToServerValue),n=new As):"appendMissingElements"in e?n=new Ns(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ps(e.removeAllFromArray.values||[]):"increment"in e?n=new Ds(t,e.increment):vr();var r=Vr.U(e.fieldPath);return new Fs(r,n)}(t,e)}));return _r(!0===n.exists),new Ys(a,u)}if(e.verify){var l=is(t,e.verify);return new eo(l,n)}return vr()}function fs(t,e){return{documents:[ss(t,e.path)]}}function ds(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ss(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ss(t,r.S()),n.structuredQuery.from=[{collectionId:r.C()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(zi(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NAN"}};if(Bi(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(zi(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NOT_NAN"}};if(Bi(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(t.field),op:vs(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:_s(t.field),direction:ys(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.Ue||jr(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=ms(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ms(e.endAt)),n}function ps(t){var e=os(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_r(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[Es(e)]:void 0!==e.fieldFilter?[bs(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):vr():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new qo(ws(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return jr(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=gs(n.startAt));var c=null;return n.endAt&&(c=gs(n.endAt)),co(e,i,a,o,u,"F",l,c)}function ms(t){return{before:t.before,values:t.position}}function gs(t){return new Vo(t.values||[],!!t.before)}function ys(t){return Hi[t]}function vs(t){return Gi[t]}function _s(t){return{fieldPath:t.M()}}function ws(t){return Vr.U(t.fieldPath)}function bs(t){return ko.create(ws(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return vr()}}(t.fieldFilter.op),t.fieldFilter.value)}function Es(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ws(t.unaryFilter.field);return ko.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ws(t.unaryFilter.field);return ko.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ws(t.unaryFilter.field);return ko.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ws(t.unaryFilter.field);return ko.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return vr()}}function Cs(t){var e=[];return t.fields.forEach((function(t){return e.push(t.M())})),{fieldPaths:e}}function Ss(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ts=function(){this.ze=void 0};function xs(t,e,n){return t instanceof As?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ns?Os(t,e):t instanceof Ps?Rs(t,e):function(t,e){var n=ks(t,e),r=Ls(n)+Ls(t.Ke);return Ui(n)&&Ui(t.Ke)?Ki(r):Qi(t.serializer,r)}(t,e)}function Is(t,e,n){return t instanceof Ns?Os(t,e):t instanceof Ps?Rs(t,e):n}function ks(t,e){return t instanceof Ds?Ui(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var As=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(Ts),Ns=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return i(e,t),e}(Ts);function Os(t,e){for(var n=Ms(e),r=function(t){n.some((function(e){return Oi(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ps=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return i(e,t),e}(Ts);function Rs(t,e){for(var n=Ms(e),r=function(t){n=n.filter((function(e){return!Oi(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ds=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.Ke=n,r}return i(e,t),e}(Ts);function Ls(t){return Vi(t.integerValue||t.doubleValue)}function Ms(t){return qi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Vs=function(){function t(t){this.fields=t,t.sort(Vr.V)}return t.prototype.He=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].N(t))return!0;return!1},t.prototype.isEqual=function(t){return Sr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Fs=function(t,e){this.field=t,this.transform=e},js=function(t,e){this.version=t,this.transformResults=e},Us=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Ge=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"We",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function qs(t,e){return void 0!==t.updateTime?e instanceof oo&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof oo}var Bs=function(){};function zs(t,e,n){return t instanceof Ks?function(t,e,n){return new oo(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Qs?function(t,e,n){if(!qs(t.je,e))return new uo(t.key,n.version);var r=Zs(t,e);return new oo(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ys?function(t,e,n){if(_r(null!=n.transformResults),!qs(t.je,e))return new uo(t.key,n.version);var r=Xs(0,e),i=function(t,e,n){var r=[];_r(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof oo&&(a=e.field(s.field)),r.push(Is(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=Js(t,r.data(),i);return new oo(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new ao(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function $s(t,e,n,r){return t instanceof Ks?function(t,e){if(!qs(t.je,e))return e;var n=Ws(e);return new oo(t.key,n,t.value,{Je:!0})}(t,e):t instanceof Qs?function(t,e){if(!qs(t.je,e))return e;var n=Ws(e),r=Zs(t,e);return new oo(t.key,n,r,{Je:!0})}(t,e):t instanceof Ys?function(t,e,n,r){if(!qs(t.je,e))return e;var i=Xs(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,l=null;n instanceof oo&&(l=n.field(a.field)),null===l&&r instanceof oo&&(l=r.field(a.field)),i.push(xs(u,l,e))}return i}(t.fieldTransforms,n,e,r),o=Js(t,i.data(),s);return new oo(t.key,i.version,o,{Je:!0})}(t,e,r,n):function(t,e){return qs(t.je,e)?new ao(t.key,Rr.min()):e}(t,e)}function Hs(t,e){return t instanceof Ys?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof oo?e.field(s.field):void 0,a=ks(s.transform,o||null);null!=a&&(n=null==n?(new ro).set(s.field,a):n.set(s.field,a))}return n?n.Ye():null}(t,e):null}function Gs(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.je.isEqual(e.je)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||Sr(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ns&&e instanceof Ns||t instanceof Ps&&e instanceof Ps?Sr(t.elements,e.elements,Oi):t instanceof Ds&&e instanceof Ds?Oi(t.Ke,e.Ke):t instanceof As&&e instanceof As}(t.transform,e.transform)}(t,e)})))}function Ws(t){return t instanceof oo?t.version:Rr.min()}var Ks=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.je=r,i.type=0,i}return i(e,t),e}(Bs),Qs=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Qe=r,s.je=i,s.type=1,s}return i(e,t),e}(Bs);function Zs(t,e){return function(t,e){var n=new ro(e);return t.Qe.fields.forEach((function(e){if(!e.T()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Ye()}(t,e instanceof oo?e.data():no.empty())}var Ys=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.je=Us.exists(!0),r}return i(e,t),e}(Bs);function Xs(t,e){return e}function Js(t,e,n){for(var r=new ro(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Ye()}var to=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.je=n,r.type=3,r}return i(e,t),e}(Bs),eo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.je=n,r.type=4,r}return i(e,t),e}(Bs),no=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.T())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!$i(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.C()])||null},t.prototype.isEqual=function(t){return Oi(this.proto,t.proto)},t}(),ro=function(){function t(t){void 0===t&&(t=no.empty()),this.Xe=t,this.Ze=new Map}return t.prototype.set=function(t,e){return this.tn(t,e),this},t.prototype.delete=function(t){return this.tn(t,null),this},t.prototype.tn=function(t,e){for(var n=this.Ze,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Ni(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.C(),e)},t.prototype.Ye=function(){var t=this.en(Vr.$(),this.Ze);return null!=t?new no(t):this.Xe},t.prototype.en=function(t,e){var n=this,r=!1,i=this.Xe.field(t),s=$i(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.en(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function io(t){var e=[];return Ir(t.fields||{},(function(t,n){var r=new Vr([t]);if($i(n)){var i=io(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new Vs(e)}var so=function(t,e){this.key=t,this.version=e},oo=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).nn=r,s.Je=!!i.Je,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return i(e,t),e.prototype.field=function(t){return this.nn.field(t)},e.prototype.data=function(){return this.nn},e.prototype.sn=function(){return this.nn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.nn.isEqual(t.nn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(so),ao=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(so),uo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(so),lo=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.rn=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.on=null,this.an=null};function co(t,e,n,r,i,s,o,a){return new lo(t,e,n,r,i,s,o,a)}function ho(t){return new lo(t)}function fo(t){return!jr(t.limit)&&"F"===t.limitType}function po(t){return!jr(t.limit)&&"L"===t.limitType}function mo(t){return t.rn.length>0?t.rn[0].field:null}function go(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.cn())return r.field}return null}function yo(t){return null!==t.collectionGroup}function vo(t){var e=wr(t);if(null===e.on){e.on=[];var n=go(e),r=mo(e);if(null!==n&&null===r)n.B()||e.on.push(new qo(n)),e.on.push(new qo(Vr.q(),"asc"));else{for(var i=!1,s=0,o=e.rn;s<o.length;s++){var a=o[s];e.on.push(a),a.field.B()&&(i=!0)}if(!i){var u=e.rn.length>0?e.rn[e.rn.length-1].dir:"asc";e.on.push(new qo(Vr.q(),u))}}}return e.on}function _o(t){var e=wr(t);if(!e.an)if("F"===e.limitType)e.an=zr(e.path,e.collectionGroup,vo(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=vo(e);r<i.length;r++){var s=i[r];n.push(new qo(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Vo(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Vo(e.startAt.position,!e.startAt.before):null;e.an=zr(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.an}function wo(t,e,n){return new lo(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bo(t,e){return new lo(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}function Eo(t,e){return new lo(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}function Co(t,e){return Hr(_o(t),_o(e))&&t.limitType===e.limitType}function So(t){return $r(_o(t))+"|lt:"+t.limitType}function To(t){return"Query(target="+function(t){var e=t.path.M();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.M()+" "+e.op+" "+Li(e.value);var e})).join(", ")+"]"),jr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.M()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Fo(t.startAt)),t.endAt&&(e+=", endAt: "+Fo(t.endAt)),"Target("+e+")"}(_o(t))+"; limitType="+t.limitType+")"}function xo(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.j(t.collectionGroup)&&t.path.N(n):Fr.G(t.path)?t.path.isEqual(n):t.path.F(n)}(t,e)&&function(t,e){for(var n=0,r=t.rn;n<r.length;n++){var i=r[n];if(!i.field.B()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!jo(t.startAt,vo(t),e)||t.endAt&&jo(t.endAt,vo(t),e))}(t,e)}function Io(t){return function(e,n){for(var r=!1,i=0,s=vo(t);i<s.length;i++){var o=s[i],a=Bo(o,e,n);if(0!==a)return a;r=r||o.field.B()}return 0}}var ko=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return i(e,t),e.create=function(t,n,r){return t.B()?"in"===n||"not-in"===n?this.un(t,n,r):new Ao(t,n,r):"array-contains"===n?new Ro(t,r):"in"===n?new Do(t,r):"not-in"===n?new Lo(t,r):"array-contains-any"===n?new Mo(t,r):new e(t,n,r)},e.un=function(t,e,n){return"in"===e?new No(t,n):new Oo(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.hn(Ri(e,this.value)):null!==e&&Ni(this.value)===Ni(e)&&this.hn(Ri(e,this.value))},e.prototype.hn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return vr()}},e.prototype.cn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ao=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Fr.W(r.referenceValue),i}return i(e,t),e.prototype.matches=function(t){var e=Fr.V(t.key,this.key);return this.hn(e)},e}(ko),No=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Po(0,n),r}return i(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ko),Oo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Po(0,n),r}return i(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ko);function Po(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Fr.W(t.referenceValue)}))}var Ro=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return i(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return qi(e)&&Pi(e.arrayValue,this.value)},e}(ko),Do=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return i(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Pi(this.value.arrayValue,e)},e}(ko),Lo=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return i(e,t),e.prototype.matches=function(t){if(Pi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Pi(this.value.arrayValue,e)},e}(ko),Mo=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return i(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!qi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Pi(e.value.arrayValue,t)}))},e}(ko),Vo=function(t,e){this.position=t,this.before=e};function Fo(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Li(t)})).join(",")}function jo(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.B()?Fr.V(Fr.W(o.referenceValue),n.key):Ri(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Uo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Oi(t.position[n],e.position[n]))return!1;return!0}var qo=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Bo(t,e,n){var r=t.field.B()?Fr.V(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Ri(r,i):vr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return vr()}}function zo(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var $o=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Ho=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.ln=t,this._n=e,this.fn=n,this.dn=r,this.wn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}return t.prototype.reset=function(){this.Tn=0},t.prototype.mn=function(){this.Tn=this.wn},t.prototype.An=function(t){var e=this;this.cancel();var n=Math.floor(this.Tn+this.Rn()),r=Math.max(0,Date.now()-this.In),i=Math.max(0,n-r);i>0&&pr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this.ln.Pn(this._n,i,(function(){return e.In=Date.now(),t()})),this.Tn*=this.dn,this.Tn<this.fn&&(this.Tn=this.fn),this.Tn>this.wn&&(this.Tn=this.wn)},t.prototype.gn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},t.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},t.prototype.Rn=function(){return(Math.random()-.5)*this.Tn},t}(),Go=function(){function t(t){var e=this;this.yn=null,this.pn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.bn=!1,t((function(t){e.vn=!0,e.result=t,e.yn&&e.yn(t)}),(function(t){e.vn=!0,e.error=t,e.pn&&e.pn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.bn&&vr(),this.bn=!0,this.vn?this.error?this.Sn(n,this.error):this.Dn(e,this.result):new t((function(t,i){r.yn=function(n){r.Dn(e,n).next(t,i)},r.pn=function(e){r.Sn(n,e).next(t,i)}}))},t.prototype.Cn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Nn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Dn=function(e,n){return e?this.Nn((function(){return e(n)})):t.resolve(n)},t.prototype.Sn=function(e,n){return e?this.Nn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.xn=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.Fn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.xn(r)},t}(),Wo=function(){function t(e,n,r){this.name=e,this.version=n,this.On=r,12.2===t.Mn(Object(c.g)())&&mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return pr("SimpleDb","Removing database:",t),Jo(window.indexedDB.deleteDatabase(t)).Cn()},t.kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.$n())return!0;var e=Object(c.g)(),n=t.Mn(e),r=0<n&&n<10,i=t.Ln(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.$n=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Bn)},t.qn=function(t,e){return t.store(e)},t.Mn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Ln=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Un=function(t){return s(this,void 0,void 0,(function(){var e,n=this;return o(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(pr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Qo(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Or(Nr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Qo(t,n))},i.onupgradeneeded=function(t){pr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.On.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){pr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Qn&&(this.db.onversionchange=function(t){return n.Qn(t)}),this.db)]}}))}))},t.prototype.Kn=function(t){this.Qn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return s(this,void 0,void 0,(function(){var i,s,a,u,l;return o(this,(function(c){switch(c.label){case 0:i="readonly"===e,s=0,a=function(){var e,a,l,c,h;return o(this,(function(o){switch(o.label){case 0:++s,o.label=1;case 1:return o.trys.push([1,4,,5]),[4,u.Un(t)];case 2:return u.db=o.sent(),e=Yo.open(u.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),Go.reject(t)})).Cn(),l={},a.catch((function(){})),[4,e.Wn];case 3:return[2,(l.value=(o.sent(),a),l)];case 4:return pr("SimpleDb","Transaction failed with error:",(c=o.sent()).message,"Retrying:",h="FirebaseError"!==c.name&&s<3),u.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(l=c.sent()))return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ko=function(){function t(t){this.jn=t,this.Gn=!1,this.zn=null}return Object.defineProperty(t.prototype,"vn",{get:function(){return this.Gn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Hn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.jn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Gn=!0},t.prototype.Jn=function(t){this.zn=t},t.prototype.delete=function(){return Jo(this.jn.delete())},t}(),Qo=function(t){function e(e,n){var r=this;return(r=t.call(this,Nr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return i(e,t),e}(Or);function Zo(t){return"IndexedDbTransactionError"===t.name}var Yo=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Yn=new $o,this.transaction.oncomplete=function(){n.Yn.resolve()},this.transaction.onabort=function(){e.error?n.Yn.reject(new Qo(t,e.error)):n.Yn.resolve()},this.transaction.onerror=function(e){var r=ea(e.target.error);n.Yn.reject(new Qo(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Qo(n,e)}},Object.defineProperty(t.prototype,"Wn",{get:function(){return this.Yn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Yn.reject(t),this.aborted||(pr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Xo(e)},t}(),Xo=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(pr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(pr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Jo(n)},t.prototype.add=function(t){return pr("SimpleDb","ADD",this.store.name,t,t),Jo(this.store.add(t))},t.prototype.get=function(t){var e=this;return Jo(this.store.get(t)).next((function(n){return void 0===n&&(n=null),pr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return pr("SimpleDb","DELETE",this.store.name,t),Jo(this.store.delete(t))},t.prototype.count=function(){return pr("SimpleDb","COUNT",this.store.name),Jo(this.store.count())},t.prototype.Xn=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Zn(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ts=function(t,e){pr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.es=!1;var r=this.cursor(n);return this.Zn(r,(function(t,e,n){return n.delete()}))},t.prototype.ns=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Zn(r,e)},t.prototype.ss=function(t){var e=this.cursor({});return new Go((function(n,r){e.onerror=function(t){var e=ea(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Zn=function(t,e){var n=[];return new Go((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Ko(i),o=e(i.primaryKey,i.value,s);if(o instanceof Go){var a=o.catch((function(t){return s.done(),Go.reject(t)}));n.push(a)}s.vn?r():null===s.Hn?i.continue():i.continue(s.Hn)}else r()}})).next((function(){return Go.xn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.es?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Jo(t){return new Go((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ea(t.target.error);n(e)}}))}var ta=!1;function ea(t){var e=Wo.Mn(Object(c.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Or("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ta||(ta=!0,setTimeout((function(){throw r}),0)),r}}return t}function na(){return"undefined"!=typeof window?window:null}function ra(){return"undefined"!=typeof document?document:null}var ia=function(){function t(t,e,n,r,i){this.rs=t,this._n=e,this.os=n,this.op=r,this.cs=i,this.us=new $o,this.then=this.us.promise.then.bind(this.us.promise),this.us.promise.catch((function(t){}))}return t.hs=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.ls=setTimeout((function(){return e._s()}),t)},t.prototype.Vn=function(){return this._s()},t.prototype.cancel=function(t){null!==this.ls&&(this.clearTimeout(),this.us.reject(new Or(Nr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype._s=function(){var t=this;this.rs.fs((function(){return null!==t.ls?(t.clearTimeout(),t.op().then((function(e){return t.us.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.ls&&(this.cs(this),clearTimeout(this.ls),this.ls=null)},t}(),sa=function(){function t(){var t=this;this.ds=Promise.resolve(),this.ws=[],this.Ts=!1,this.Es=[],this.Is=null,this.As=!1,this.Rs=[],this.Ps=new Ho(this,"async_queue_retry"),this.gs=function(){var e=ra();e&&pr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ps.gn()};var e=ra();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.gs)}return Object.defineProperty(t.prototype,"Vs",{get:function(){return this.Ts},enumerable:!1,configurable:!0}),t.prototype.fs=function(t){this.enqueue(t)},t.prototype.ys=function(t){this.ps(),this.vs(t)},t.prototype.bs=function(){if(!this.Ts){this.Ts=!0;var t=ra();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.gs)}},t.prototype.enqueue=function(t){return this.ps(),this.Ts?new Promise((function(t){})):this.vs(t)},t.prototype.Ss=function(t){var e=this;this.fs((function(){return e.ws.push(t),e.Ds()}))},t.prototype.Ds=function(){return s(this,void 0,void 0,(function(){var t,e=this;return o(this,(function(n){switch(n.label){case 0:if(0===this.ws.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.ws[0]()];case 2:return n.sent(),this.ws.shift(),this.Ps.reset(),[3,4];case 3:if(!Zo(t=n.sent()))throw t;return pr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.ws.length>0&&this.Ps.An((function(){return e.Ds()})),n.label=5;case 5:return[2]}}))}))},t.prototype.vs=function(t){var e=this,n=this.ds.then((function(){return e.As=!0,t().catch((function(t){throw e.Is=t,e.As=!1,mr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.As=!1,t}))}));return this.ds=n,n},t.prototype.Pn=function(t,e,n){var r=this;this.ps(),this.Rs.indexOf(t)>-1&&(e=0);var i=ia.hs(this,t,e,n,(function(t){return r.Cs(t)}));return this.Es.push(i),i},t.prototype.ps=function(){this.Is&&vr()},t.prototype.Ns=function(){},t.prototype.xs=function(){return s(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return[4,t=this.ds];case 1:e.sent(),e.label=2;case 2:if(t!==this.ds)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Fs=function(t){for(var e=0,n=this.Es;e<n.length;e++)if(n[e]._n===t)return!0;return!1},t.prototype.Os=function(t){var e=this;return this.xs().then((function(){e.Es.sort((function(t,e){return t.os-e.os}));for(var n=0,r=e.Es;n<r.length;n++){var i=r[n];if(i.Vn(),"all"!==t&&i._n===t)break}return e.xs()}))},t.prototype.Ms=function(t){this.Rs.push(t)},t.prototype.Cs=function(t){var e=this.Es.indexOf(t);this.Es.splice(e,1)},t}();function oa(t,e){if(mr("AsyncQueue",e+": "+t),Zo(t))return new Or(Nr.UNAVAILABLE,e+": "+t);throw t}var aa=function(){this.ks=void 0,this.listeners=[]},ua=function(){this.queries=new Ar((function(t){return So(t)}),Co),this.onlineState="Unknown",this.$s=new Set};function la(t,e){return s(this,void 0,void 0,(function(){var n,r,i,s,a,u,l;return o(this,(function(o){switch(o.label){case 0:if(n=wr(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new aa),!i)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),a=s,[4,n.Ls(r)];case 2:return a.ks=o.sent(),[3,4];case 3:return u=o.sent(),l=oa(u,"Initialization of query '"+To(e.query)+"' failed"),[2,void e.onError(l)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Bs(n.onlineState),s.ks&&e.qs(s.ks)&&da(n),[2]}}))}))}function ca(t,e){return s(this,void 0,void 0,(function(){var n,r,i,s,a;return o(this,(function(o){return n=wr(t),i=!1,(s=n.queries.get(r=e.query))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Us(r))]:[2]}))}))}function ha(t,e){for(var n=wr(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,l=a.listeners;u<l.length;u++)l[u].qs(o)&&(r=!0);a.ks=o}}r&&da(n)}function fa(t,e,n){var r=wr(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function da(t){t.$s.forEach((function(t){t.next()}))}var pa=function(){function t(t,e,n){this.query=t,this.Qs=e,this.Ks=!1,this.Ws=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new yi(t.query,t.docs,t.Ut,e,t.Qt,t.fromCache,t.Kt,!0)}var s=!1;return this.Ks?this.js(t)&&(this.Qs.next(t),s=!0):this.Gs(t,this.onlineState)&&(this.zs(t),s=!0),this.Ws=t,s},t.prototype.onError=function(t){this.Qs.error(t)},t.prototype.Bs=function(t){this.onlineState=t;var e=!1;return this.Ws&&!this.Ks&&this.Gs(this.Ws,t)&&(this.zs(this.Ws),e=!0),e},t.prototype.Gs=function(t,e){return!t.fromCache||!(this.options.Hs&&"Offline"!==e||t.docs.T()&&"Offline"!==e)},t.prototype.js=function(t){return t.docChanges.length>0||!!(t.Kt||this.Ws&&this.Ws.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.zs=function(t){t=yi.jt(t.query,t.docs,t.Qt,t.fromCache),this.Ks=!0,this.Qs.next(t)},t}(),ma=function(){function t(t){this.uid=t}return t.prototype.Js=function(){return null!=this.uid},t.prototype.Ys=function(){return this.Js()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();ma.UNAUTHENTICATED=new ma(null),ma.Xs=new ma("google-credentials-uid"),ma.Zs=new ma("first-party-uid");var ga=function(t,e){this.user=e,this.type="OAuth",this.ti={},this.ti.Authorization="Bearer "+t},ya=function(){function t(){this.ei=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.ni=function(){},t.prototype.si=function(t){this.ei=t,t(ma.UNAUTHENTICATED)},t.prototype.ii=function(){this.ei=null},t}(),va=function(){function t(t){var e=this;this.ri=null,this.currentUser=ma.UNAUTHENTICATED,this.oi=!1,this.ai=0,this.ei=null,this.forceRefresh=!1,this.ri=function(){e.ai++,e.currentUser=e.ci(),e.oi=!0,e.ei&&e.ei(e.currentUser)},this.ai=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ri):(this.ri(null),t.get().then((function(t){e.auth=t,e.ri&&e.auth.addAuthTokenListener(e.ri)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.ai,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.ai!==e?(pr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(_r("string"==typeof n.accessToken),new ga(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.ni=function(){this.forceRefresh=!0},t.prototype.si=function(t){this.ei=t,this.oi&&t(this.currentUser)},t.prototype.ii=function(){this.auth&&this.auth.removeAuthTokenListener(this.ri),this.ri=null,this.ei=null},t.prototype.ci=function(){var t=this.auth&&this.auth.getUid();return _r(null===t||"string"==typeof t),new ma(t)},t}(),_a=function(){function t(t,e){this.ui=t,this.hi=e,this.type="FirstParty",this.user=ma.Zs}return Object.defineProperty(t.prototype,"ti",{get:function(){var t={"X-Goog-AuthUser":this.hi},e=this.ui.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),wa=function(){function t(t,e){this.ui=t,this.hi=e}return t.prototype.getToken=function(){return Promise.resolve(new _a(this.ui,this.hi))},t.prototype.si=function(t){t(ma.Zs)},t.prototype.ii=function(){},t.prototype.ni=function(){},t}(),ba=function(){function t(t,e,n,r){this.batchId=t,this.li=e,this.baseMutations=n,this.mutations=r}return t.prototype._i=function(t,e,n){for(var r=n.fi,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=zs(s,e,r[i]))}return e},t.prototype.di=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=$s(i,e,e,this.li))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=$s(u,e,s,this.li))}return e},t.prototype.wi=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.di(r.key,t.get(r.key));i&&(n=n.rt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),fi())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Sr(this.mutations,t.mutations,(function(t,e){return Gs(t,e)}))&&Sr(this.baseMutations,t.baseMutations,(function(t,e){return Gs(t,e)}))},t}(),Ea=function(){function t(t,e,n,r){this.batch=t,this.Ti=e,this.fi=n,this.Ei=r}return t.from=function(e,n,r){_r(e.mutations.length===r.length);for(var i=ci,s=e.mutations,o=0;o<s.length;o++)i=i.rt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Ca=function(){function t(){this.Ii=new Ar((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mi=!1}return t.prototype.Ai=function(t){var e=this.Ii.get(t);return e?e.readTime:Rr.min()},t.prototype.Ri=function(t,e){this.Pi(),this.Ii.set(t.key,{gi:t,readTime:e})},t.prototype.Vi=function(t,e){void 0===e&&(e=null),this.Pi(),this.Ii.set(t,{gi:null,readTime:e})},t.prototype.yi=function(t,e){this.Pi();var n=this.Ii.get(e);return void 0!==n?Go.resolve(n.gi):this.pi(t,e)},t.prototype.getEntries=function(t,e){return this.vi(t,e)},t.prototype.apply=function(t){return this.Pi(),this.mi=!0,this.bi(t)},t.prototype.Pi=function(){},t}();function Sa(t){return new Wi(t,!0)}function Ta(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var xa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ia=function(){function t(){this.Si=[]}return t.prototype.Di=function(t){this.Si.push(t)},t.prototype.Ci=function(){this.Si.forEach((function(t){return t()}))},t}(),ka=function(){function t(t,e,n){this.Ni=t,this.xi=e,this.Fi=n}return t.prototype.Oi=function(t,e){var n=this;return this.xi.Mi(t,e).next((function(r){return n.ki(t,e,r)}))},t.prototype.ki=function(t,e,n){return this.Ni.yi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].di(e,t);return t}))},t.prototype.$i=function(t,e,n){var r=ai();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].di(t,e);r=r.rt(t,e)})),r},t.prototype.Li=function(t,e){var n=this;return this.Ni.getEntries(t,e).next((function(e){return n.Bi(t,e)}))},t.prototype.Bi=function(t,e){var n=this;return this.xi.qi(t,e).next((function(r){var i=n.$i(t,e,r),s=oi();return i.forEach((function(t,e){e||(e=new ao(t,Rr.min())),s=s.rt(t,e)})),s}))},t.prototype.Ui=function(t,e,n){return function(t){return Fr.G(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Qi(t,e.path):yo(e)?this.Ki(t,e,n):this.Wi(t,e,n)},t.prototype.Qi=function(t,e){return this.Oi(t,new Fr(e)).next((function(t){var e=li();return t instanceof oo&&(e=e.rt(t.key,t)),e}))},t.prototype.Ki=function(t,e,n){var r=this,i=e.collectionGroup,s=li();return this.Fi.ji(t,i).next((function(o){return Go.forEach(o,(function(o){var a=function(t,e){return new lo(e,null,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Wi(t,a,n).next((function(t){t.forEach((function(t,e){s=s.rt(t,e)}))}))})).next((function(){return s}))}))},t.prototype.Wi=function(t,e,n){var r,i,s=this;return this.Ni.Ui(t,e,n).next((function(n){return r=n,s.xi.Gi(t,e)})).next((function(e){return s.zi(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],l=u.key,c=r.get(l),h=$s(u,c,c,s.li);r=h instanceof oo?r.rt(l,h):r.remove(l)}}))})).next((function(){return r.forEach((function(t,n){xo(e,n)||(r=r.remove(t))})),r}))},t.prototype.zi=function(t,e,n){for(var r=fi(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Qs&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Ni.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof oo&&(l=l.rt(t,e))})),l}))},t}(),Aa=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Hi=n,this.Ji=r}return t.Yi=function(e,n){for(var r=fi(),i=fi(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Na=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Xi=function(t){return n.Zi(t)},this.tr=function(t){return e.er(t)})}return t.prototype.Zi=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.tr&&this.tr(t),t},t}();function Oa(t,e){var n=t[1],r=e[1],i=Cr(t[0],e[0]);return 0===i?Cr(n,r):i}Na.nr=-1;var Pa=function(){function t(t){this.sr=t,this.buffer=new ri(Oa),this.ir=0}return t.prototype.rr=function(){return++this.ir},t.prototype.ar=function(t){var e=[t,this.rr()];if(this.buffer.size<this.sr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Oa(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ra={cr:!1,ur:0,hr:0,lr:0},Da=function(){function t(t,e,n){this._r=t,this.dr=e,this.wr=n}return t.Tr=function(e){return new t(e,t.Er,t.Ir)},t}();Da.Er=10,Da.Ir=1e3,Da.mr=new Da(41943040,Da.Er,Da.Ir),Da.Ar=new Da(-1,0,0);var La=function(){function t(t,e){this.Rr=t,this.rs=e,this.Pr=!1,this.gr=null}return t.prototype.start=function(t){-1!==this.Rr.params._r&&this.Vr(t)},t.prototype.stop=function(){this.gr&&(this.gr.cancel(),this.gr=null)},Object.defineProperty(t.prototype,"yr",{get:function(){return null!==this.gr},enumerable:!1,configurable:!0}),t.prototype.Vr=function(t){var e=this,n=this.Pr?3e5:6e4;pr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.gr=this.rs.Pn("lru_garbage_collection",n,(function(){return s(e,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:this.gr=null,this.Pr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.pr(this.Rr)];case 2:return n.sent(),[3,7];case 3:return Zo(e=n.sent())?(pr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ul(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Vr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Ma=function(){function t(t,e){this.vr=t,this.params=e}return t.prototype.br=function(t,e){return this.vr.Sr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Dr=function(t,e){var n=this;if(0===e)return Go.resolve(Na.nr);var r=new Pa(e);return this.vr.De(t,(function(t){return r.ar(t.sequenceNumber)})).next((function(){return n.vr.Cr(t,(function(t){return r.ar(t)}))})).next((function(){return r.maxValue}))},t.prototype.Nr=function(t,e,n){return this.vr.Nr(t,e,n)},t.prototype.Fr=function(t,e){return this.vr.Fr(t,e)},t.prototype.Or=function(t,e){var n=this;return-1===this.params._r?(pr("LruGarbageCollector","Garbage collection skipped; disabled"),Go.resolve(Ra)):this.Mr(t).next((function(r){return r<n.params._r?(pr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params._r),Ra):n.kr(t,e)}))},t.prototype.Mr=function(t){return this.vr.Mr(t)},t.prototype.kr=function(t,e){var n,r,i,s,o,a,u,c=this,h=Date.now();return this.br(t,this.params.dr).next((function(e){return e>c.params.wr?(pr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.wr+" from "+e),r=c.params.wr):r=e,s=Date.now(),c.Dr(t,r)})).next((function(r){return n=r,o=Date.now(),c.Nr(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.Fr(t,n)})).next((function(t){return u=Date.now(),dr()<=l.a.DEBUG&&pr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-h)+"ms"),Go.resolve({cr:!0,ur:r,hr:i,lr:t})}))},t}();function Va(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ja(e)),e=Fa(t.get(n),e);return ja(e)}function Fa(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function ja(t){return t+"\x01\x01"}function Ua(t){var e=t.length;if(_r(e>=2),2===e)return _r("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Lr.$();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&vr(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:vr()}s=o+2}return new Lr(r)}var qa=function(t){this.$r=t};function Ba(t,e){if(e.document)return function(t,e,n){var r=is(t,e.name),i=ts(e.updateTime),s=new no({mapValue:{fields:e.fields}});return new oo(r,i,s,{hasCommittedMutations:!!n})}(t.$r,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Fr.H(e.noDocument.path),r=Wa(e.noDocument.readTime);return new ao(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Fr.H(e.unknownDocument.path),s=Wa(e.unknownDocument.version);return new uo(i,s)}return vr()}function za(t,e,n){var r=$a(n),i=e.key.path.S().O();if(e instanceof oo){var s=function(t,e){return{name:rs(t,e.key),fields:e.sn().mapValue.fields,updateTime:Yi(t,e.version.P())}}(t.$r,e);return new wu(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof ao){var o=e.key.path.O(),a=Ga(e.version),u=e.hasCommittedMutations;return new wu(null,new vu(o,a),null,u,r,i)}if(e instanceof uo){var l=e.key.path.O(),c=Ga(e.version);return new wu(new _u(l,c),null,null,!0,r,i)}return vr()}function $a(t){var e=t.P();return[e.seconds,e.nanoseconds]}function Ha(t){var e=new Pr(t[0],t[1]);return Rr.m(e)}function Ga(t){var e=t.P();return new du(e.seconds,e.nanoseconds)}function Wa(t){var e=new Pr(t.seconds,t.nanoseconds);return Rr.m(e)}function Ka(t,e){var n=(e.baseMutations||[]).map((function(e){return hs(t.$r,e)})),r=e.mutations.map((function(e){return hs(t.$r,e)})),i=Pr.fromMillis(e.localWriteTimeMs);return new ba(e.batchId,i,n,r)}function Qa(t){var e,n,r=Wa(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Wa(t.lastLimboFreeSnapshotVersion):Rr.min();return void 0!==t.query.documents?(_r(1===(n=t.query).documents.length),e=_o(ho(os(n.documents[0])))):e=function(t){return _o(ps(t))}(t.query),new Zr(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Wr.fromBase64String(t.resumeToken))}function Za(t,e){var n,r=Ga(e.et),i=Ga(e.lastLimboFreeSnapshotVersion);n=Gr(e.target)?fs(t.$r,e.target):ds(t.$r,e.target);var s=e.resumeToken.toBase64();return new Eu(e.targetId,$r(e.target),r,s,e.sequenceNumber,i,n)}function Ya(t){var e=ps({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?wo(e,e.limit,"L"):e}var Xa=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Fi=n,this.Lr=r,this.Br={}}return t.qr=function(e,n,r,i){return _r(""!==e.uid),new t(e.Js()?e.uid:"",n,r,i)},t.prototype.Ur=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return eu(t).ns({index:gu.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Qr=function(t,e,n,r){var i=this,s=nu(t),o=eu(t);return o.add({}).next((function(a){_r("number"==typeof a);for(var u=new ba(a,e,n,r),l=function(t,e,n){var r=n.baseMutations.map((function(e){return cs(t.$r,e)})),i=n.mutations.map((function(e){return cs(t.$r,e)}));return new gu(e,n.batchId,n.li.toMillis(),r,i)}(i.serializer,i.userId,u),c=[],h=new ri((function(t,e){return Cr(t.M(),e.M())})),f=0,d=r;f<d.length;f++){var p=d[f],m=yu.key(i.userId,p.key.path,a);h=h.add(p.key.path.S()),c.push(o.put(l)),c.push(s.put(m,yu.PLACEHOLDER))}return h.forEach((function(e){c.push(i.Fi.Kr(t,e))})),t.Di((function(){i.Br[a]=u.keys()})),Go.xn(c).next((function(){return u}))}))},t.prototype.Wr=function(t,e){var n=this;return eu(t).get(e).next((function(t){return t?(_r(t.userId===n.userId),Ka(n.serializer,t)):null}))},t.prototype.jr=function(t,e){var n=this;return this.Br[e]?Go.resolve(this.Br[e]):this.Wr(t,e).next((function(t){if(t){var r=t.keys();return n.Br[e]=r,r}return null}))},t.prototype.Gr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return eu(t).ns({index:gu.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(_r(e.batchId>=r),s=Ka(n.serializer,e)),i.done()})).next((function(){return s}))},t.prototype.zr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return eu(t).ns({index:gu.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Hr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return eu(t).Xn(gu.userMutationsIndex,n).next((function(t){return t.map((function(t){return Ka(e.serializer,t)}))}))},t.prototype.Mi=function(t,e){var n=this,r=yu.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return nu(t).ns({range:i},(function(r,i,o){var a=r[0],u=r[2],l=Ua(r[1]);if(a===n.userId&&e.path.isEqual(l))return eu(t).get(u).next((function(t){if(!t)throw vr();_r(t.userId===n.userId),s.push(Ka(n.serializer,t))}));o.done()})).next((function(){return s}))},t.prototype.qi=function(t,e){var n=this,r=new ri(Cr),i=[];return e.forEach((function(e){var s=yu.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=nu(t).ns({range:o},(function(t,i,s){var o=t[0],a=t[2],u=Ua(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()}));i.push(a)})),Go.xn(i).next((function(){return n.Jr(t,r)}))},t.prototype.Gi=function(t,e){var n=this,r=e.path,i=r.length+1,s=yu.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new ri(Cr);return nu(t).ns({range:o},(function(t,e,s){var o=t[0],u=t[2],l=Ua(t[1]);o===n.userId&&r.N(l)?l.length===i&&(a=a.add(u)):s.done()})).next((function(){return n.Jr(t,a)}))},t.prototype.Jr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(eu(t).get(e).next((function(t){if(null===t)throw vr();_r(t.userId===n.userId),r.push(Ka(n.serializer,t))})))})),Go.xn(i).next((function(){return r}))},t.prototype.Yr=function(t,e){var n=this;return tu(t.Xr,this.userId,e).next((function(r){return t.Di((function(){n.Zr(e.batchId)})),Go.forEach(r,(function(e){return n.Lr.eo(t,e)}))}))},t.prototype.Zr=function(t){delete this.Br[t]},t.prototype.no=function(t){var e=this;return this.Ur(t).next((function(n){if(!n)return Go.resolve();var r=IDBKeyRange.lowerBound(yu.prefixForUser(e.userId)),i=[];return nu(t).ns({range:r},(function(t,n,r){if(t[0]===e.userId){var s=Ua(t[1]);i.push(s)}else r.done()})).next((function(){_r(0===i.length)}))}))},t.prototype.so=function(t,e){return Ja(t,this.userId,e)},t.prototype.io=function(t){var e=this;return ru(t).get(this.userId).next((function(t){return t||new mu(e.userId,-1,"")}))},t}();function Ja(t,e,n){var r=yu.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return nu(t).ns({range:s,es:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function tu(t,e,n){var r=t.store(gu.store),i=t.store(yu.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.ns({range:o},(function(t,e,n){return a++,n.delete()}));s.push(u.next((function(){_r(1===a)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=yu.key(e,f.key.path,n.batchId);s.push(i.delete(d)),l.push(f.key)}return Go.xn(s).next((function(){return l}))}function eu(t){return zu.qn(t,gu.store)}function nu(t){return zu.qn(t,yu.store)}function ru(t){return zu.qn(t,mu.store)}var iu=function(){function t(t,e){this.serializer=t,this.Fi=e}return t.prototype.Ri=function(t,e,n){return au(t).put(uu(e),n)},t.prototype.Vi=function(t,e){var n=au(t),r=uu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ro(t,r)}))},t.prototype.yi=function(t,e){var n=this;return au(t).get(uu(e)).next((function(t){return n.oo(t)}))},t.prototype.ao=function(t,e){var n=this;return au(t).get(uu(e)).next((function(t){var e=n.oo(t);return e?{gi:e,size:lu(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ai();return this.co(t,e,(function(t,e){var i=n.oo(e);r=r.rt(t,i)})).next((function(){return r}))},t.prototype.uo=function(t,e){var n=this,r=ai(),i=new ti(Fr.V);return this.co(t,e,(function(t,e){var s=n.oo(e);s?(r=r.rt(t,s),i=i.rt(t,lu(e))):(r=r.rt(t,null),i=i.rt(t,0))})).next((function(){return{ho:r,lo:i}}))},t.prototype.co=function(t,e,n){if(e.T())return Go.resolve();var r=IDBKeyRange.bound(e.first().path.O(),e.last().path.O()),i=e.lt(),s=i.Et();return au(t).ns({range:r},(function(t,e,r){for(var o=Fr.H(t);s&&Fr.V(s,o)<0;)n(s,null),s=i.Et();s&&s.isEqual(o)&&(n(s,e),s=i.It()?i.Et():null),s?r.Jn(s.path.O()):r.done()})).next((function(){for(;s;)n(s,null),s=i.It()?i.Et():null}))},t.prototype.Ui=function(t,e,n){var r=this,i=li(),s=e.path.length+1,o={};if(n.isEqual(Rr.min())){var a=e.path.O();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.O(),l=$a(n);o.range=IDBKeyRange.lowerBound([u,l],!0),o.index=wu.collectionReadTimeIndex}return au(t).ns(o,(function(t,n,o){if(t.length===s){var a=Ba(r.serializer,n);e.path.N(a.key.path)?a instanceof oo&&xo(e,a)&&(i=i.rt(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype._o=function(t){return new su(this,!!t&&t.fo)},t.prototype.wo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return ou(t).get(bu.key).next((function(t){return _r(!!t),t}))},t.prototype.ro=function(t,e){return ou(t).put(bu.key,e)},t.prototype.oo=function(t){if(t){var e=Ba(this.serializer,t);return e instanceof ao&&e.version.isEqual(Rr.min())?null:e}return null},t}(),su=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).To=e,r.fo=n,r.Eo=new Ar((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return i(e,t),e.prototype.bi=function(t){var e=this,n=[],r=0,i=new ri((function(t,e){return Cr(t.M(),e.M())}));return this.Ii.forEach((function(s,o){var a=e.Eo.get(s);if(o.gi){var u=za(e.To.serializer,o.gi,e.Ai(s));i=i.add(s.path.S());var l=lu(u);r+=l-a,n.push(e.To.Ri(t,s,u))}else if(r-=a,e.fo){var c=za(e.To.serializer,new ao(s,Rr.min()),e.Ai(s));n.push(e.To.Ri(t,s,c))}else n.push(e.To.Vi(t,s))})),i.forEach((function(r){n.push(e.To.Fi.Kr(t,r))})),n.push(this.To.updateMetadata(t,r)),Go.xn(n)},e.prototype.pi=function(t,e){var n=this;return this.To.ao(t,e).next((function(t){return null===t?(n.Eo.set(e,0),null):(n.Eo.set(e,t.size),t.gi)}))},e.prototype.vi=function(t,e){var n=this;return this.To.uo(t,e).next((function(t){var e=t.ho;return t.lo.forEach((function(t,e){n.Eo.set(t,e)})),e}))},e}(Ca);function ou(t){return zu.qn(t,bu.store)}function au(t){return zu.qn(t,wu.store)}function uu(t){return t.path.O()}function lu(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw vr();e=t.noDocument}return JSON.stringify(e).length}var cu=function(){function t(){this.Io=new hu}return t.prototype.Kr=function(t,e){return this.Io.add(e),Go.resolve()},t.prototype.ji=function(t,e){return Go.resolve(this.Io.getEntries(e))},t}(),hu=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.C(),n=t.S(),r=this.index[e]||new ri(Lr.V),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.C(),n=t.S(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ri(Lr.V)).O()},t}(),fu=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;_r(n<r&&n>=0&&r<=11);var s=new Yo("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(pu.store)}(t),function(t){t.createObjectStore(mu.store,{keyPath:mu.keyPath}),t.createObjectStore(gu.store,{keyPath:gu.keyPath,autoIncrement:!0}).createIndex(gu.userMutationsIndex,gu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(yu.store)}(t),xu(t),function(t){t.createObjectStore(wu.store)}(t));var o=Go.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Cu.store),t.deleteObjectStore(Eu.store),t.deleteObjectStore(Su.store)}(t),xu(t)),o=o.next((function(){return function(t){var e=t.store(Su.store),n=new Su(0,0,Rr.min().P(),0);return e.put(Su.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(gu.store).Xn().next((function(n){t.deleteObjectStore(gu.store),t.createObjectStore(gu.store,{keyPath:gu.keyPath,autoIncrement:!0}).createIndex(gu.userMutationsIndex,gu.userMutationsKeyPath,{unique:!0});var r=e.store(gu.store),i=n.map((function(t){return r.put(t)}));return Go.xn(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(Iu.store,{keyPath:Iu.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(bu.store)}(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(wu.store);e.createIndex(wu.readTimeIndex,wu.readTimeIndexPath,{unique:!1}),e.createIndex(wu.collectionReadTimeIndex,wu.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.rewriteCanonicalIds(s)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(ku.store,{keyPath:ku.keyPath})}(t),function(t){t.createObjectStore(Au.store,{keyPath:Au.keyPath})}(t)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(wu.store).ns((function(t,n){e+=lu(n)})).next((function(){var n=new bu(e);return t.store(bu.store).put(bu.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(mu.store),r=t.store(gu.store);return n.Xn().next((function(n){return Go.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Xn(gu.userMutationsIndex,i).next((function(r){return Go.forEach(r,(function(r){_r(r.userId===n.userId);var i=Ka(e.serializer,r);return tu(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Cu.store),n=t.store(wu.store);return t.store(Su.store).get(Su.key).next((function(t){var r=[];return n.ns((function(n,i){var s=new Lr(n),o=function(t){return[0,Va(t)]}(s);r.push(e.get(o).next((function(n){return n?Go.resolve():function(n){return e.put(new Cu(0,Va(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return Go.xn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Tu.store,{keyPath:Tu.keyPath});var n=e.store(Tu.store),r=new hu,i=function(t){if(r.add(t)){var e=t.C(),i=t.S();return n.put({collectionId:e,parent:Va(i)})}};return e.store(wu.store).ns({es:!0},(function(t,e){var n=new Lr(t);return i(n.S())})).next((function(){return e.store(yu.store).ns({es:!0},(function(t,e){var n=Ua(t[1]);return i(n.S())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Eu.store);return n.ns((function(t,r){var i=Qa(r),s=Za(e.serializer,i);return n.put(s)}))},t}(),du=function(t,e){this.seconds=t,this.nanoseconds=e},pu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};pu.store="owner",pu.key="owner";var mu=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};mu.store="mutationQueues",mu.keyPath="userId";var gu=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};gu.store="mutations",gu.keyPath="batchId",gu.userMutationsIndex="userMutationsIndex",gu.userMutationsKeyPath=["userId","batchId"];var yu=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Va(e)]},t.key=function(t,e,n){return[t,Va(e),n]},t}();yu.store="documentMutations",yu.PLACEHOLDER=new yu;var vu=function(t,e){this.path=t,this.readTime=e},_u=function(t,e){this.path=t,this.version=e},wu=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};wu.store="remoteDocuments",wu.readTimeIndex="readTimeIndex",wu.readTimeIndexPath="readTime",wu.collectionReadTimeIndex="collectionReadTimeIndex",wu.collectionReadTimeIndexPath=["parentPath","readTime"];var bu=function(t){this.byteSize=t};bu.store="remoteDocumentGlobal",bu.key="remoteDocumentGlobalKey";var Eu=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Eu.store="targets",Eu.keyPath="targetId",Eu.queryTargetsIndexName="queryTargetsIndex",Eu.queryTargetsKeyPath=["canonicalId","targetId"];var Cu=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Cu.store="targetDocuments",Cu.keyPath=["targetId","path"],Cu.documentTargetsIndex="documentTargetsIndex",Cu.documentTargetsKeyPath=["path","targetId"];var Su=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Su.key="targetGlobalKey",Su.store="targetGlobal";var Tu=function(t,e){this.collectionId=t,this.parent=e};function xu(t){t.createObjectStore(Cu.store,{keyPath:Cu.keyPath}).createIndex(Cu.documentTargetsIndex,Cu.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Eu.store,{keyPath:Eu.keyPath}).createIndex(Eu.queryTargetsIndexName,Eu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Su.store)}Tu.store="collectionParents",Tu.keyPath=["collectionId","parent"];var Iu=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Iu.store="clientMetadata",Iu.keyPath="clientId";var ku=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ku.store="bundles",ku.keyPath="bundleId";var Au=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Au.store="namedQueries",Au.keyPath="name";var Nu=a(a(a(a([mu.store,gu.store,yu.store,wu.store,Eu.store,pu.store,Su.store,Cu.store],[Iu.store]),[bu.store]),[Tu.store]),[ku.store,Au.store]),Ou=function(){function t(t){this.serializer=t}return t.prototype.mo=function(t,e){return Pu(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Wa(e.createTime),version:e.version};var e}))},t.prototype.Ao=function(t,e){return Pu(t).put({bundleId:(n=e).id,createTime:Ga(ts(n.createTime)),version:n.version});var n},t.prototype.Ro=function(t,e){return Ru(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Ya(e.bundledQuery),readTime:Wa(e.readTime)};var e}))},t.prototype.Po=function(t,e){return Ru(t).put(function(t){return{name:t.name,readTime:Ga(ts(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Pu(t){return zu.qn(t,ku.store)}function Ru(t){return zu.qn(t,Au.store)}var Du=function(){function t(){this.Vo=new hu}return t.prototype.Kr=function(t,e){var n=this;if(!this.Vo.has(e)){var r=e.C(),i=e.S();t.Di((function(){n.Vo.add(e)}));var s={collectionId:r,parent:Va(i)};return Lu(t).put(s)}return Go.resolve()},t.prototype.ji=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Tr(e),""],!1,!0);return Lu(t).Xn(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Ua(s.parent))}return n}))},t}();function Lu(t){return zu.qn(t,Tu.store)}var Mu=function(){function t(t){this.yo=t}return t.prototype.next=function(){return this.yo+=2,this.yo},t.po=function(){return new t(0)},t.vo=function(){return new t(-1)},t}(),Vu=function(){function t(t,e){this.Lr=t,this.serializer=e}return t.prototype.bo=function(t){var e=this;return this.So(t).next((function(n){var r=new Mu(n.highestTargetId);return n.highestTargetId=r.next(),e.Do(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Co=function(t){return this.So(t).next((function(t){return Rr.m(new Pr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.No=function(t){return this.So(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.xo=function(t,e,n){var r=this;return this.So(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.P()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Do(t,i)}))},t.prototype.Fo=function(t,e){var n=this;return this.Oo(t,e).next((function(){return n.So(t).next((function(r){return r.targetCount+=1,n.Mo(e,r),n.Do(t,r)}))}))},t.prototype.ko=function(t,e){return this.Oo(t,e)},t.prototype.$o=function(t,e){var n=this;return this.Lo(t,e.targetId).next((function(){return Fu(t).delete(e.targetId)})).next((function(){return n.So(t)})).next((function(e){return _r(e.targetCount>0),e.targetCount-=1,n.Do(t,e)}))},t.prototype.Nr=function(t,e,n){var r=this,i=0,s=[];return Fu(t).ns((function(o,a){var u=Qa(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.$o(t,u)))})).next((function(){return Go.xn(s)})).next((function(){return i}))},t.prototype.De=function(t,e){return Fu(t).ns((function(t,n){var r=Qa(n);e(r)}))},t.prototype.So=function(t){return ju(t).get(Su.key).next((function(t){return _r(null!==t),t}))},t.prototype.Do=function(t,e){return ju(t).put(Su.key,e)},t.prototype.Oo=function(t,e){return Fu(t).put(Za(this.serializer,e))},t.prototype.Mo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Bo=function(t){return this.So(t).next((function(t){return t.targetCount}))},t.prototype.qo=function(t,e){var n=$r(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Fu(t).ns({range:r,index:Eu.queryTargetsIndexName},(function(t,n,r){var s=Qa(n);Hr(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.Uo=function(t,e,n){var r=this,i=[],s=Uu(t);return e.forEach((function(e){var o=Va(e.path);i.push(s.put(new Cu(n,o))),i.push(r.Lr.Qo(t,n,e))})),Go.xn(i)},t.prototype.Ko=function(t,e,n){var r=this,i=Uu(t);return Go.forEach(e,(function(e){var s=Va(e.path);return Go.xn([i.delete([n,s]),r.Lr.Wo(t,n,e)])}))},t.prototype.Lo=function(t,e){var n=Uu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.jo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Uu(t),i=fi();return r.ns({range:n,es:!0},(function(t,e,n){var r=Ua(t[1]),s=new Fr(r);i=i.add(s)})).next((function(){return i}))},t.prototype.so=function(t,e){var n=Va(e.path),r=IDBKeyRange.bound([n],[Tr(n)],!1,!0),i=0;return Uu(t).ns({index:Cu.documentTargetsIndex,es:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.qe=function(t,e){return Fu(t).get(e).next((function(t){return t?Qa(t):null}))},t}();function Fu(t){return zu.qn(t,Eu.store)}function ju(t){return zu.qn(t,Su.store)}function Uu(t){return zu.qn(t,Cu.store)}var qu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Bu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xr=e,r.Go=n,r}return i(e,t),e}(Ia),zu=function(){function t(e,n,r,i,s,o,a,u,l,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ln=s,this.window=o,this.document=a,this.zo=l,this.Ho=c,this.Jo=null,this.Yo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Xo=null,this.inForeground=!1,this.Zo=null,this.ta=null,this.ea=Number.NEGATIVE_INFINITY,this.na=function(t){return Promise.resolve()},!t.kn())throw new Or(Nr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Lr=new Gu(this,i),this.sa=n+"main",this.serializer=new qa(u),this.ia=new Wo(this.sa,11,new fu(this.serializer)),this.ra=new Vu(this.Lr,this.serializer),this.Fi=new Du,this.Ni=function(t,e){return new iu(t,e)}(this.serializer,this.Fi),this.oa=new Ou(this.serializer),this.window&&this.window.localStorage?this.aa=this.window.localStorage:(this.aa=null,!1===c&&mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.qn=function(t,e){if(t instanceof Bu)return Wo.qn(t.Xr,e);throw vr()},t.prototype.start=function(){var t=this;return this.ca().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Or(Nr.FAILED_PRECONDITION,qu);return t.ua(),t.ha(),t.la(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ra.No(e)}))})).then((function(e){t.Jo=new Na(e,t.zo)})).then((function(){t.Yo=!0})).catch((function(e){return t.ia&&t.ia.close(),Promise.reject(e)}))},t.prototype._a=function(t){var e=this;return this.na=function(n){return s(e,void 0,void 0,(function(){return o(this,(function(e){return this.yr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.fa=function(t){var e=this;this.ia.Kn((function(n){return s(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.da=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ln.fs((function(){return s(e,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this.yr?[4,this.ca()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.ca=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Hu(e).put(new Iu(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.wa(e).next((function(e){e||(t.isPrimary=!1,t.ln.Ss((function(){return t.na(!1)})))}))})).next((function(){return t.Ta(e)})).next((function(n){return t.isPrimary&&!n?t.Ea(e).next((function(){return!1})):!!n&&t.Ia(e).next((function(){return!0}))}))})).catch((function(e){if(Zo(e))return pr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return pr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.ln.Ss((function(){return t.na(e)})),t.isPrimary=e}))},t.prototype.wa=function(t){var e=this;return $u(t).get(pu.key).next((function(t){return Go.resolve(e.ma(t))}))},t.prototype.Aa=function(t){return Hu(t).delete(this.clientId)},t.prototype.Ra=function(){return s(this,void 0,void 0,(function(){var e,n,r,i=this;return o(this,(function(s){switch(s.label){case 0:return!this.isPrimary||this.Pa(this.ea,18e5)?[3,2]:(this.ea=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.qn(e,Iu.store);return n.Xn().next((function(t){var e=i.ga(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Go.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=s.sent(),this.aa)for(n=0,r=e;n<r.length;n++)this.aa.removeItem(this.Va(r[n].clientId));s.label=2;case 2:return[2]}}))}))},t.prototype.la=function(){var t=this;this.ta=this.ln.Pn("client_metadata_refresh",4e3,(function(){return t.ca().then((function(){return t.Ra()})).then((function(){return t.la()}))}))},t.prototype.ma=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ta=function(t){var e=this;return this.Ho?Go.resolve(!0):$u(t).get(pu.key).next((function(n){if(null!==n&&e.Pa(n.leaseTimestampMs,5e3)&&!e.ya(n.ownerId)){if(e.ma(n)&&e.networkEnabled)return!0;if(!e.ma(n)){if(!n.allowTabSynchronization)throw new Or(Nr.FAILED_PRECONDITION,qu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Hu(t).Xn().next((function(t){return void 0===e.ga(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&pr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.pa=function(){return s(this,void 0,void 0,(function(){var t=this;return o(this,(function(e){switch(e.label){case 0:return this.Yo=!1,this.va(),this.ta&&(this.ta.cancel(),this.ta=null),this.ba(),this.Sa(),[4,this.ia.runTransaction("shutdown","readwrite",[pu.store,Iu.store],(function(e){var n=new Bu(e,Na.nr);return t.Ea(n).next((function(){return t.Aa(n)}))}))];case 1:return e.sent(),this.ia.close(),this.Da(),[2]}}))}))},t.prototype.ga=function(t,e){var n=this;return t.filter((function(t){return n.Pa(t.updateTimeMs,e)&&!n.ya(t.clientId)}))},t.prototype.Ca=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Hu(e).Xn().next((function(e){return t.ga(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"yr",{get:function(){return this.Yo},enumerable:!1,configurable:!0}),t.prototype.Na=function(t){return Xa.qr(t,this.serializer,this.Fi,this.Lr)},t.prototype.xa=function(){return this.ra},t.prototype.Fa=function(){return this.Ni},t.prototype.Oa=function(){return this.Fi},t.prototype.Ma=function(){return this.oa},t.prototype.runTransaction=function(t,e,n){var r,i=this;return pr("IndexedDbPersistence","Starting transaction:",t),this.ia.runTransaction(t,"readonly"===e?"readonly":"readwrite",Nu,(function(s){return r=new Bu(s,i.Jo?i.Jo.next():Na.nr),"readwrite-primary"===e?i.wa(r).next((function(t){return!!t||i.Ta(r)})).next((function(e){if(!e)throw mr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.ln.Ss((function(){return i.na(!1)})),new Or(Nr.FAILED_PRECONDITION,xa);return n(r)})).next((function(t){return i.Ia(r).next((function(){return t}))})):i.ka(r).next((function(){return n(r)}))})).then((function(t){return r.Ci(),t}))},t.prototype.ka=function(t){var e=this;return $u(t).get(pu.key).next((function(t){if(null!==t&&e.Pa(t.leaseTimestampMs,5e3)&&!e.ya(t.ownerId)&&!e.ma(t)&&!(e.Ho||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Or(Nr.FAILED_PRECONDITION,qu)}))},t.prototype.Ia=function(t){var e=new pu(this.clientId,this.allowTabSynchronization,Date.now());return $u(t).put(pu.key,e)},t.kn=function(){return Wo.kn()},t.prototype.Ea=function(t){var e=this,n=$u(t);return n.get(pu.key).next((function(t){return e.ma(t)?(pr("IndexedDbPersistence","Releasing primary lease."),n.delete(pu.key)):Go.resolve()}))},t.prototype.Pa=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(mr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ua=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Zo=function(){t.ln.fs((function(){return t.inForeground="visible"===t.document.visibilityState,t.ca()}))},this.document.addEventListener("visibilitychange",this.Zo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.ba=function(){this.Zo&&(this.document.removeEventListener("visibilitychange",this.Zo),this.Zo=null)},t.prototype.ha=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Xo=function(){e.va(),e.ln.fs((function(){return e.pa()}))},this.window.addEventListener("unload",this.Xo))},t.prototype.Sa=function(){this.Xo&&(this.window.removeEventListener("unload",this.Xo),this.Xo=null)},t.prototype.ya=function(t){var e;try{var n=null!==(null===(e=this.aa)||void 0===e?void 0:e.getItem(this.Va(t)));return pr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return mr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.va=function(){if(this.aa)try{this.aa.setItem(this.Va(this.clientId),String(Date.now()))}catch(t){mr("Failed to set zombie client id.",t)}},t.prototype.Da=function(){if(this.aa)try{this.aa.removeItem(this.Va(this.clientId))}catch(t){}},t.prototype.Va=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function $u(t){return zu.qn(t,pu.store)}function Hu(t){return zu.qn(t,Iu.store)}var Gu=function(){function t(t,e){this.db=t,this.Rr=new Ma(this,e)}return t.prototype.Sr=function(t){var e=this.$a(t);return this.db.xa().Bo(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.$a=function(t){var e=0;return this.Cr(t,(function(t){e++})).next((function(){return e}))},t.prototype.De=function(t,e){return this.db.xa().De(t,e)},t.prototype.Cr=function(t,e){return this.La(t,(function(t,n){return e(n)}))},t.prototype.Qo=function(t,e,n){return Wu(t,n)},t.prototype.Wo=function(t,e,n){return Wu(t,n)},t.prototype.Nr=function(t,e,n){return this.db.xa().Nr(t,e,n)},t.prototype.eo=function(t,e){return Wu(t,e)},t.prototype.Ba=function(t,e){return function(t,e){var n=!1;return ru(t).ss((function(r){return Ja(t,r,e).next((function(t){return t&&(n=!0),Go.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Fr=function(t,e){var n=this,r=this.db.Fa()._o(),i=[],s=0;return this.La(t,(function(o,a){if(a<=e){var u=n.Ba(t,o).next((function(e){if(!e)return s++,r.yi(t,o).next((function(){return r.Vi(o),Uu(t).delete([0,Va(o.path)])}))}));i.push(u)}})).next((function(){return Go.xn(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.nt(t.Go);return this.db.xa().ko(t,n)},t.prototype.qa=function(t,e){return Wu(t,e)},t.prototype.La=function(t,e){var n,r=Uu(t),i=Na.nr;return r.ns({index:Cu.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Na.nr&&e(new Fr(Ua(n)),i),i=o,n=s):i=Na.nr})).next((function(){i!==Na.nr&&e(new Fr(Ua(n)),i)}))},t.prototype.Mr=function(t){return this.db.Fa().wo(t)},t}();function Wu(t,e){return Uu(t).put(function(t,e){return new Cu(0,Va(t.path),e)}(e,t.Go))}function Ku(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Qu=function(){function t(t,e,n,r){this.persistence=t,this.Ua=e,this.serializer=r,this.Qa=new ti(Cr),this.Ka=new Ar((function(t){return $r(t)}),Hr),this.Wa=Rr.min(),this.xi=t.Na(n),this.ja=t.Fa(),this.ra=t.xa(),this.Ga=new ka(this.ja,this.xi,this.persistence.Oa()),this.oa=t.Ma(),this.Ua.za(this.Ga)}return t.prototype.pr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Or(n,e.Qa)}))},t}();function Zu(t,e,n,r){return new Qu(t,e,n,r)}function Yu(t,e){return s(this,void 0,void 0,(function(){var n,r,i,s;return o(this,(function(o){switch(o.label){case 0:return n=wr(t),r=n.xi,i=n.Ga,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n.xi.Hr(t).next((function(o){return s=o,r=n.persistence.Na(e),i=new ka(n.ja,r,n.persistence.Oa()),r.Hr(t)})).next((function(e){for(var n=[],r=[],o=fi(),a=0,u=s;a<u.length;a++){var l=u[a];n.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++)o=o.add(h[c].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.Li(t,o).next((function(t){return{Ha:t,Ja:n,Ya:r}}))}))}))];case 1:return s=o.sent(),[2,(n.xi=r,n.Ga=i,n.Ua.za(n.Ga),s)]}}))}))}function Xu(t,e){var n=wr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.ja._o({fo:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Go.resolve();return s.forEach((function(t){o=o.next((function(){return r.yi(e,t)})).next((function(e){var s=e,o=n.Ei.get(t);_r(null!==o),(!s||s.version.A(o)<0)&&(s=i._i(t,s,n))&&r.Ri(s,n.Ti)}))})),o.next((function(){return t.xi.Yr(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.xi.no(t)})).next((function(){return n.Ga.Li(t,r)}))}))}function Ju(t){var e=wr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.ra.Co(t)}))}function tl(t,e){var n=wr(t),r=e.et,i=n.Qa;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.ja._o({fo:!0});i=n.Qa;var o=[];e.Gt.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.ra.Ko(t,e.ne,s).next((function(){return n.ra.Uo(t,e.te,s)})));var u=e.resumeToken;if(u.X()>0){var l=a.st(u,r).nt(t.Go);i=i.rt(s,l),function(t,e,n){return _r(e.resumeToken.X()>0),0===t.resumeToken.X()||e.et.R()-t.et.R()>=3e8||n.te.size+n.ee.size+n.ne.size>0}(a,l,e)&&o.push(n.ra.ko(t,l))}}}));var a=oi();if(e.Ht.forEach((function(r,i){e.Jt.has(r)&&o.push(n.persistence.Lr.qa(t,r))})),o.push(function(t,e,n,r,i){var s=fi();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var i=oi();return n.forEach((function(n,s){var o=t.get(n),a=r;s instanceof ao&&s.version.isEqual(Rr.min())?(e.Vi(n,a),i=i.rt(n,s)):null==o||s.version.A(o.version)>0||0===s.version.A(o.version)&&o.hasPendingWrites?(e.Ri(s,a),i=i.rt(n,s)):pr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),i}))}(t,s,e.Ht,r).next((function(t){a=t}))),!r.isEqual(Rr.min())){var u=n.ra.Co(t).next((function(e){return n.ra.xo(t,t.Go,r)}));o.push(u)}return Go.xn(o).next((function(){return s.apply(t)})).next((function(){return n.Ga.Bi(t,a)}))})).then((function(t){return n.Qa=i,t}))}function el(t,e){var n=wr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.xi.Gr(t,e)}))}function nl(t,e){var n=wr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.ra.qo(t,e).next((function(i){return i?Go.resolve(r=i):n.ra.bo(t).next((function(i){return r=new Zr(e,i,0,t.Go),n.ra.Fo(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Qa.get(t.targetId);return(null===r||t.et.A(r.et)>0)&&(n.Qa=n.Qa.rt(t.targetId,t),n.Ka.set(e,t.targetId)),t}))}function rl(t,e,n){return s(this,void 0,void 0,(function(){var r,i,s,a;return o(this,(function(o){switch(o.label){case 0:r=wr(t),i=r.Qa.get(e),s=n?"readwrite":"readwrite-primary",o.label=1;case 1:return o.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.Lr.removeTarget(t,i)}))];case 2:o.sent(),o.label=3;case 3:return[3,5];case 4:if(!Zo(a=o.sent()))throw a;return pr("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Qa=r.Qa.remove(e),r.Ka.delete(i.target),[2]}}))}))}function il(t,e,n){var r=wr(t),i=Rr.min(),s=fi();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=wr(t),i=r.Ka.get(n);return void 0!==i?Go.resolve(r.Qa.get(i)):r.ra.qo(e,n)}(r,t,_o(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.ra.jo(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.Ua.Ui(t,e,n?i:Rr.min(),n?s:fi())})).next((function(t){return{documents:t,Xa:s}}))}))}function sl(t,e){var n=wr(t),r=wr(n.ra),i=n.Qa.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.qe(t,e).next((function(t){return t?t.target:null}))}))}function ol(t){var e=wr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=wr(t),i=oi(),s=$a(n),o=au(e),a=IDBKeyRange.lowerBound(s,!0);return o.ns({index:wu.readTimeIndex,range:a},(function(t,e){var n=Ba(r.serializer,e);i=i.rt(n.key,n),s=e.readTime})).next((function(){return{Za:i,readTime:Ha(s)}}))}(e.ja,t,e.Wa)})).then((function(t){var n=t.Za;return e.Wa=t.readTime,n}))}function al(t){return s(this,void 0,void 0,(function(){var e;return o(this,(function(n){return[2,(e=wr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=au(t),n=Rr.min();return e.ns({index:wu.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Ha(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Wa=t}))]}))}))}function ul(t){return s(this,void 0,void 0,(function(){return o(this,(function(e){if(t.code!==Nr.FAILED_PRECONDITION||t.message!==xa)throw t;return pr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var ll=function(){function t(t,e,n,r,i,s){this.ln=t,this.tc=n,this.ec=r,this.nc=i,this.listener=s,this.state=0,this.sc=0,this.ic=null,this.stream=null,this.Ps=new Ho(t,e)}return t.prototype.rc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.oc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ac()},t.prototype.stop=function(){return s(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this.rc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.cc=function(){this.state=0,this.Ps.reset()},t.prototype.uc=function(){var t=this;this.oc()&&null===this.ic&&(this.ic=this.ln.Pn(this.tc,6e4,(function(){return t.hc()})))},t.prototype.lc=function(t){this._c(),this.stream.send(t)},t.prototype.hc=function(){return s(this,void 0,void 0,(function(){return o(this,(function(t){return this.oc()?[2,this.close(0)]:[2]}))}))},t.prototype._c=function(){this.ic&&(this.ic.cancel(),this.ic=null)},t.prototype.close=function(t,e){return s(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return this._c(),this.Ps.cancel(),this.sc++,3!==t?this.Ps.reset():e&&e.code===Nr.RESOURCE_EXHAUSTED?(mr(e.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.Ps.mn()):e&&e.code===Nr.UNAUTHENTICATED&&this.nc.ni(),null!==this.stream&&(this.fc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.dc(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.fc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.wc(this.sc),n=this.sc;this.nc.getToken().then((function(e){t.sc===n&&t.Tc(e)}),(function(n){e((function(){var e=new Or(Nr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Ec(e)}))}))},t.prototype.Tc=function(t){var e=this,n=this.wc(this.sc);this.stream=this.Ic(t),this.stream.mc((function(){n((function(){return e.state=2,e.listener.mc()}))})),this.stream.dc((function(t){n((function(){return e.Ec(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.ac=function(){var t=this;this.state=4,this.Ps.An((function(){return s(t,void 0,void 0,(function(){return o(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Ec=function(t){return pr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.wc=function(t){var e=this;return function(n){e.ln.fs((function(){return e.sc===t?n():(pr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),cl=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return i(e,t),e.prototype.Ic=function(t){return this.ec.Ac("Listen",t)},e.prototype.onMessage=function(t){this.Ps.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:vr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.Ue?(_r(void 0===e||"string"==typeof e),Wr.fromBase64String(e||"")):(_r(void 0===e||e instanceof Uint8Array),Wr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?Nr.UNKNOWN:Jr(t.code);return new Or(e,t.message||"")}(o);n=new Ei(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,l=is(t,u.document.name),c=ts(u.document.updateTime),h=new no({mapValue:{fields:u.document.fields}}),f=new oo(l,c,h,{});n=new wi(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=is(t,d.document),m=d.readTime?ts(d.readTime):Rr.min(),g=new ao(p,m);n=new wi([],d.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){var y=e.documentRemove,v=is(t,y.document);n=new wi([],y.removedTargetIds||[],v,null)}else{if(!("filter"in e))return vr();var _=e.filter,w=new Yr(_.count||0);n=new bi(_.targetId,w)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Rr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Rr.min():e.readTime?ts(e.readTime):Rr.min()}(t);return this.listener.Rc(e,n)},e.prototype.Pc=function(t){var e={};e.database=as(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Gr(r)?{documents:fs(t,r)}:{query:ds(t,r)}).targetId=e.targetId,e.resumeToken.X()>0?n.resumeToken=Xi(t,e.resumeToken):e.et.A(Rr.min())>0&&(n.readTime=Yi(t,e.et.P())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vr()}}(0,e.tt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.lc(e)},e.prototype.gc=function(t){var e={};e.database=as(this.serializer),e.removeTarget=t,this.lc(e)},e}(ll),hl=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.Vc=!1,o}return i(e,t),Object.defineProperty(e.prototype,"yc",{get:function(){return this.Vc},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Vc=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.fc=function(){this.Vc&&this.vc([])},e.prototype.Ic=function(t){return this.ec.Ac("Write",t)},e.prototype.onMessage=function(t){if(_r(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vc){this.Ps.reset();var e=function(t,e){return t&&t.length>0?(_r(void 0!==e),t.map((function(t){return function(t,e){var n=ts(t.updateTime?t.updateTime:e);n.isEqual(Rr.min())&&(n=ts(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new js(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ts(t.commitTime);return this.listener.bc(n,e)}return _r(!t.writeResults||0===t.writeResults.length),this.Vc=!0,this.listener.Sc()},e.prototype.Dc=function(){var t={};t.database=as(this.serializer),this.lc(t)},e.prototype.vc=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return cs(e.serializer,t)}))};this.lc(n)},e}(ll),fl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.ec=n,i.serializer=r,i.Cc=!1,i}return i(e,t),e.prototype.Nc=function(){if(this.Cc)throw new Or(Nr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.xc=function(t,e,n){var r=this;return this.Nc(),this.credentials.getToken().then((function(i){return r.ec.xc(t,e,n,i)})).catch((function(t){throw t.code===Nr.UNAUTHENTICATED&&r.credentials.ni(),t}))},e.prototype.Fc=function(t,e,n){var r=this;return this.Nc(),this.credentials.getToken().then((function(i){return r.ec.Fc(t,e,n,i)})).catch((function(t){throw t.code===Nr.UNAUTHENTICATED&&r.credentials.ni(),t}))},e.prototype.terminate=function(){this.Cc=!1},e}((function(){})),dl=function(){function t(t,e){this.rs=t,this.Oc=e,this.state="Unknown",this.Mc=0,this.kc=null,this.$c=!0}return t.prototype.Lc=function(){var t=this;0===this.Mc&&(this.Bc("Unknown"),this.kc=this.rs.Pn("online_state_timeout",1e4,(function(){return t.kc=null,t.qc("Backend didn't respond within 10 seconds."),t.Bc("Offline"),Promise.resolve()})))},t.prototype.Uc=function(t){"Online"===this.state?this.Bc("Unknown"):(this.Mc++,this.Mc>=1&&(this.Qc(),this.qc("Connection failed 1 times. Most recent error: "+t.toString()),this.Bc("Offline")))},t.prototype.set=function(t){this.Qc(),this.Mc=0,"Online"===t&&(this.$c=!1),this.Bc(t)},t.prototype.Bc=function(t){t!==this.state&&(this.state=t,this.Oc(t))},t.prototype.qc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.$c?(mr(e),this.$c=!1):pr("OnlineStateTracker",e)},t.prototype.Qc=function(){null!==this.kc&&(this.kc.cancel(),this.kc=null)},t}(),pl=function(t,e,n,r,i){var a=this;this.Kc=t,this.Wc=e,this.rs=n,this.jc={},this.Gc=[],this.zc=new Map,this.Hc=new Set,this.Jc=[],this.Yc=i,this.Yc.Xc((function(t){n.fs((function(){return s(a,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return Cl(this)?(pr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return s(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return(e=wr(t)).Hc.add(4),[4,gl(e)];case 1:return n.sent(),e.Zc.set("Unknown"),e.Hc.delete(4),[4,ml(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Zc=new dl(n,r)};function ml(t){return s(this,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:if(!Cl(t))return[3,4];e=0,n=t.Jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function gl(t){return s(this,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:e=0,n=t.Jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function yl(t,e){var n=wr(t);n.zc.has(e.targetId)||(n.zc.set(e.targetId,e),El(n)?bl(n):Fl(n).oc()&&_l(n,e))}function vl(t,e){var n=wr(t),r=Fl(n);n.zc.delete(e),r.oc()&&wl(n,e),0===n.zc.size&&(r.oc()?r.uc():Cl(n)&&n.Zc.set("Unknown"))}function _l(t,e){t.tu.Ie(e.targetId),Fl(t).Pc(e)}function wl(t,e){t.tu.Ie(e),Fl(t).gc(e)}function bl(t){t.tu=new Si({Be:function(e){return t.jc.Be(e)},qe:function(e){return t.zc.get(e)||null}}),Fl(t).start(),t.Zc.Lc()}function El(t){return Cl(t)&&!Fl(t).rc()&&t.zc.size>0}function Cl(t){return 0===wr(t).Hc.size}function Sl(t){t.tu=void 0}function Tl(t){return s(this,void 0,void 0,(function(){return o(this,(function(e){return t.zc.forEach((function(e,n){_l(t,e)})),[2]}))}))}function xl(t,e){return s(this,void 0,void 0,(function(){return o(this,(function(n){return Sl(t),El(t)?(t.Zc.Uc(e),bl(t)):t.Zc.set("Unknown"),[2]}))}))}function Il(t,e,n){return s(this,void 0,void 0,(function(){var r,i,a;return o(this,(function(u){switch(u.label){case 0:if(t.Zc.set("Online"),!(e instanceof Ei&&2===e.state&&e.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(t,e){return s(this,void 0,void 0,(function(){var n,r,i,s;return o(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.zc.has(s=i[r])?[4,t.jc.eu(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.zc.delete(s),t.tu.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),pr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,kl(t,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof wi?t.tu.pe(e):e instanceof bi?t.tu.Fe(e):t.tu.Se(e),n.isEqual(Rr.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,Ju(t.Kc)];case 8:return i=u.sent(),n.A(i)>=0?[4,function(t,e){var n=t.tu.ke(e);return n.Gt.forEach((function(n,r){if(n.resumeToken.X()>0){var i=t.zc.get(r);i&&t.zc.set(r,i.st(n.resumeToken,e))}})),n.zt.forEach((function(e){var n=t.zc.get(e);if(n){t.zc.set(e,n.st(Wr.Z,n.et)),wl(t,e);var r=new Zr(n.target,e,1,n.sequenceNumber);_l(t,r)}})),t.jc.nu(n)}(t,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return pr("RemoteStore","Failed to raise snapshot:",a=u.sent()),[4,kl(t,a)];case 12:return u.sent(),[3,13];case 13:return[2]}}))}))}function kl(t,e,n){return s(this,void 0,void 0,(function(){var r=this;return o(this,(function(i){switch(i.label){case 0:if(!Zo(e))throw e;return t.Hc.add(1),[4,gl(t)];case 1:return i.sent(),t.Zc.set("Offline"),n||(n=function(){return Ju(t.Kc)}),t.rs.Ss((function(){return s(r,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return pr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Hc.delete(1),[4,ml(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Al(t,e){return e().catch((function(n){return kl(t,n,e)}))}function Nl(t){return s(this,void 0,void 0,(function(){var e,n,r,i,s;return o(this,(function(o){switch(o.label){case 0:e=wr(t),n=jl(e),r=e.Gc.length>0?e.Gc[e.Gc.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Cl(t)&&t.Gc.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,el(e.Kc,r)];case 3:return null===(i=o.sent())?(0===e.Gc.length&&n.uc(),[3,7]):(r=i.batchId,function(t,e){t.Gc.push(e);var n=jl(t);n.oc()&&n.yc&&n.vc(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,kl(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Ol(e)&&Pl(e),[2]}}))}))}function Ol(t){return Cl(t)&&!jl(t).rc()&&t.Gc.length>0}function Pl(t){jl(t).start()}function Rl(t){return s(this,void 0,void 0,(function(){return o(this,(function(e){return jl(t).Dc(),[2]}))}))}function Dl(t){return s(this,void 0,void 0,(function(){var e,n,r;return o(this,(function(i){for(e=jl(t),n=0,r=t.Gc;n<r.length;n++)e.vc(r[n].mutations);return[2]}))}))}function Ll(t,e,n){return s(this,void 0,void 0,(function(){var r,i;return o(this,(function(s){switch(s.label){case 0:return r=t.Gc.shift(),i=Ea.from(r,e,n),[4,Al(t,(function(){return t.jc.su(i)}))];case 1:return s.sent(),[4,Nl(t)];case 2:return s.sent(),[2]}}))}))}function Ml(t,e){return s(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return e&&jl(t).yc?[4,function(t,e){return s(this,void 0,void 0,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:return Xr(r=e.code)&&r!==Nr.ABORTED?(n=t.Gc.shift(),jl(t).cc(),[4,Al(t,(function(){return t.jc.iu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Nl(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ol(t)&&Pl(t),[2]}}))}))}function Vl(t,e){return s(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return n=wr(t),e?(n.Hc.delete(2),[4,ml(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Hc.add(2),[4,gl(n)]);case 3:r.sent(),n.Zc.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Fl(t){var e=this;return t.ru||(t.ru=function(t,e,n){var r=wr(t);return r.Nc(),new cl(e,r.ec,r.credentials,r.serializer,n)}(t.Wc,t.rs,{mc:Tl.bind(null,t),dc:xl.bind(null,t),Rc:Il.bind(null,t)}),t.Jc.push((function(n){return s(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return n?(t.ru.cc(),El(t)?bl(t):t.Zc.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ru.stop()];case 2:e.sent(),Sl(t),e.label=3;case 3:return[2]}}))}))}))),t.ru}function jl(t){var e=this;return t.ou||(t.ou=function(t,e,n){var r=wr(t);return r.Nc(),new hl(e,r.ec,r.credentials,r.serializer,n)}(t.Wc,t.rs,{mc:Rl.bind(null,t),dc:Ml.bind(null,t),Sc:Dl.bind(null,t),bc:Ll.bind(null,t)}),t.Jc.push((function(n){return s(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return n?(t.ou.cc(),[4,Nl(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ou.stop()];case 3:e.sent(),t.Gc.length>0&&(pr("RemoteStore","Stopping write stream with "+t.Gc.length+" pending writes"),t.Gc=[]),e.label=4;case 4:return[2]}}))}))}))),t.ou}var Ul=function(){function t(){this.au=new ri(ql.cu),this.uu=new ri(ql.hu)}return t.prototype.T=function(){return this.au.T()},t.prototype.Qo=function(t,e){var n=new ql(t,e);this.au=this.au.add(n),this.uu=this.uu.add(n)},t.prototype.lu=function(t,e){var n=this;t.forEach((function(t){return n.Qo(t,e)}))},t.prototype.Wo=function(t,e){this._u(new ql(t,e))},t.prototype.fu=function(t,e){var n=this;t.forEach((function(t){return n.Wo(t,e)}))},t.prototype.du=function(t){var e=this,n=new Fr(new Lr([])),r=new ql(n,t),i=new ql(n,t+1),s=[];return this.uu.Nt([r,i],(function(t){e._u(t),s.push(t.key)})),s},t.prototype.wu=function(){var t=this;this.au.forEach((function(e){return t._u(e)}))},t.prototype._u=function(t){this.au=this.au.delete(t),this.uu=this.uu.delete(t)},t.prototype.Tu=function(t){var e=new Fr(new Lr([])),n=new ql(e,t),r=new ql(e,t+1),i=fi();return this.uu.Nt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.so=function(t){var e=new ql(t,0),n=this.au.Ft(e);return null!==n&&t.isEqual(n.key)},t}(),ql=function(){function t(t,e){this.key=t,this.Eu=e}return t.cu=function(t,e){return Fr.V(t.key,e.key)||Cr(t.Eu,e.Eu)},t.hu=function(t,e){return Cr(t.Eu,e.Eu)||Fr.V(t.key,e.key)},t}();function Bl(t,e){return"firestore_clients_"+t+"_"+e}function zl(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Js()&&(r+="_"+e.uid),r}function $l(t,e){return"firestore_targets_"+t+"_"+e}var Hl=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Iu=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new Or(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(mr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.mu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Gl=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Iu=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new Or(r.error.code,r.error.message)),i?new t(e,r.state,s):(mr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.mu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Wl=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Iu=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=pi(),o=0;i&&o<r.activeTargetIds.length;++o)i=qr(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(mr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Kl=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Iu=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(mr("SharedClientState","Failed to parse online state: "+e),null)},t}(),Ql=function(){function t(){this.activeTargetIds=pi()}return t.prototype.Au=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ru=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.mu=function(){var t={activeTargetIds:this.activeTargetIds.O(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Zl=function(){function t(t,e,n,r,i){this.window=t,this.ln=e,this.persistenceKey=n,this.Pu=r,this.gu=null,this.Oc=null,this.Xi=null,this.Vu=this.yu.bind(this),this.pu=new ti(Cr),this.yr=!1,this.vu=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.bu=Bl(this.persistenceKey,this.Pu),this.Su=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pu=this.pu.rt(this.Pu,new Ql),this.Du=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Cu=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Nu=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.xu=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fu=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Vu)}return t.kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return s(this,void 0,void 0,(function(){var t,e,n,r,i,s,a,u,l,c,h=this;return o(this,(function(o){switch(o.label){case 0:return[4,this.gu.Ca()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Pu&&(i=this.getItem(Bl(this.persistenceKey,r)))&&(s=Wl.Iu(r,i))&&(this.pu=this.pu.rt(s.clientId,s));for(this.Ou(),(a=this.storage.getItem(this.xu))&&(u=this.Mu(a))&&this.ku(u),l=0,c=this.vu;l<c.length;l++)this.yu(c[l]);return this.vu=[],this.window.addEventListener("unload",(function(){return h.pa()})),this.yr=!0,[2]}}))}))},t.prototype.er=function(t){this.setItem(this.Su,JSON.stringify(t))},t.prototype.$u=function(){return this.Lu(this.pu)},t.prototype.Bu=function(t){var e=!1;return this.pu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.qu=function(t){this.Uu(t,"pending")},t.prototype.Qu=function(t,e,n){this.Uu(t,e,n),this.Ku(t)},t.prototype.Wu=function(t){var e="not-current";if(this.Bu(t)){var n=this.storage.getItem($l(this.persistenceKey,t));if(n){var r=Gl.Iu(t,n);r&&(e=r.state)}}return this.ju.Au(t),this.Ou(),e},t.prototype.Gu=function(t){this.ju.Ru(t),this.Ou()},t.prototype.zu=function(t){return this.ju.activeTargetIds.has(t)},t.prototype.Hu=function(t){this.removeItem($l(this.persistenceKey,t))},t.prototype.Ju=function(t,e,n){this.Yu(t,e,n)},t.prototype.Xu=function(t,e,n){var r=this;e.forEach((function(t){r.Ku(t)})),this.currentUser=t,n.forEach((function(t){r.qu(t)}))},t.prototype.Zu=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.pa=function(){this.yr&&(this.window.removeEventListener("storage",this.Vu),this.removeItem(this.bu),this.yr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return pr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){pr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){pr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.yu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(pr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.bu)return void mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ln.Ss((function(){return s(e,void 0,void 0,(function(){var t,e,r,i,s,a;return o(this,(function(o){if(this.yr){if(null!==n.key)if(this.Du.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Cu.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.ah(r)]}else if(this.Nu.test(n.key)){if(null!==n.newValue&&(i=this.uh(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xu){if(null!==n.newValue&&(s=this.Mu(n.newValue)))return[2,this.ku(s)]}else if(n.key===this.Su)(a=function(t){var e=Na.nr;if(null!=t)try{var n=JSON.parse(t);_r("number"==typeof n),e=n}catch(t){mr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Na.nr&&this.Xi(a);else if(n.key===this.Fu)return[2,this.gu.lh()]}else this.vu.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ju",{get:function(){return this.pu.get(this.Pu)},enumerable:!1,configurable:!0}),t.prototype.Ou=function(){this.setItem(this.bu,this.ju.mu())},t.prototype.Uu=function(t,e,n){var r=new Hl(this.currentUser,t,e,n),i=zl(this.persistenceKey,this.currentUser,t);this.setItem(i,r.mu())},t.prototype.Ku=function(t){var e=zl(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){this.storage.setItem(this.xu,JSON.stringify({clientId:this.Pu,onlineState:t}))},t.prototype.Yu=function(t,e,n){var r=$l(this.persistenceKey,t),i=new Gl(t,e,n);this.setItem(r,i.mu())},t.prototype.nh=function(){this.setItem(this.Fu,"value-not-used")},t.prototype.sh=function(t){var e=this.Du.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return Wl.Iu(n,e)},t.prototype.oh=function(t,e){var n=this.Cu.exec(t),r=Number(n[1]);return Hl.Iu(new ma(void 0!==n[2]?n[2]:null),r,e)},t.prototype.uh=function(t,e){var n=this.Nu.exec(t),r=Number(n[1]);return Gl.Iu(r,e)},t.prototype.Mu=function(t){return Kl.Iu(t)},t.prototype.ah=function(t){return s(this,void 0,void 0,(function(){return o(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.gu._h(t.batchId,t.state,t.error)]:(pr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.hh=function(t){return this.gu.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pu.rt(t,e):this.pu.remove(t),i=this.Lu(this.pu),s=this.Lu(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.gu.dh(o,a).then((function(){n.pu=r}))},t.prototype.ku=function(t){this.pu.get(t.clientId)&&this.Oc(t.onlineState)},t.prototype.Lu=function(t){var e=pi();return t.forEach((function(t,n){e=e.Ot(n.activeTargetIds)})),e},t}(),Yl=function(){function t(){this.wh=new Ql,this.Th={},this.Oc=null,this.Xi=null}return t.prototype.qu=function(t){},t.prototype.Qu=function(t,e,n){},t.prototype.Wu=function(t){return this.wh.Au(t),this.Th[t]||"not-current"},t.prototype.Ju=function(t,e,n){this.Th[t]=e},t.prototype.Gu=function(t){this.wh.Ru(t)},t.prototype.zu=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Hu=function(t){delete this.Th[t]},t.prototype.$u=function(){return this.wh.activeTargetIds},t.prototype.Bu=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new Ql,Promise.resolve()},t.prototype.Xu=function(t,e,n){},t.prototype.Zu=function(t){},t.prototype.pa=function(){},t.prototype.er=function(t){},t.prototype.eh=function(){},t}(),Xl=function(t){this.key=t},Jl=function(t){this.key=t},tc=function(){function t(t,e){this.query=t,this.Eh=e,this.Ih=null,this.Zt=!1,this.mh=fi(),this.Qt=fi(),this.Ah=Io(t),this.Rh=new mi(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Eh},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.Vh:new gi,i=e?e.Rh:this.Rh,s=e?e.Qt:this.Qt,o=i,a=!1,u=fo(this.query)&&i.size===this.query.limit?i.last():null,l=po(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var c=i.get(t),h=e instanceof oo?e:null;h&&(h=xo(n.query,h)?h:null);var f=!!c&&n.Qt.has(c.key),d=!!h&&(h.Je||n.Qt.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yh(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ah(h,u)>0||l&&n.Ah(h,l)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),fo(this.query)||po(this.query))for(;o.size>this.query.limit;){var c=fo(this.query)?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Rh:o,Vh:r,ph:a,Qt:s}},t.prototype.yh=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.bi=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.Qt=t.Qt;var s=t.Vh.qt();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vr()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)})),this.bh(n);var o=e?this.Sh():[],a=0===this.mh.size&&this.Zt?1:0,u=a!==this.Ih;return this.Ih=a,0!==s.length||u?{snapshot:new yi(this.query,t.Rh,i,s,t.Qt,0===a,u,!1),Dh:o}:{Dh:o}},t.prototype.Bs=function(t){return this.Zt&&"Offline"===t?(this.Zt=!1,this.bi({Rh:this.Rh,Vh:new gi,Qt:this.Qt,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Eh.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).Je},t.prototype.bh=function(t){var e=this;t&&(t.te.forEach((function(t){return e.Eh=e.Eh.add(t)})),t.ee.forEach((function(t){})),t.ne.forEach((function(t){return e.Eh=e.Eh.delete(t)})),this.Zt=t.Zt)},t.prototype.Sh=function(){var t=this;if(!this.Zt)return[];var e=this.mh;this.mh=fi(),this.Rh.forEach((function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))}));var n=[];return e.forEach((function(e){t.mh.has(e)||n.push(new Jl(e))})),this.mh.forEach((function(t){e.has(t)||n.push(new Xl(t))})),n},t.prototype.Nh=function(t){this.Eh=t.Xa,this.mh=fi();var e=this.gh(t.documents);return this.bi(e,!0)},t.prototype.xh=function(){return yi.jt(this.query,this.Rh,this.Qt,0===this.Ih)},t}(),ec=function(t,e,n){this.query=t,this.targetId=e,this.view=n},nc=function(t){this.key=t,this.Fh=!1},rc=function(){function t(t,e,n,r,i,s){this.Kc=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=s,this.Lh={},this.Bh=new Ar((function(t){return So(t)}),Co),this.qh=new Map,this.Uh=[],this.Qh=new ti(Fr.V),this.Kh=new Map,this.Wh=new Ul,this.jh={},this.Gh=new Map,this.zh=Mu.vo(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function ic(t,e){return s(this,void 0,void 0,(function(){var n,r,i,s,a;return o(this,(function(o){switch(o.label){case 0:return n=Rc(t),(i=n.Bh.get(e))?(n.kh.Wu(i.targetId),r=i.view.xh(),[3,4]):[3,1];case 1:return[4,nl(n.Kc,_o(e))];case 2:return s=o.sent(),a=n.kh.Wu(s.targetId),[4,sc(n,e,s.targetId,"current"===a)];case 3:r=o.sent(),n.Jh&&yl(n.Oh,s),o.label=4;case 4:return[2,r]}}))}))}function sc(t,e,n,r){return s(this,void 0,void 0,(function(){var i,a,u,l,c,h;return o(this,(function(f){switch(f.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return s(this,void 0,void 0,(function(){var i,s,a;return o(this,(function(o){switch(o.label){case 0:return(i=e.view.gh(n)).ph?[4,il(t.Kc,e.query,!1).then((function(t){return e.view.gh(t.documents,i)}))]:[3,2];case 1:i=o.sent(),o.label=2;case 2:return s=r&&r.Gt.get(e.targetId),a=e.view.bi(i,t.Jh,s),[2,(vc(t,e.targetId,a.Dh),a.snapshot)]}}))}))}(t,e,n,r)},[4,il(t.Kc,e,!0)];case 1:return i=f.sent(),a=new tc(e,i.Xa),u=a.gh(i.documents),l=_i.Xt(n,r&&"Offline"!==t.onlineState),c=a.bi(u,t.Jh,l),vc(t,n,c.Dh),h=new ec(e,n,a),[2,(t.Bh.set(e,h),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),c.snapshot)]}}))}))}function oc(t,e){return s(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(s){switch(s.label){case 0:return n=wr(t),r=n.Bh.get(e),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter((function(t){return!Co(t,e)}))),void n.Bh.delete(e))]:n.Jh?(n.kh.Gu(r.targetId),n.kh.Bu(r.targetId)?[3,2]:[4,rl(n.Kc,r.targetId,!1).then((function(){n.kh.Hu(r.targetId),vl(n.Oh,r.targetId),gc(n,r.targetId)})).catch(ul)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return gc(n,r.targetId),[4,rl(n.Kc,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function ac(t,e,n){return s(this,void 0,void 0,(function(){var r,i,s,a;return o(this,(function(o){switch(o.label){case 0:r=Dc(t),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,function(t,e){var n,r=wr(t),i=Pr.now(),s=e.reduce((function(t,e){return t.add(e.key)}),fi());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ga.Li(t,s).next((function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var l=u[a],c=Hs(l,n.get(l.key));null!=c&&o.push(new Qs(l.key,c,io(c.proto.mapValue),Us.exists(!0)))}return r.xi.Qr(t,i,o,e)}))})).then((function(t){var e=t.wi(n);return{batchId:t.batchId,Ii:e}}))}(r.Kc,e)];case 2:return i=o.sent(),r.kh.qu(i.batchId),function(t,e,n){var r=t.jh[t.currentUser.Ys()];r||(r=new ti(Cr)),r=r.rt(e,n),t.jh[t.currentUser.Ys()]=r}(r,i.batchId,n),[4,bc(r,i.Ii)];case 3:return o.sent(),[4,Nl(r.Oh)];case 4:return o.sent(),[3,6];case 5:return s=o.sent(),a=oa(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function uc(t,e){return s(this,void 0,void 0,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:n=wr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,tl(n.Kc,e)];case 2:return r=i.sent(),e.Gt.forEach((function(t,e){var r=n.Kh.get(e);r&&(_r(t.te.size+t.ee.size+t.ne.size<=1),t.te.size>0?r.Fh=!0:t.ee.size>0?_r(r.Fh):t.ne.size>0&&(_r(r.Fh),r.Fh=!1))})),[4,bc(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ul(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function lc(t,e,n){var r=wr(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach((function(t,n){var r=n.view.Bs(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=wr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Bs(e)&&(r=!0)})),r&&da(n)}(r.Mh,e),i.length&&r.Lh.Rc(i),r.onlineState=e,r.Jh&&r.kh.Zu(e)}}function cc(t,e,n){return s(this,void 0,void 0,(function(){var r,i,s,a,u,l;return o(this,(function(o){switch(o.label){case 0:return(r=wr(t)).kh.Ju(e,"rejected",n),i=r.Kh.get(e),(s=i&&i.key)?(a=(a=new ti(Fr.V)).rt(s,new ao(s,Rr.min())),u=fi().add(s),l=new vi(Rr.min(),new Map,new ri(Cr),a,u),[4,uc(r,l)]):[3,2];case 1:return o.sent(),r.Qh=r.Qh.remove(s),r.Kh.delete(e),wc(r),[3,4];case 2:return[4,rl(r.Kc,e,!1).then((function(){return gc(r,e,n)})).catch(ul)];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))}function hc(t,e){return s(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(s){switch(s.label){case 0:n=wr(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Xu(n.Kc,e)];case 2:return i=s.sent(),mc(n,r,null),pc(n,r),n.kh.Qu(r,"acknowledged"),[4,bc(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,ul(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function fc(t,e,n){return s(this,void 0,void 0,(function(){var r,i;return o(this,(function(s){switch(s.label){case 0:r=wr(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=wr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.xi.Wr(t,e).next((function(e){return _r(null!==e),r=e.keys(),n.xi.Yr(t,e)})).next((function(){return n.xi.no(t)})).next((function(){return n.Ga.Li(t,r)}))}))}(r.Kc,e)];case 2:return i=s.sent(),mc(r,e,n),pc(r,e),r.kh.Qu(e,"rejected",n),[4,bc(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,ul(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function dc(t,e){return s(this,void 0,void 0,(function(){var n,r,i,s,a;return o(this,(function(o){switch(o.label){case 0:Cl((n=wr(t)).Oh)||pr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,function(t){var e=wr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.xi.zr(t)}))}(n.Kc)];case 2:return-1===(r=o.sent())?[2,void e.resolve()]:((i=n.Gh.get(r)||[]).push(e),n.Gh.set(r,i),[3,4]);case 3:return s=o.sent(),a=oa(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function pc(t,e){(t.Gh.get(e)||[]).forEach((function(t){t.resolve()})),t.Gh.delete(e)}function mc(t,e,n){var r=wr(t),i=r.jh[r.currentUser.Ys()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.jh[r.currentUser.Ys()]=i}}function gc(t,e,n){void 0===n&&(n=null),t.kh.Gu(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var s=i[r];t.Bh.delete(s),n&&t.Lh.Xh(s,n)}t.qh.delete(e),t.Jh&&t.Wh.du(e).forEach((function(e){t.Wh.so(e)||yc(t,e)}))}function yc(t,e){var n=t.Qh.get(e);null!==n&&(vl(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),wc(t))}function vc(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Xl?(t.Wh.Qo(s.key,e),_c(t,s)):s instanceof Jl?(pr("SyncEngine","Document no longer in limbo: "+s.key),t.Wh.Wo(s.key,e),t.Wh.so(s.key)||yc(t,s.key)):vr()}}function _c(t,e){var n=e.key;t.Qh.get(n)||(pr("SyncEngine","New document in limbo: "+n),t.Uh.push(n),wc(t))}function wc(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new nc(e)),t.Qh=t.Qh.rt(e,n),yl(t.Oh,new Zr(_o(ho(e.path)),n,2,Na.nr))}}function bc(t,e,n){return s(this,void 0,void 0,(function(){var r,i,a,u;return o(this,(function(l){switch(l.label){case 0:return r=wr(t),i=[],a=[],u=[],r.Bh.T()?[3,3]:(r.Bh.forEach((function(t,s){u.push(r.Yh(s,e,n).then((function(t){if(t){r.Jh&&r.kh.Ju(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Aa.Yi(s.targetId,t);a.push(e)}})))})),[4,Promise.all(u)]);case 1:return l.sent(),r.Lh.Rc(i),[4,function(t,e){return s(this,void 0,void 0,(function(){var n,r,i,s,a,u,l,c;return o(this,(function(o){switch(o.label){case 0:n=wr(t),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Go.forEach(e,(function(e){return Go.forEach(e.Hi,(function(r){return n.persistence.Lr.Qo(t,e.targetId,r)})).next((function(){return Go.forEach(e.Ji,(function(r){return n.persistence.Lr.Wo(t,e.targetId,r)}))}))}))}))];case 2:return o.sent(),[3,4];case 3:if(!Zo(r=o.sent()))throw r;return pr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)u=(a=s[i]).targetId,a.fromCache||(l=n.Qa.get(u),c=l.it(l.et),n.Qa=n.Qa.rt(u,c));return[2]}}))}))}(r.Kc,a)];case 2:l.sent(),l.label=3;case 3:return[2]}}))}))}function Ec(t,e){return s(this,void 0,void 0,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:return(n=wr(t)).currentUser.isEqual(e)?[3,3]:(pr("SyncEngine","User change. New user:",e.Ys()),[4,Yu(n.Kc,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Gh.forEach((function(t){t.forEach((function(t){t.reject(new Or(Nr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Gh.clear()}(n),n.kh.Xu(e,r.Ja,r.Ya),[4,bc(n,r.Ha)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Cc(t,e){var n=wr(t),r=n.Kh.get(e);if(r&&r.Fh)return fi().add(r.key);var i=fi(),s=n.qh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Bh.get(a[o]);i=i.Ot(u.view.Ph)}return i}function Sc(t,e){return s(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(s){switch(s.label){case 0:return[4,il((n=wr(t)).Kc,e.query,!0)];case 1:return r=s.sent(),i=e.view.Nh(r),[2,(n.Jh&&vc(n,e.targetId,i.Dh),i)]}}))}))}function Tc(t){return s(this,void 0,void 0,(function(){var e;return o(this,(function(n){return[2,ol((e=wr(t)).Kc).then((function(t){return bc(e,t)}))]}))}))}function xc(t,e,n,r){return s(this,void 0,void 0,(function(){var i,s;return o(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=wr(t),r=wr(n.xi);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jr(t,e).next((function(e){return e?n.Ga.Li(t,e):Go.resolve(null)}))}))}((i=wr(t)).Kc,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Nl(i.Oh)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(mc(i,e,r||null),pc(i,e),function(t,e){wr(wr(t).xi).Zr(e)}(i.Kc,e)):vr(),o.label=4;case 4:return[4,bc(i,s)];case 5:return o.sent(),[3,7];case 6:pr("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function Ic(t,e){return s(this,void 0,void 0,(function(){var n,r,i,s,a,u,l;return o(this,(function(o){switch(o.label){case 0:return Rc(n=wr(t)),Dc(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$u(),[4,kc(n,r.O())]);case 1:return i=o.sent(),n.Hh=!0,[4,Vl(n.Oh,!0)];case 2:for(o.sent(),s=0,a=i;s<a.length;s++)yl(n.Oh,a[s]);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(u=[],l=Promise.resolve(),n.qh.forEach((function(t,e){n.kh.zu(e)?u.push(e):l=l.then((function(){return gc(n,e),rl(n.Kc,e,!0)})),vl(n.Oh,e)})),[4,l]);case 4:return o.sent(),[4,kc(n,u)];case 5:return o.sent(),function(t){var e=wr(t);e.Kh.forEach((function(t,n){vl(e.Oh,n)})),e.Wh.wu(),e.Kh=new Map,e.Qh=new ti(Fr.V)}(n),n.Hh=!1,[4,Vl(n.Oh,!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))}function kc(t,e,n){return s(this,void 0,void 0,(function(){var n,r,i,s,a,u,l,c,h,f,d,p,m;return o(this,(function(o){switch(o.label){case 0:n=wr(t),r=[],i=[],s=0,a=e,o.label=1;case 1:return s<a.length?(l=void 0,(c=n.qh.get(u=a[s]))&&0!==c.length?[4,nl(n.Kc,_o(c[0]))]:[3,7]):[3,13];case 2:l=o.sent(),h=0,f=c,o.label=3;case 3:return h<f.length?(d=n.Bh.get(f[h]),[4,Sc(n,d)]):[3,6];case 4:(p=o.sent()).snapshot&&i.push(p.snapshot),o.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,sl(n.Kc,u)];case 8:return m=o.sent(),[4,nl(n.Kc,m)];case 9:return l=o.sent(),[4,sc(n,Ac(m),u,!1)];case 10:o.sent(),o.label=11;case 11:r.push(l),o.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Lh.Rc(i),r)]}}))}))}function Ac(t){return co(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Nc(t){var e=wr(t);return wr(wr(e.Kc).persistence).Ca()}function Oc(t,e,n,r){return s(this,void 0,void 0,(function(){var i,s,a;return o(this,(function(o){switch(o.label){case 0:return(i=wr(t)).Hh?(pr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ol(i.Kc)];case 3:return s=o.sent(),a=vi.Yt(e,"current"===n),[4,bc(i,s,a)];case 4:return o.sent(),[3,8];case 5:return[4,rl(i.Kc,e,!0)];case 6:return o.sent(),gc(i,e,r),[3,8];case 7:vr(),o.label=8;case 8:return[2]}}))}))}function Pc(t,e,n){return s(this,void 0,void 0,(function(){var r,i,s,a,u,l,c,h,f;return o(this,(function(d){switch(d.label){case 0:if(!(r=Rc(t)).Hh)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.qh.has(a=s[i])?(pr("SyncEngine","Adding an already active target "+a),[3,5]):[4,sl(r.Kc,a)]:[3,6];case 2:return u=d.sent(),[4,nl(r.Kc,u)];case 3:return l=d.sent(),[4,sc(r,Ac(u),l.targetId,!1)];case 4:d.sent(),yl(r.Oh,l),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return o(this,(function(e){switch(e.label){case 0:return r.qh.has(t)?[4,rl(r.Kc,t,!1).then((function(){vl(r.Oh,t),gc(r,t)})).catch(ul)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?[5,c(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Rc(t){var e=wr(t);return e.Oh.jc.nu=uc.bind(null,e),e.Oh.jc.Be=Cc.bind(null,e),e.Oh.jc.eu=cc.bind(null,e),e.Lh.Rc=ha.bind(null,e.Mh),e.Lh.Xh=fa.bind(null,e.Mh),e}function Dc(t){var e=wr(t);return e.Oh.jc.su=hc.bind(null,e),e.Oh.jc.iu=fc.bind(null,e),e}var Lc=function(){function t(){}return t.prototype.za=function(t){this.Zh=t},t.prototype.Ui=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.rn.length||1===t.rn.length&&t.rn[0].field.B())}(e)||n.isEqual(Rr.min())?this.tl(t,e):this.Zh.Li(t,r).next((function(s){var o=i.el(e,s);return(fo(e)||po(e))&&i.ph(e.limitType,o,r,n)?i.tl(t,e):(dr()<=l.a.DEBUG&&pr("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),To(e)),i.Zh.Ui(t,e,n).next((function(t){return o.forEach((function(e){t=t.rt(e.key,e)})),t})))}))},t.prototype.el=function(t,e){var n=new ri(Io(t));return e.forEach((function(e,r){r instanceof oo&&xo(t,r)&&(n=n.add(r))})),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.A(r)>0)},t.prototype.tl=function(t,e){return dr()<=l.a.DEBUG&&pr("IndexFreeQueryEngine","Using full collection scan to execute query:",To(e)),this.Zh.Ui(t,e,Rr.min())},t}(),Mc=function(){function t(t,e){this.Fi=t,this.Lr=e,this.xi=[],this.nl=1,this.sl=new ri(ql.cu)}return t.prototype.Ur=function(t){return Go.resolve(0===this.xi.length)},t.prototype.Qr=function(t,e,n,r){var i=this.nl;this.nl++;var s=new ba(i,e,n,r);this.xi.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.sl=this.sl.add(new ql(u.key,i)),this.Fi.Kr(t,u.key.path.S())}return Go.resolve(s)},t.prototype.Wr=function(t,e){return Go.resolve(this.il(e))},t.prototype.Gr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return Go.resolve(this.xi.length>r?this.xi[r]:null)},t.prototype.zr=function(){return Go.resolve(0===this.xi.length?-1:this.nl-1)},t.prototype.Hr=function(t){return Go.resolve(this.xi.slice())},t.prototype.Mi=function(t,e){var n=this,r=new ql(e,0),i=new ql(e,Number.POSITIVE_INFINITY),s=[];return this.sl.Nt([r,i],(function(t){var e=n.il(t.Eu);s.push(e)})),Go.resolve(s)},t.prototype.qi=function(t,e){var n=this,r=new ri(Cr);return e.forEach((function(t){var e=new ql(t,0),i=new ql(t,Number.POSITIVE_INFINITY);n.sl.Nt([e,i],(function(t){r=r.add(t.Eu)}))})),Go.resolve(this.ol(r))},t.prototype.Gi=function(t,e){var n=e.path,r=n.length+1,i=n;Fr.G(i)||(i=i.child(""));var s=new ql(new Fr(i),0),o=new ri(Cr);return this.sl.xt((function(t){var e=t.key.path;return!!n.N(e)&&(e.length===r&&(o=o.add(t.Eu)),!0)}),s),Go.resolve(this.ol(o))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.Yr=function(t,e){var n=this;_r(0===this.al(e.batchId,"removed")),this.xi.shift();var r=this.sl;return Go.forEach(e.mutations,(function(i){var s=new ql(i.key,e.batchId);return r=r.delete(s),n.Lr.eo(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Zr=function(t){},t.prototype.so=function(t,e){var n=new ql(e,0),r=this.sl.Ft(n);return Go.resolve(e.isEqual(r&&r.key))},t.prototype.no=function(t){return Go.resolve()},t.prototype.al=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.xi.length?0:t-this.xi[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.xi.length?null:this.xi[e]},t}(),Vc=function(){function t(t,e){this.Fi=t,this.cl=e,this.docs=new ti(Fr.V),this.size=0}return t.prototype.Ri=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.cl(e);return this.docs=this.docs.rt(r,{gi:e,size:o,readTime:n}),this.size+=o-s,this.Fi.Kr(t,r.path.S())},t.prototype.Vi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.yi=function(t,e){var n=this.docs.get(e);return Go.resolve(n?n.gi:null)},t.prototype.getEntries=function(t,e){var n=this,r=ai();return e.forEach((function(t){var e=n.docs.get(t);r=r.rt(t,e?e.gi:null)})),Go.resolve(r)},t.prototype.Ui=function(t,e,n){for(var r=li(),i=new Fr(e.path.child("")),s=this.docs._t(i);s.It();){var o=s.Et(),a=o.value,u=a.gi,l=a.readTime;if(!e.path.N(o.key.path))break;l.A(n)<=0||u instanceof oo&&xo(e,u)&&(r=r.rt(u.key,u))}return Go.resolve(r)},t.prototype.ul=function(t,e){return Go.forEach(this.docs,(function(t){return e(t)}))},t.prototype._o=function(t){return new Fc(this)},t.prototype.wo=function(t){return Go.resolve(this.size)},t}(),Fc=function(t){function e(e){var n=this;return(n=t.call(this)||this).To=e,n}return i(e,t),e.prototype.bi=function(t){var e=this,n=[];return this.Ii.forEach((function(r,i){i&&i.gi?n.push(e.To.Ri(t,i.gi,e.Ai(r))):e.To.Vi(r)})),Go.xn(n)},e.prototype.pi=function(t,e){return this.To.yi(t,e)},e.prototype.vi=function(t,e){return this.To.getEntries(t,e)},e}(Ca),jc=function(){function t(t){this.persistence=t,this.hl=new Ar((function(t){return $r(t)}),Hr),this.lastRemoteSnapshotVersion=Rr.min(),this.highestTargetId=0,this.ll=0,this._l=new Ul,this.targetCount=0,this.fl=Mu.po()}return t.prototype.De=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),Go.resolve()},t.prototype.Co=function(t){return Go.resolve(this.lastRemoteSnapshotVersion)},t.prototype.No=function(t){return Go.resolve(this.ll)},t.prototype.bo=function(t){return this.highestTargetId=this.fl.next(),Go.resolve(this.highestTargetId)},t.prototype.xo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),Go.resolve()},t.prototype.Oo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new Mu(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Fo=function(t,e){return this.Oo(e),this.targetCount+=1,Go.resolve()},t.prototype.ko=function(t,e){return this.Oo(e),Go.resolve()},t.prototype.$o=function(t,e){return this.hl.delete(e.target),this._l.du(e.targetId),this.targetCount-=1,Go.resolve()},t.prototype.Nr=function(t,e,n){var r=this,i=0,s=[];return this.hl.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(o),s.push(r.Lo(t,a.targetId)),i++)})),Go.xn(s).next((function(){return i}))},t.prototype.Bo=function(t){return Go.resolve(this.targetCount)},t.prototype.qo=function(t,e){var n=this.hl.get(e)||null;return Go.resolve(n)},t.prototype.Uo=function(t,e,n){return this._l.lu(e,n),Go.resolve()},t.prototype.Ko=function(t,e,n){this._l.fu(e,n);var r=this.persistence.Lr,i=[];return r&&e.forEach((function(e){i.push(r.eo(t,e))})),Go.xn(i)},t.prototype.Lo=function(t,e){return this._l.du(e),Go.resolve()},t.prototype.jo=function(t,e){var n=this._l.Tu(e);return Go.resolve(n)},t.prototype.so=function(t,e){return Go.resolve(this._l.so(e))},t}(),Uc=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.mo=function(t,e){return Go.resolve(this.dl.get(e))},t.prototype.Ao=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:ts(n.createTime)}),Go.resolve()},t.prototype.Ro=function(t,e){return Go.resolve(this.wl.get(e))},t.prototype.Po=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:Ya(n.bundledQuery),readTime:ts(n.readTime)}),Go.resolve()},t}(),qc=function(){function t(t,e){var n=this;this.Tl={},this.Jo=new Na(0),this.Yo=!1,this.Yo=!0,this.Lr=t(this),this.ra=new jc(this),this.Fi=new cu,this.Ni=function(t,e){return new Vc(t,(function(t){return n.Lr.El(t)}))}(this.Fi),this.serializer=new qa(e),this.oa=new Uc(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.pa=function(){return this.Yo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"yr",{get:function(){return this.Yo},enumerable:!1,configurable:!0}),t.prototype.fa=function(){},t.prototype.da=function(){},t.prototype.Oa=function(){return this.Fi},t.prototype.Na=function(t){var e=this.Tl[t.Ys()];return e||(e=new Mc(this.Fi,this.Lr),this.Tl[t.Ys()]=e),e},t.prototype.xa=function(){return this.ra},t.prototype.Fa=function(){return this.Ni},t.prototype.Ma=function(){return this.oa},t.prototype.runTransaction=function(t,e,n){var r=this;pr("MemoryPersistence","Starting transaction:",t);var i=new Bc(this.Jo.next());return this.Lr.Il(),n(i).next((function(t){return r.Lr.ml(i).next((function(){return t}))})).Cn().then((function(t){return i.Ci(),t}))},t.prototype.Al=function(t,e){return Go.Fn(Object.values(this.Tl).map((function(n){return function(){return n.so(t,e)}})))},t}(),Bc=function(t){function e(e){var n=this;return(n=t.call(this)||this).Go=e,n}return i(e,t),e}(Ia),zc=function(){function t(t){this.persistence=t,this.Rl=new Ul,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"Vl",{get:function(){if(this.Pl)return this.Pl;throw vr()},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t,e,n){return this.Rl.Qo(n,e),this.Vl.delete(n.toString()),Go.resolve()},t.prototype.Wo=function(t,e,n){return this.Rl.Wo(n,e),this.Vl.add(n.toString()),Go.resolve()},t.prototype.eo=function(t,e){return this.Vl.add(e.toString()),Go.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.du(e.targetId).forEach((function(t){return n.Vl.add(t.toString())}));var r=this.persistence.xa();return r.jo(t,e.targetId).next((function(t){t.forEach((function(t){return n.Vl.add(t.toString())}))})).next((function(){return r.$o(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Fa()._o();return Go.forEach(this.Vl,(function(r){var i=Fr.K(r);return e.yl(t,i).next((function(t){t||n.Vi(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.qa=function(t,e){var n=this;return this.yl(t,e).next((function(t){t?n.Vl.delete(e.toString()):n.Vl.add(e.toString())}))},t.prototype.El=function(t){return 0},t.prototype.yl=function(t,e){var n=this;return Go.Fn([function(){return Go.resolve(n.Rl.so(e))},function(){return n.persistence.xa().so(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),$c=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.mc=function(t){this.bl=t},t.prototype.dc=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),Hc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Gc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return i(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,s){var o=new ur;o.listenOnce(or.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case sr.NO_ERROR:var e=o.getResponseJson();pr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case sr.TIMEOUT:pr("Connection",'RPC "'+t+'" timed out'),s(new Or(Nr.DEADLINE_EXCEEDED,"Request time out"));break;case sr.HTTP_ERROR:var n=o.getStatus();if(pr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(Nr).indexOf(e)>=0?e:Nr.UNKNOWN}(r.status);s(new Or(a,r.message))}else s(new Or(Nr.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Or(Nr.UNAVAILABLE,"Connection failed."));break;default:vr()}}finally{pr("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype.Ac=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new tr,i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(i.initMessageHeaders,e),Object(c.l)()||Object(c.n)()||Object(c.j)()||Object(c.k)()||Object(c.o)()||Object(c.i)()||(i.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");pr("Connection","Creating WebChannel: "+s,i);var o=r.createWebChannel(s,i),a=!1,u=!1,l=new $c({pl:function(t){u?pr("Connection","Not sending because WebChannel is closed:",t):(a||(pr("Connection","Opening WebChannel transport."),o.open(),a=!0),pr("Connection","WebChannel sending:",t),o.send(t))},vl:function(){return o.close()}}),h=function(t,e){o.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(ar.EventType.OPEN,(function(){u||pr("Connection","WebChannel transport opened.")})),h(ar.EventType.CLOSE,(function(){u||(u=!0,pr("Connection","WebChannel transport closed"),l.Nl())})),h(ar.EventType.ERROR,(function(t){u||(u=!0,gr("Connection","WebChannel transport errored:",t),l.Nl(new Or(Nr.UNAVAILABLE,"The operation could not be completed")))})),h(ar.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];_r(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){pr("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Kr[t];if(void 0!==e)return Jr(e)}(i),a=r.message;void 0===s&&(s=Nr.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),u=!0,l.Nl(new Or(s,a)),o.close()}else pr("Connection","WebChannel received:",n),l.xl(n)}})),setTimeout((function(){l.Cl()}),0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.xc=function(t,e,n,r){var i=this.kl(t,e);pr("RestConnection","Sending: ",i,n);var s={};return this.$l(s,r),this.Ll(t,i,s,n).then((function(t){return pr("RestConnection","Received: ",t),t}),(function(e){throw gr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Fc=function(t,e,n,r){return this.xc(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.2",t["Content-Type"]="text/plain",e)for(var n in e.ti)e.ti.hasOwnProperty(n)&&(t[n]=e.ti[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+Hc[t]},t}()),Wc=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Xc=function(t){this.Kl.push(t)},t.prototype.pa=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){pr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){pr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Kc=function(){function t(){}return t.prototype.Xc=function(t){},t.prototype.pa=function(){},t}(),Qc=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return s(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.serializer=Sa(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Kc=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Zu(this.persistence,new Lc,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new qc(zc.gl,this.serializer)},t.prototype.jl=function(t){return new Yl},t.prototype.terminate=function(){return s(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.pa()];case 1:return t.sent(),[4,this.persistence.pa()];case 2:return t.sent(),[2]}}))}))},t}(),Zc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return i(e,t),e.prototype.initialize=function(e){return s(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,al(this.Kc)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Dc(this.Xl.gu)];case 4:return n.sent(),[4,Nl(this.Xl.Oh)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return Zu(this.persistence,new Lc,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new La(this.persistence.Lr.Rr,t.rs)},e.prototype.Gl=function(t){var e=Ku(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?Da.Tr(this.cacheSizeBytes):Da.mr;return new zu(this.synchronizeTabs,e,t.clientId,n,t.rs,na(),ra(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new Yl},e}(Qc),Yc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return i(e,t),e.prototype.initialize=function(e){return s(this,void 0,void 0,(function(){var n,r=this;return o(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.gu,this.kh instanceof Zl?(this.kh.gu={_h:xc.bind(null,n),fh:Oc.bind(null,n),dh:Pc.bind(null,n),Ca:Nc.bind(null,n),lh:Tc.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence._a((function(t){return s(r,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,Ic(this.Xl.gu,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.yr?this.zl.start(this.Kc):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=na();if(!Zl.kn(e))throw new Or(Nr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ku(t.Fl.t,t.Fl.persistenceKey);return new Zl(e,t.rs,n,t.clientId,t.Yl)},e}(Zc),Xc=function(){function t(){}return t.prototype.initialize=function(t,e){return s(this,void 0,void 0,(function(){var n=this;return o(this,(function(r){switch(r.label){case 0:return this.Kc?[3,2]:(this.Kc=t.Kc,this.kh=t.kh,this.Wc=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.gu=this.n_(e,!t.synchronizeTabs),this.kh.Oc=function(t){return lc(n.gu,t,1)},this.Oh.jc.s_=Ec.bind(null,this.gu),[4,Vl(this.Oh,this.gu.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new ua},t.prototype.Zl=function(t){var e=Sa(t.Fl.t),n=new Gc(t.Fl);return function(t,e,n){return new fl(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Kc,n=this.Wc,r=t.rs,i=function(t){return lc(o.gu,t,0)},s=Wc.kn()?new Wc:new Kc,new pl(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new rc(t,e,n,r,i,s);return o&&(a.Hh=!0),a}(this.Kc,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return s(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return e=wr(t),pr("RemoteStore","RemoteStore shutting down."),e.Hc.add(5),[4,gl(e)];case 1:return n.sent(),e.Yc.pa(),e.Zc.set("Unknown"),[2]}}))}))}(this.Oh)},t}(),Jc=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),th=function(t){this.o_=t};function eh(t,e,n){if(!n)throw new Or(Nr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function nh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Or(Nr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function rh(t,e,n,r){if(!0===e&&!0===r)throw new Or(Nr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ih(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":vr()}function sh(t,e){if(t instanceof th&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Or(Nr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ih(t);throw new Or(Nr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function oh(t,e){if(e<=0)throw new Or(Nr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ah=function(t){this.a_=t},uh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.h_(1===t.u_?this.a_+"() can only appear at the top level of your update data":this.a_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ah);function lh(t,e,n){return new Lh({u_:3,l_:e.settings.l_,methodName:t.a_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var ch=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.c_=function(t){return new Fs(t.path,new As)},e.prototype.isEqual=function(t){return t instanceof e},e}(ah),hh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return i(e,t),e.prototype.c_=function(t){var e=lh(this,t,!0),n=this.f_.map((function(t){return qh(t,e)})),r=new Ns(n);return new Fs(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ah),fh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return i(e,t),e.prototype.c_=function(t){var e=lh(this,t,!0),n=this.f_.map((function(t){return qh(t,e)})),r=new Ps(n);return new Fs(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ah),dh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return i(e,t),e.prototype.c_=function(t){var e=new Ds(t.serializer,Zi(t.serializer,this.d_));return new Fs(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ah),ph=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Or(Nr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Or(Nr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.T_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.T_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.T_===t.T_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.T_}},t.prototype.I=function(t){return Cr(this.w_,t.w_)||Cr(this.T_,t.T_)},t}(),mh=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(Wr.fromBase64String(e))}catch(e){throw new Or(Nr.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Wr.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),gh=new Map,yh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Or(Nr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Or(Nr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,rh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}();function vh(){if("undefined"==typeof Uint8Array)throw new Or(Nr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function _h(){if("undefined"==typeof atob)throw new Or(Nr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var wh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.fromBase64String=function(t){_h();try{return new e(Wr.fromBase64String(t))}catch(t){throw new Or(Nr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){return vh(),new e(Wr.fromUint8Array(t))},e.prototype.toBase64=function(){return _h(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return vh(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(mh),bh=function(){function t(){}return t.prototype.I_=function(t,e){switch(void 0===e&&(e="none"),Ni(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vi(t.integerValue||t.doubleValue);case 3:return this.m_(t.timestampValue);case 4:return this.A_(t,e);case 5:return t.stringValue;case 6:return this.R_(Fi(t.bytesValue));case 7:return this.P_(t.referenceValue);case 8:return this.g_(t.geoPointValue);case 9:return this.V_(t.arrayValue,e);case 10:return this.y_(t.mapValue,e);default:throw vr()}},t.prototype.y_=function(t,e){var n=this,r={};return Ir(t.fields||{},(function(t,i){r[t]=n.I_(i,e)})),r},t.prototype.g_=function(t){return new ph(Vi(t.latitude),Vi(t.longitude))},t.prototype.V_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.I_(t,e)}))},t.prototype.A_=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Ii(n)?t(n):n}(t);return null==n?null:this.I_(n,e);case"estimate":return this.m_(ki(t));default:return null}},t.prototype.m_=function(t){var e=Mi(t);return new Pr(e.seconds,e.nanos)},t.prototype.p_=function(t,e){var n=Lr.k(t);_r(Ss(n));var r=new hr(n.get(1),n.get(3)),i=new Fr(n.v(5));return r.isEqual(e)||mr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Eh=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return i(e,t),e.prototype.R_=function(t){return new wh(t)},e.prototype.P_=function(t){var e=this.p_(t,this.firestore.v_);return Nf.b_(e,this.firestore,null)},e}(bh),Ch=function(){function t(t,e,n,r,i){this.S_=t,this.D_=e,this.C_=n,this.N_=r,this.x_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ih(this.S_,this.x_,this.C_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.N_},t.prototype.data=function(){if(this.N_){if(this.x_){var t=new Sh(this.S_,this.D_,this.C_,this.N_,null);return this.x_.fromFirestore(t)}return this.D_.I_(this.N_.sn())}},t.prototype.get=function(t){if(this.N_){var e=this.N_.data().field(Th("DocumentSnapshot.get",t));if(null!==e)return this.D_.I_(e)}},t}(),Sh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ch);function Th(t,e){return"string"==typeof e?Wh(t,e):e instanceof th?e.o_.F_:e.F_}var xh=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Or(Nr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.F_=new Vr(t)}return t.prototype.isEqual=function(t){return this.F_.isEqual(t.F_)},t}(),Ih=function(){function t(t,e,n){this.x_=e,this.C_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"O_",{get:function(){return this.C_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.C_.path.M()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ah(this.firestore,this.x_,this.C_.path.S())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),kh=function(){function t(t,e,n){this.x_=e,this.M_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.M_)},t}(),Ah=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ho(r))||this).firestore=e,i.O_=r,i.type="collection",i}return i(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.M_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.M_.path.M()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.O_.S();return t.T()?null:new Ih(this.firestore,null,new Fr(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.O_)},e}(kh);function Nh(t){var e=t.k_(),n=Sa(t.v_);return new Mh(t.v_,!!e.ignoreUndefinedProperties,n)}var Oh=/^__.*__$/,Ph=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.L_=function(t,e){var n=[];return n.push(null!==this.Qe?new Qs(t,this.data,this.Qe,e):new Ks(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ys(t,this.fieldTransforms)),n},t}(),Rh=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.L_=function(t,e){var n=[new Qs(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new Ys(t,this.fieldTransforms)),n},t}();function Dh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vr()}}var Lh=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.B_(),this.fieldTransforms=i||[],this.Qe=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.q_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.q_({path:n,__:!1});return r.Q_(t),r},t.prototype.K_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.q_({path:n,__:!1});return r.B_(),r},t.prototype.W_=function(t){return this.q_({path:void 0,__:!0})},t.prototype.h_=function(t){return Kh(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.N(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.N(e.field)}))},t.prototype.B_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Q_(this.path.get(t))},t.prototype.Q_=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(Dh(this.u_)&&Oh.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),Mh=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||Sa(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Lh({u_:t,methodName:e,l_:n,path:Vr.$(),__:!1,j_:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function Vh(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);$h("Data must be an object, but it was:",o,r);var a,u,l=Bh(r,o);if(s.merge)a=new Vs(o.Qe),u=o.fieldTransforms;else if(s.mergeFields){for(var c=[],h=0,f=s.mergeFields;h<f.length;h++){var d=Hh(e,f[h],n);if(!o.contains(d))throw new Or(Nr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Qh(c,d)||c.push(d)}a=new Vs(c),u=o.fieldTransforms.filter((function(t){return a.He(t.field)}))}else a=null,u=o.fieldTransforms;return new Ph(new no(l),a,u)}function Fh(t,e,n,r){var i=t.G_(1,e,n);$h("Data must be an object, but it was:",i,r);var s=[],o=new ro;Ir(r,(function(t,r){var a=Wh(e,t,n);r instanceof th&&(r=r.o_);var u=i.K_(a);if(r instanceof uh)s.push(a);else{var l=qh(r,u);null!=l&&(s.push(a),o.set(a,l))}}));var a=new Vs(s);return new Rh(o.Ye(),a,i.fieldTransforms)}function jh(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[Hh(e,r,n)],u=[i];if(s.length%2!=0)throw new Or(Nr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)a.push(Hh(e,s[l])),u.push(s[l+1]);for(var c=[],h=new ro,f=a.length-1;f>=0;--f)if(!Qh(c,a[f])){var d=a[f],p=u[f];p instanceof th&&(p=p.o_);var m=o.K_(d);if(p instanceof uh)c.push(d);else{var g=qh(p,m);null!=g&&(c.push(d),h.set(d,g))}}var y=new Vs(c);return new Rh(h.Ye(),y,o.fieldTransforms)}function Uh(t,e,n,r){return void 0===r&&(r=!1),qh(n,t.G_(r?4:3,e))}function qh(t,e){if(t instanceof th&&(t=t.o_),zh(t))return $h("Unsupported field value:",e,t),Bh(t,e);if(t instanceof ah)return function(t,e){if(!Dh(e.u_))throw e.h_(t.a_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.a_+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.u_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=qh(s[i],e.W_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof th&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zi(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Pr.fromDate(t);return{timestampValue:Yi(e.serializer,n)}}if(t instanceof Pr){var r=new Pr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yi(e.serializer,r)}}if(t instanceof ph)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof mh)return{bytesValue:Xi(e.serializer,t.E_)};if(t instanceof Ih){var i=e.t,s=t.firestore.v_;if(!s.isEqual(i))throw e.h_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:es(t.firestore.v_||e.t,t.C_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+ih(t))}(t,e)}function Bh(t,e){var n={};return kr(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):Ir(t,(function(t,r){var i=qh(r,e.U_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function zh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Pr||t instanceof ph||t instanceof mh||t instanceof Ih||t instanceof ah)}function $h(t,e,n){if(!zh(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=ih(n);throw e.h_("an object"===r?t+" a custom object":t+" "+r)}}function Hh(t,e,n){if(e instanceof th&&(e=e.o_),e instanceof xh)return e.F_;if("string"==typeof e)return Wh(t,e);throw Kh("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Gh=new RegExp("[~\\*/\\[\\]]");function Wh(t,e,n){if(e.search(Gh)>=0)throw Kh("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(xh.bind.apply(xh,a([void 0],e.split("."))))).F_}catch(r){throw Kh("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Kh(t,e,n,r,i){var s=r&&!r.T(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Or(Nr.INVALID_ARGUMENT,(a+=". ")+t+u)}function Qh(t,e){return t.some((function(t){return t.isEqual(e)}))}var Zh=function(){function t(t){this.Wc=t,this.z_=new Map,this.mutations=[],this.H_=!1,this.J_=null,this.Y_=new Set}return t.prototype.X_=function(t){return s(this,void 0,void 0,(function(){var e,n=this;return o(this,(function(r){switch(r.label){case 0:if(this.Z_(),this.mutations.length>0)throw new Or(Nr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return s(this,void 0,void 0,(function(){var n,r,i,s,a,u;return o(this,(function(o){switch(o.label){case 0:return n=wr(t),r=as(n.serializer)+"/documents",i={documents:e.map((function(t){return rs(n.serializer,t)}))},[4,n.Fc("BatchGetDocuments",r,i)];case 1:return s=o.sent(),a=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){_r(!!e.found);var n=is(t,e.found.name),r=ts(e.found.updateTime),i=new no({mapValue:{fields:e.found.fields}});return new oo(n,r,i,{})}(t,e):"missing"in e?function(t,e){_r(!!e.missing),_r(!!e.readTime);var n=is(t,e.missing),r=ts(e.readTime);return new ao(n,r)}(t,e):vr()}(n.serializer,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());_r(!!e),u.push(e)})),u)]}}))}))}(this.Wc,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof ao||t instanceof oo?n.tf(t):vr()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.L_(t,this.je(t))),this.Y_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.L_(t,this.ef(t)))}catch(t){this.J_=t}this.Y_.add(t.toString())},t.prototype.delete=function(t){this.write([new to(t,this.je(t))]),this.Y_.add(t.toString())},t.prototype.commit=function(){return s(this,void 0,void 0,(function(){var t,e=this;return o(this,(function(n){switch(n.label){case 0:if(this.Z_(),this.J_)throw this.J_;return t=this.z_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Fr.K(n);e.mutations.push(new eo(r,e.je(r)))})),[4,function(t,e){return s(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(s){switch(s.label){case 0:return n=wr(t),r=as(n.serializer)+"/documents",i={writes:e.map((function(t){return cs(n.serializer,t)}))},[4,n.xc("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.Wc,this.mutations)];case 1:return n.sent(),this.H_=!0,[2]}}))}))},t.prototype.tf=function(t){var e;if(t instanceof oo)e=t.version;else{if(!(t instanceof ao))throw vr();e=Rr.min()}var n=this.z_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Or(Nr.ABORTED,"Document version changed between two reads.")}else this.z_.set(t.key.toString(),e)},t.prototype.je=function(t){var e=this.z_.get(t.toString());return!this.Y_.has(t.toString())&&e?Us.updateTime(e):Us.Ge()},t.prototype.ef=function(t){var e=this.z_.get(t.toString());if(!this.Y_.has(t.toString())&&e){if(e.isEqual(Rr.min()))throw new Or(Nr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Us.updateTime(e)}return Us.exists(!0)},t.prototype.write=function(t){this.Z_(),this.mutations=this.mutations.concat(t)},t.prototype.Z_=function(){},t}(),Yh=function(){function t(t,e,n,r){this.rs=t,this.Wc=e,this.updateFunction=n,this.us=r,this.nf=5,this.Ps=new Ho(this.rs,"transaction_retry")}return t.prototype.run=function(){this.sf()},t.prototype.sf=function(){var t=this;this.Ps.An((function(){return s(t,void 0,void 0,(function(){var t,e,n=this;return o(this,(function(r){return t=new Zh(this.Wc),(e=this.rf(t))&&e.then((function(e){n.rs.fs((function(){return t.commit().then((function(){n.us.resolve(e)})).catch((function(t){n.af(t)}))}))})).catch((function(t){n.af(t)})),[2]}))}))}))},t.prototype.rf=function(t){try{var e=this.updateFunction(t);return!jr(e)&&e.catch&&e.then?e:(this.us.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.us.reject(t),null}},t.prototype.af=function(t){var e=this;this.nf>0&&this.cf(t)?(this.nf-=1,this.rs.fs((function(){return e.sf(),Promise.resolve()}))):this.us.reject(t)},t.prototype.cf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Xr(e)}return!1},t}(),Xh=function(){function t(t,e,n){var r=this;this.credentials=t,this.rs=e,this.Fl=n,this.user=ma.UNAUTHENTICATED,this.clientId=Er.u(),this.uf=function(){},this.oi=new $o,this.credentials.si((function(t){pr("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.uf(t)),r.oi.resolve()}))}return t.prototype.getConfiguration=function(){return s(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.oi.promise];case 1:return[2,(t.sent(),{rs:this.rs,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}}))}))},t.prototype.hf=function(t){var e=this;this.uf=t,this.oi.promise.then((function(){return e.uf(e.user)}))},t.prototype.lf=function(){if(this.rs.Vs)throw new Or(Nr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.rs.bs();var e=new $o;return this.rs.ys((function(){return s(t,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this._f?[4,this._f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.ff?[4,this.ff.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.ii(),e.resolve(),[3,6];case 5:return t=r.sent(),n=oa(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Jh(t,e){return s(this,void 0,void 0,(function(){var n,r=this;return o(this,(function(i){switch(i.label){case 0:return t.rs.Ns(),pr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.hf((function(n){return t.rs.Ss((function(){return s(r,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,Yu(e.Kc,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.fa((function(){return t.terminate()})),t.ff=e,[2]}}))}))}function tf(t,e){return s(this,void 0,void 0,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:return t.rs.Ns(),[4,ef(t)];case 1:return n=i.sent(),pr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.hf((function(n){return t.rs.Ss((function(){return function(t,e){return s(this,void 0,void 0,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:return(n=wr(t)).rs.Ns(),pr("RemoteStore","RemoteStore received new credentials"),r=Cl(n),n.Hc.add(3),[4,gl(n)];case 1:return i.sent(),r&&n.Zc.set("Unknown"),[4,n.jc.s_(e)];case 2:return i.sent(),n.Hc.delete(3),[4,ml(n)];case 3:return i.sent(),[2]}}))}))}(e.Oh,n)}))})),t._f=e,[2]}}))}))}function ef(t){return s(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return t.ff?[3,2]:(pr("FirestoreClient","Using default OfflineComponentProvider"),[4,Jh(t,new Qc)]);case 1:e.sent(),e.label=2;case 2:return[2,t.ff]}}))}))}function nf(t){return s(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return t._f?[3,2]:(pr("FirestoreClient","Using default OnlineComponentProvider"),[4,tf(t,new Xc)]);case 1:e.sent(),e.label=2;case 2:return[2,t._f]}}))}))}function rf(t){return ef(t).then((function(t){return t.persistence}))}function sf(t){return ef(t).then((function(t){return t.Kc}))}function of(t){return nf(t).then((function(t){return t.Oh}))}function af(t){return nf(t).then((function(t){return t.gu}))}function uf(t){return s(this,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return[4,nf(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ls=ic.bind(null,e.gu),n.Us=oc.bind(null,e.gu),n)]}}))}))}function lf(t,e){var n=this,r=new $o;return t.rs.fs((function(){return s(n,void 0,void 0,(function(){var n;return o(this,(function(i){switch(i.label){case 0:return n=ac,[4,af(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}function cf(t,e,n){return s(this,void 0,void 0,(function(){var r,i,s;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=wr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ga.Oi(t,e)}))}(t,e)];case 1:return(r=o.sent())instanceof oo?n.resolve(r):r instanceof ao?n.resolve(null):n.reject(new Or(Nr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=oa(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))}function hf(t,e,n,r,i){var s=new Jc({next:function(s){e.fs((function(){return ca(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Or(Nr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Or(Nr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new pa(ho(n.path),s,{includeMetadataChanges:!0,Hs:!0});return la(t,o)}var ff=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).yf=new sa,r.df="name"in e?e.name:"[DEFAULT]",r}return i(e,t),e.prototype.Vf=function(){return this.pf||If(this),this.pf.terminate()},e}(function(){function t(t,e){this.df="(lite)",this.wf=new yh({}),this.Tf=!1,t instanceof hr?(this.v_=t,this.Ef=new ya):(this.If=t,this.v_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Or(Nr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hr(t.options.projectId)}(t),this.Ef=new va(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.If)throw new Or(Nr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.If},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Af",{get:function(){return void 0!==this.Rf},enumerable:!1,configurable:!0}),t.prototype.Pf=function(t){if(this.Tf)throw new Or(Nr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.wf=new yh(t),void 0!==t.credentials&&(this.Ef=function(t){if(!t)return new ya;switch(t.type){case"gapi":var e=t.client;return _r(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new wa(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Or(Nr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.gf=function(){return this.wf},t.prototype.k_=function(){return this.Tf=!0,this.wf},t.prototype._delete=function(){return this.Rf||(this.Rf=this.Vf()),this.Rf},t.prototype.Vf=function(){return function(t){var e=gh.get(t);e&&(pr("ComponentProvider","Removing Datastore"),gh.delete(t),e.terminate())}(this),Promise.resolve()},t}());function df(t,e,n){var r=this,i=new $o;return t.rs.enqueue((function(){return s(r,void 0,void 0,(function(){var r;return o(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Jh(t,n)];case 1:return s.sent(),[4,tf(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Nr.FAILED_PRECONDITION||t.code===Nr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function pf(t){if(t.mf||t.Af)throw new Or(Nr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var mf=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).S_=e,a.vf=e,a.metadata=s,a}return i(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.N_){if(this.x_){var e=new gf(this.S_,this.D_,this.C_,this.N_,this.metadata,null);return this.x_.fromFirestore(e,t)}return this.D_.I_(this.N_.sn(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.N_){var n=this.N_.data().field(Th("DocumentSnapshot.get",t));if(null!==n)return this.D_.I_(n,e.serverTimestamps)}},e}(Ch),gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(mf),yf=function(){function t(t,e,n,r){this.S_=t,this.D_=e,this.bf=r,this.metadata=new Pf(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.bf.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.bf.docs.forEach((function(r){t.call(e,new gf(n.S_,n.D_,r.key,r,new Pf(n.bf.Qt.has(r.key),n.bf.fromCache),n.query.x_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.bf.Wt)throw new Or(Nr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Sf&&this.Df===e||(this.Sf=function(t,e){if(t.bf.Ut.T()){var n=0;return t.bf.docChanges.map((function(e){return{type:"added",doc:new gf(t.S_,t.D_,e.doc.key,e.doc,new Pf(t.bf.Qt.has(e.doc.key),t.bf.fromCache),t.query.x_),oldIndex:-1,newIndex:n++}}))}var r=t.bf.Ut;return t.bf.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new gf(t.S_,t.D_,e.doc.key,e.doc,new Pf(t.bf.Qt.has(e.doc.key),t.bf.fromCache),t.query.x_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:vf(e.type),doc:n,oldIndex:i,newIndex:s}}))}(this,e),this.Df=e),this.Sf},t}();function vf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vr()}}function _f(t,e){return t instanceof mf&&e instanceof mf?t.S_===e.S_&&t.C_.isEqual(e.C_)&&(null===t.N_?null===e.N_:t.N_.isEqual(e.N_))&&t.x_===e.x_:t instanceof yf&&e instanceof yf&&t.S_===e.S_&&function(t,e){return t instanceof kh&&e instanceof kh&&t.firestore===e.firestore&&Co(t.M_,e.M_)&&t.x_===e.x_}(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.bf.isEqual(e.bf)}var wf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return i(e,t),e.prototype.R_=function(t){return new mh(t)},e.prototype.P_=function(t){var e=this.p_(t,this.firestore.v_);return new Ih(this.firestore,null,e)},e}(bh);function bf(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s=sh(t.firestore,ff),o=Nh(s);return e instanceof th&&(e=e.o_),Ef(s,("string"==typeof e||e instanceof xh?jh(o,"updateDoc",t.C_,e,n,r):Fh(o,"updateDoc",t.C_,e)).L_(t.C_,Us.exists(!0)))}function Ef(t,e){return lf(xf(t),e)}function Cf(t,e,n){var r=n.docs.get(e.C_),i=new wf(t);return new mf(t,i,e.C_,r,new Pf(n.hasPendingWrites,n.fromCache),e.x_)}var Sf=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){pf(t);var n=xf(t),r=t.k_(),i=new Xc;return df(n,i,new Zc(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){pf(t);var e=xf(t),n=t.k_(),r=new Xc;return df(e,r,new Yc(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.mf&&!t.Af)throw new Or(Nr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new $o;return t.yf.ys((function(){return s(e,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return s(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return Wo.kn()?[4,Wo.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Ku(t.v_,t.df))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),Tf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Cf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof hr||(i.Nf=e),i}return i(e,t),Object.defineProperty(e.prototype,"v_",{get:function(){return this.o_.v_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.gf()),t)).merge,this.o_.Pf(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.gf().host&&gr("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.rs.enqueue((function(){return s(e,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return[4,rf(t)];case 1:return e=r.sent(),[4,of(t)];case 2:return n=r.sent(),[2,(e.da(!0),function(t){var e=wr(t);return e.Hc.delete(0),ml(e)}(n))]}}))}))}))}(xf(this.o_))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.rs.enqueue((function(){return s(e,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return[4,rf(t)];case 1:return e=r.sent(),[4,of(t)];case 2:return n=r.sent(),[2,(e.da(!1),function(t){return s(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return(e=wr(t)).Hc.add(0),[4,gl(e)];case 1:return n.sent(),e.Zc.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(xf(this.o_))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&rh("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Cf.enableMultiTabIndexedDbPersistence(this):this.Cf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Cf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new $o;return t.rs.fs((function(){return s(e,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return e=dc,[4,af(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(xf(this.o_))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=xf(t),i=Ta(e)?e:{next:e},a=new Jc(i);return t.yf.fs((function(){return s(n,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return t=function(t,e){wr(t).$s.add(e),e.next()},[4,uf(r)];case 1:return t.apply(void 0,[e.sent(),a]),[2]}}))}))})),function(){a.r_(),t.yf.fs((function(){return s(n,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return t=function(t,e){wr(t).$s.delete(e)},[4,uf(r)];case 1:return t.apply(void 0,[e.sent(),a]),[2]}}))}))}))}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Nf)throw new Or(Nr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Nf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){return eh("Firestore.collection","path",t),xf(this.o_),new Bf(Lr.k(t),this,null)},e.prototype.doc=function(t){return eh("Firestore.doc","path",t),xf(this.o_),Nf.xf(Lr.k(t),this,null)},e.prototype.collectionGroup=function(t){if(eh("Firestore.collectionGroup","collectionId",t),t.indexOf("/")>=0)throw new Or(Nr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return xf(this.o_),new jf(function(t){return new lo(Lr.$(),t)}(t),this,null)},e.prototype.runTransaction=function(t){var e=this;return function(t,e){var n=this,r=new $o;return t.rs.fs((function(){return s(n,void 0,void 0,(function(){var n;return o(this,(function(i){switch(i.label){case 0:return[4,function(t){return nf(t).then((function(t){return t.Wc}))}(t)];case 1:return n=i.sent(),new Yh(t.rs,n,e,r).run(),[2]}}))}))})),r.promise}(xf(this.o_),(function(n){return t(new kf(e,n))}))},e.prototype.batch=function(){return xf(this.o_),new Af(this)},e}(th);function xf(t){return t.pf||If(t),t.pf.lf(),t.pf}function If(t){var e=t.k_(),n=function(t,e,n){return new cr(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.v_,t.df,e);t.pf=new Xh(t.Ef,t.yf,n)}var kf=function(){function t(t,e){this.S_=t,this.Ff=e,this.Of=Nh(this.S_.o_)}return t.prototype.get=function(t){var e=this,n=zf(0,t,this.S_),r=new Eh(this.S_);return this.Ff.X_([n.C_]).then((function(t){if(!t||1!==t.length)return vr();var i=t[0];if(i instanceof ao)return new Rf(e.S_,new mf(e.S_.o_,r,n.C_,null,new Pf(!1,!1),n.x_));if(i instanceof oo)return new Rf(e.S_,new mf(e.S_.o_,r,n.C_,i,new Pf(!1,!1),n.x_));throw vr()}))},t.prototype.set=function(t,e,n){var r=zf(0,t,this.S_);n=nh("Transaction.set",n);var i=$f(r.x_,e,n),s=Vh(this.Of,"Transaction.set",r.C_,i,null!==r.x_,n);return this.Ff.set(r.C_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=zf(0,t,this.S_);return e instanceof th&&(e=e.o_),s="string"==typeof e||e instanceof xh?jh(this.Of,"Transaction.update",o.C_,e,n,r):Fh(this.Of,"Transaction.update",o.C_,e),this.Ff.update(o.C_,s),this},t.prototype.delete=function(t){var e=zf(0,t,this.S_);return this.Ff.delete(e.C_),this},t}(),Af=function(){function t(t){this.S_=t,this.Mf=[],this.kf=!1,this.Of=Nh(this.S_.o_)}return t.prototype.set=function(t,e,n){this.$f();var r=zf(0,t,this.S_);n=nh("WriteBatch.set",n);var i=$f(r.x_,e,n),s=Vh(this.Of,"WriteBatch.set",r.C_,i,null!==r.x_,n);return this.Mf=this.Mf.concat(s.L_(r.C_,Us.Ge())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.$f();var s,o=zf(0,t,this.S_);return e instanceof th&&(e=e.o_),s="string"==typeof e||e instanceof xh?jh(this.Of,"WriteBatch.update",o.C_,e,n,r):Fh(this.Of,"WriteBatch.update",o.C_,e),this.Mf=this.Mf.concat(s.L_(o.C_,Us.exists(!0))),this},t.prototype.delete=function(t){this.$f();var e=zf(0,t,this.S_);return this.Mf=this.Mf.concat(new to(e.C_,Us.Ge())),this},t.prototype.commit=function(){return this.$f(),this.kf=!0,this.Mf.length>0?lf(xf(this.S_.o_),this.Mf):Promise.resolve()},t.prototype.$f=function(){if(this.kf)throw new Or(Nr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Nf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.D_=new Eh(e),r}return i(e,t),e.xf=function(t,n,r){if(t.length%2!=0)throw new Or(Nr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.M()+" has "+t.length);return new e(n,new Ih(n.o_,r,new Fr(t)))},e.b_=function(t,n,r){return new e(n,new Ih(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Bf(this.o_.O_.S(),this.firestore,this.o_.x_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(eh("DocumentReference.collection","path",t),!t)throw new Or(Nr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Lr.k(t);return new Bf(this.o_.O_.child(e),this.firestore,null)},e.prototype.isEqual=function(t){return t instanceof th&&(t=t.o_),t instanceof Ih&&(n=t,((e=this.o_)instanceof Ih||e instanceof Ah)&&(n instanceof Ih||n instanceof Ah)&&e.firestore===n.firestore&&e.path===n.path&&e.x_===n.x_);var e,n},e.prototype.set=function(t,e){e=nh("DocumentReference.set",e);try{return function(t,e,n){var r=sh(t.firestore,ff),i=$f(t.x_,e,n);return Ef(r,Vh(Nh(r),"setDoc",t.C_,i,null!==t.x_,n).L_(t.C_,Us.Ge()))}(this.o_,t,e)}catch(t){throw Of(t,"setDoc","DocumentReference.set")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?bf(this.o_,t):bf.apply(void 0,a([this.o_,t,e],n))}catch(t){throw Of(t,"updateDoc","DocumentReference.update")}},e.prototype.delete=function(){return Ef(sh((t=this.o_).firestore,ff),[new to(t.C_,Us.Ge())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Ta(r))return r}return{}}(e),i=function(e,n){var r,i,s;return{next:function(e){s.next&&s.next(function(e){return new Rf(t.firestore,new mf(t.firestore.o_,t.D_,e.C_,e.N_,e.metadata,t.o_.x_))}(e))},error:null===(r=(s=Ta(e[0])?e[0]:Ta(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===r?void 0:r.bind(s),complete:null===(i=s.complete)||void 0===i?void 0:i.bind(s)}}(e);return function(t){for(var e,n,r,i=this,a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];var l={includeMetadataChanges:!1},c=0;"object"!=typeof a[c]||Ta(a[c])||(l=a[c],c++);var h,f,d,p={includeMetadataChanges:l.includeMetadataChanges};if(Ta(a[c])){var m=a[c];a[c]=null===(e=m.next)||void 0===e?void 0:e.bind(m),a[c+1]=null===(n=m.error)||void 0===n?void 0:n.bind(m),a[c+2]=null===(r=m.complete)||void 0===r?void 0:r.bind(m)}if(t instanceof Ih)f=sh(t.firestore,ff),d=ho(t.C_.path),h={next:function(e){a[c]&&a[c](Cf(f,t,e))},error:a[c+1],complete:a[c+2]};else{f=sh(t.firestore,ff),d=t.M_;var g=new wf(f);h={next:function(e){a[c]&&a[c](new yf(f,g,t,e))},error:a[c+1],complete:a[c+2]},Ff(t.M_)}var y=xf(f),v=new Jc(h),_=new pa(d,v,p);return f.yf.fs((function(){return s(i,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return t=la,[4,uf(y)];case 1:return[2,t.apply(void 0,[e.sent(),_])]}}))}))})),function(){v.r_(),f.yf.fs((function(){return s(i,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return t=ca,[4,uf(y)];case 1:return[2,t.apply(void 0,[e.sent(),_])]}}))}))}))}}(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=sh(t.firestore,ff),r=xf(n),i=new wf(n),a=new $o;return n.yf.fs((function(){return s(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,sf(r)];case 1:return[4,cf(e.sent(),t.C_,a)];case 2:return e.sent(),[2]}}))}))})),a.promise.then((function(e){return new mf(n,i,t.C_,e,new Pf(e instanceof oo&&e.Je,!0),t.x_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=sh(t.firestore,ff),r=xf(n),i=new $o;return n.yf.fs((function(){return s(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,uf(r)];case 1:return[4,hf(e.sent(),n.yf,t.C_,{source:"server"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return Cf(n,t,e)}))}(this.o_):function(t){var e=this,n=sh(t.firestore,ff),r=xf(n),i=new $o;return n.yf.fs((function(){return s(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,uf(r)];case 1:return[4,hf(e.sent(),n.yf,t.C_,{source:"default"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return Cf(n,t,e)}))}(this.o_)).then((function(t){return new Rf(e.firestore,new mf(e.firestore.o_,e.D_,t.C_,t.N_,t.metadata,e.o_.x_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(th);function Of(t,e,n){return t.message=t.message.replace(e+"()",n+"()"),t}var Pf=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Rf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return i(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Nf(this.S_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return _f(this.o_,t.o_)},e}(th),Df=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(Rf);function Lf(t,e,n){if(n instanceof th&&(n=n.o_),"string"==typeof n){if(""===n)throw new Or(Nr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!yo(e)&&-1!==n.indexOf("/"))throw new Or(Nr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Lr.k(n));if(!Fr.G(r))throw new Or(Nr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ji(t,new Fr(r))}if(n instanceof Ih)return ji(t,n.C_);throw new Or(Nr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ih(n)+".")}function Mf(t,e){if(!Array.isArray(t)||0===t.length)throw new Or(Nr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Or(Nr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Vf(t,e,n){if(!n.isEqual(e))throw new Or(Nr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Ff(t){if(po(t)&&0===t.rn.length)throw new Or(Nr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jf=function(){function t(t,e,n){this.M_=t,this.firestore=e,this.x_=n,this.Lf=Nh(e.o_),this.D_=new Eh(e)}return t.prototype.where=function(e,n,r){var i=Hh("Query.where",e),s=function(t,e,n,r,i,s,o){var a;if(i.B()){if("array-contains"===s||"array-contains-any"===s)throw new Or(Nr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Mf(o,s);for(var u=[],l=0,c=o;l<c.length;l++)u.push(Lf(r,t,c[l]));a={arrayValue:{values:u}}}else a=Lf(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Mf(o,s),a=Uh(n,"Query.where",o,"in"===s||"not-in"===s);var h=ko.create(i,s,a);return function(t,e){if(e.cn()){var n=go(t);if(null!==n&&!n.isEqual(e.field))throw new Or(Nr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=mo(t);null!==r&&Vf(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Or(Nr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(this.M_,0,this.Lf,this.firestore.v_,i,n,r);return new t(function(t,e){var n=t.filters.concat([e]);return new lo(t.path,t.collectionGroup,t.rn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(this.M_,s),this.firestore,this.x_)},t.prototype.orderBy=function(e,n){var r;if(void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new Or(Nr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Hh("Query.orderBy",e),s=function(t,e,n){if(null!==t.startAt)throw new Or(Nr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Or(Nr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qo(e,n);return function(t,e){if(null===mo(t)){var n=go(t);null!==n&&Vf(0,n,e.field)}}(t,r),r}(this.M_,i,r);return new t(function(t,e){var n=t.rn.concat([e]);return new lo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(this.M_,s),this.firestore,this.x_)},t.prototype.limit=function(e){return oh("Query.limit",e),new t(wo(this.M_,e,"F"),this.firestore,this.x_)},t.prototype.limitToLast=function(e){return oh("Query.limitToLast",e),new t(wo(this.M_,e,"L"),this.firestore,this.x_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.startAt",e,n,!0);return new t(bo(this.M_,i),this.firestore,this.x_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.startAfter",e,n,!1);return new t(bo(this.M_,i),this.firestore,this.x_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.endBefore",e,n,!0);return new t(Eo(this.M_,i),this.firestore,this.x_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.endAt",e,n,!1);return new t(Eo(this.M_,i),this.firestore,this.x_)},t.prototype.isEqual=function(e){return e instanceof t&&this.firestore===e.firestore&&Co(this.M_,e.M_)&&this.x_===e.x_},t.prototype.withConverter=function(e){return new t(this.M_,this.firestore,e)},t.prototype.Bf=function(t,e,n,r){if(e instanceof Rf)return function(t,e,n,r,i){if(!r)throw new Or(Nr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=vo(t);o<a.length;o++){var u=a[o];if(u.field.B())s.push(ji(e,r.key));else{var l=r.field(u.field);if(Ii(l))throw new Or(Nr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.M();throw new Or(Nr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}s.push(l)}}return new Vo(s,i)}(this.M_,this.firestore.v_,t,e.o_.N_,r);var i=[e].concat(n);return function(t,e,n,r,i,s){var o=t.rn;if(i.length>o.length)throw new Or(Nr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var l=i[u];if(o[u].field.B()){if("string"!=typeof l)throw new Or(Nr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!yo(t)&&-1!==l.indexOf("/"))throw new Or(Nr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var c=t.path.child(Lr.k(l));if(!Fr.G(c))throw new Or(Nr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new Fr(c);a.push(ji(e,h))}else{var f=Uh(n,r,l);a.push(f)}}return new Vo(a,s)}(this.M_,this.firestore.v_,this.Lf,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var u={},l=0;if("object"!=typeof i[l]||Ta(i[l])||(u=i[l],l++),Ta(i[l])){var c=i[l];i[l]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[l+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[l+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}var h={next:function(t){i[l]&&i[l](new qf(r.firestore,new yf(r.firestore.o_,r.D_,new kh(r.firestore.o_,r.x_,r.M_),t)))},error:i[l+1],complete:i[l+2]};return Ff(this.M_),function(t,e,n,r){var i=this,a=new Jc(r),u=new pa(e,a,n);return t.rs.fs((function(){return s(i,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return e=la,[4,uf(t)];case 1:return[2,e.apply(void 0,[n.sent(),u])]}}))}))})),function(){a.r_(),t.rs.fs((function(){return s(i,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return e=ca,[4,uf(t)];case 1:return[2,e.apply(void 0,[n.sent(),u])]}}))}))}))}}(xf(this.firestore.o_),this.M_,u,h)},t.prototype.get=function(t){var e=this;Ff(this.M_);var n=xf(this.firestore.o_);return(t&&"cache"===t.source?function(t,e){var n=this,r=new $o;return t.rs.fs((function(){return s(n,void 0,void 0,(function(){var n;return o(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return s(this,void 0,void 0,(function(){var r,i,s,a,u,l;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,il(t,e,!0)];case 1:return r=o.sent(),i=new tc(e,r.Xa),s=i.gh(r.documents),a=i.bi(s,!1),n.resolve(a.snapshot),[3,3];case 2:return u=o.sent(),l=oa(u,"Failed to execute query '"+e+" against cache"),n.reject(l),[3,3];case 3:return[2]}}))}))},[4,sf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,this.M_):function(t,e,n){var r=this;void 0===n&&(n={});var i=new $o;return t.rs.fs((function(){return s(r,void 0,void 0,(function(){var r;return o(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Jc({next:function(n){e.fs((function(){return ca(t,o)})),n.fromCache&&"server"===r.source?i.reject(new Or(Nr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new pa(n,s,{includeMetadataChanges:!0,Hs:!0});return la(t,o)},[4,uf(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.rs,e,n,i])]}}))}))})),i.promise}(n,this.M_,t)).then((function(t){return new qf(e.firestore,new yf(e.firestore.o_,e.D_,new kh(e.firestore.o_,e.x_,e.M_),t))}))},t}(),Uf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return i(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Df(this.S_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),e}(th),qf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return i(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new jf(this.o_.query.M_,this.S_,this.o_.query.x_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new Df(t.S_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new Uf(e.S_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new Df(n.S_,r))}))},e.prototype.isEqual=function(t){return _f(this.o_,t.o_)},e}(th),Bf=function(t){function e(e,n,r){var i=this;if((i=t.call(this,ho(e),n,r)||this).O_=e,e.length%2!=1)throw new Or(Nr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.M()+" has "+e.length);return i}return i(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.M_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.M_.path.S();return t.T()?null:Nf.xf(t,this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.M_.path.M()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){0===arguments.length&&(t=Er.u()),eh("CollectionReference.doc","path",t);var e=Lr.k(t);return Nf.xf(this.M_.path.child(e),this.firestore,this.x_)},e.prototype.add=function(t){var e=this.x_?this.x_.toFirestore(t):t,n=this.doc();return Nf.b_(n.o_.C_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.O_,this.firestore,t)},e}(jf);function zf(t,e,n){var r=sh(e,Ih);if(r.firestore!==n.o_)throw new Or(Nr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function $f(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Hf=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(xh.bind.apply(xh,a([void 0],e))))||this}return i(e,t),e.documentId=function(){return new e(Vr.q().M())},e.prototype.isEqual=function(t){return t instanceof th&&(t=t.o_),t instanceof xh&&this.o_.F_.isEqual(t.F_)},e}(th),Gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.serverTimestamp=function(){var t=new ch("serverTimestamp");return t.a_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new uh("deleteField");return t.a_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hh("arrayUnion",t)}).apply(void 0,t);return r.a_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fh("arrayRemove",t)}).apply(void 0,t);return r.a_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new dh("increment",t)}(t);return n.a_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(th),Wf={Firestore:Tf,GeoPoint:ph,Timestamp:Pr,Blob:wh,Transaction:kf,WriteBatch:Af,DocumentReference:Nf,DocumentSnapshot:Rf,Query:jf,QueryDocumentSnapshot:Df,QuerySnapshot:qf,CollectionReference:Bf,FieldPath:Hf,FieldValue:Gf,setLogLevel:function(t){fr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Kf(t){!function(t,e){t.INTERNAL.registerComponent(new lr.a("firestore",(function(t){return function(t,e){return new Tf(t,new ff(t,e),new Sf)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Wf)))}(t),t.registerVersion("@firebase/firestore","2.0.2")}Kf(u.a)},zIRd:function(t,e,n){"use strict";var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var s,o,a=n("qOnz"),u=n("/6Yf"),l=n("q/0M"),c=((s={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",s["bad-app-name"]="Illegal App name: '{$appName}",s["duplicate-app"]="Firebase App named '{$appName}' already exists",s["app-deleted"]="Firebase App named '{$appName}' already deleted",s["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",s["invalid-log-argument"]="First argument to `onLog` must be null or a function.",s),h=new a.b("app","Firebase",c),f="[DEFAULT]",d=((o={})["@firebase/app"]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),p=new l.b("@firebase/app"),m=function(){function t(t,e,n){var r,s,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.e)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",(function(){return o}),"PUBLIC"));try{for(var l=i(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw h.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var o=s.name;if("string"!=typeof o||!o)throw h.create("bad-app-name",{appName:String(o)});if(Object(a.c)(e,o))throw h.create("duplicate-app",{appName:o});var u=new t(n,s,r);return e[o]=u,u},app:s,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&l.push("and"),a&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(l.join(" "))}o(new u.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:l.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw h.create("invalid-log-argument",{appName:name});Object(l.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function s(t){if(t=t||f,!Object(a.c)(e,t))throw h.create("no-app",{appName:t});return e[t]}function o(o){var u,l,c=o.name;if(n.has(c))return p.debug("There were multiple attempts to register component "+c+"."),"PUBLIC"===o.type?r[c]:null;if(n.set(c,o),"PUBLIC"===o.type){var f=function(t){if(void 0===t&&(t=s()),"function"!=typeof t[c])throw h.create("invalid-app-argument",{appName:c});return t[c]()};void 0!==o.serviceProps&&Object(a.f)(f,o.serviceProps),r[c]=f,t.prototype[c]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,c);return n.apply(this,o.multipleInstances?t:[])}}try{for(var d=i(Object.keys(e)),m=d.next();!m.done;m=d.next())e[m.value]._addComponent(o)}catch(g){u={error:g}}finally{try{m&&!m.done&&(l=d.return)&&l.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===o.type?r[c]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),s.App=t,r}(m);return e.INTERNAL=r(r({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.f)(e,t)},createSubscribe:a.d,ErrorFactory:a.b,deepExtend:a.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(a.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,t)};var w,b=g;(w=b).INTERNAL.registerComponent(new u.a("platform-logger",(function(t){return new y(t)}),"PRIVATE")),w.registerVersion("@firebase/app","0.6.13",void 0),w.registerVersion("fire-js",""),e.a=b},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function o(t){setTimeout(()=>{throw t})}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},u=Array.isArray||(t=>t&&"number"==typeof t.length);function l(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);const h=c;let f=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:i,_unsubscribe:s,_subscriptions:o}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,c=i?i.length:0;for(;n;)n.remove(this),n=++a<c&&i[a]||null;if(r(s))try{s.call(this)}catch(f){e=!0,t=f instanceof h?d(f.errors):[f]}if(u(o))for(a=-1,c=o.length;++a<c;){const n=o[a];if(l(n))try{n.unsubscribe()}catch(f){e=!0,t=t||[],f instanceof h?t=t.concat(d(f.errors)):t.push(f)}}if(e)throw new h(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;(n=new t)._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class m extends f{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof m?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new m(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class g extends m{constructor(t,e,n,i){let s;super(),this._parentSubscriber=t;let o=this;r(e)?s=e:e&&(s=e.next,n=e.error,i=e.complete,e!==a&&(r((o=Object.create(e)).unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const y="function"==typeof Symbol&&Symbol.observable||"@@observable";function v(){}function _(...t){return w(t)}function w(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:v}let b=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof m)return t;if(t[p])return t[p]()}return t||e||n?new m(t,e,n):new m(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof m?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=E(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[y](){return this}pipe(...t){return 0===t.length?this:w(t)(this)}toPromise(t){return new(t=E(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function E(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function C(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}C.prototype=Object.create(Error.prototype);const S=C;class T extends f{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class x extends m{constructor(t){super(t),this.destination=t}}let I=(()=>{class t extends b{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new x(this)}lift(t){const e=new k(this,this);return e.operator=t,e}next(t){if(this.closed)throw new S;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new S;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new S;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new S;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new S;return this.hasError?(t.error(this.thrownError),f.EMPTY):this.isStopped?(t.complete(),f.EMPTY):(this.observers.push(t),new T(this,t))}asObservable(){const t=new b;return t.source=this,t}}return t.create=(t,e)=>new k(t,e),t})();class k extends I{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):f.EMPTY}}function A(t){return t&&"function"==typeof t.schedule}class N extends m{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const O=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},P=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e);function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const D=R(),L=t=>e=>{const n=t[D]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},M=t=>e=>{const n=t[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},V=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function F(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const j=t=>{if(t instanceof b)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[y])return M(t);if(V(t))return O(t);if(F(t))return P(t);if(t&&"function"==typeof t[D])return L(t);{const e=l(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function U(t,e,n,r,i=new N(t,n,r)){if(!i.closed)return j(e)(i)}class q extends m{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function B(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new z(t,e))}}class z{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new $(t,this.project,this.thisArg))}}class $ extends m{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function H(t,e){return new b(e?n=>{const r=new f;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:O(t))}function G(t,e){if(!e)return t instanceof b?t:new b(j(t));if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new b(e?n=>{const r=new f;return r.add(e.schedule(()=>{const i=t[y]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r}:M(t))}(t,e);if(F(t))return function(t,e){return new b(e?n=>{const r=new f;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r}:P(t))}(t,e);if(V(t))return H(t,e);if(function(t){return t&&"function"==typeof t[D]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new b(e?n=>{const r=new f;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[D](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r}:L(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function W(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(W((n,r)=>G(t(n,r)).pipe(B((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new K(t,n)))}class K{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Q(t,this.project,this.concurrent))}}class Q extends q{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new N(this,void 0,void 0);this.destination.add(r),U(this,t,e,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Z(t){return t}function Y(t=Number.POSITIVE_INFINITY){return W(Z,t)}function X(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return A(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof b?t[0]:Y(e)(H(t,n))}function J(){return function(t){return t.lift(new tt(t))}}class tt{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new et(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class et extends m{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const nt=class extends b{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new f).add(this.source.subscribe(new it(this.getSubject(),this))),t.closed?(this._connection=null,t=f.EMPTY):this._connection=t),t}refCount(){return J()(this)}}.prototype,rt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:nt._subscribe},_isComplete:{value:nt._isComplete,writable:!0},getSubject:{value:nt.getSubject},connect:{value:nt.connect},refCount:{value:nt.refCount}};class it extends x{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function st(){return new I}const ot="__parameters__";function at(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(ot)?t[ot]:Object.defineProperty(t,ot,{value:[]})[ot];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}const ut=at("Inject",t=>({token:t})),lt=at("Optional"),ct=at("Self"),ht=at("SkipSelf");var ft=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function dt(t){for(let e in t)if(t[e]===dt)return e;throw Error("Could not find renamed property on target object.")}function pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mt(t){const e=t[gt];return e&&e.token===t?e:null}const gt=dt({ngInjectableDef:dt});function yt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(yt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const vt=dt({__forward_ref__:dt});function _t(t){return t.__forward_ref__=_t,t.toString=function(){return yt(this())},t}function wt(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(vt)&&e.__forward_ref__===_t?e():t}const bt="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,Ct="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,St="undefined"!=typeof global&&global,Tt=bt||St||Et||Ct;class xt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=pt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const It=new xt("INJECTOR",-1),kt=new Object,At="ngTempTokenPath",Nt="ngTokenPath",Ot=/\n/gm,Pt="\u0275",Rt="__source",Dt=dt({provide:String,useValue:dt});let Lt,Mt=void 0;function Vt(t){const e=Mt;return Mt=t,e}function Ft(t,e=ft.Default){if(void 0===Mt)throw new Error("inject() must be called from an injection context");return null===Mt?function(t,e,n){const r=mt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ft.Optional)return null;throw new Error(`Injector: NOT_FOUND [${yt(t)}]`)}(t,0,e):Mt.get(t,e&ft.Optional?null:void 0,e)}function jt(t,e=ft.Default){return(Lt||Ft)(t,e)}class Ut{get(t,e=kt){if(e===kt){const e=new Error(`NullInjectorError: No provider for ${yt(t)}!`);throw e.name="NullInjectorError",e}return e}}function qt(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Pt?t.substr(2):t;let i=yt(e);if(e instanceof Array)i=e.map(yt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):yt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ot,"\n  ")}`}class Bt{}class zt{}function $t(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ht(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Gt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Wt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt))(),Kt="ngDebugContext",Qt="ngOriginalError",Zt="ngErrorLogger";function Yt(t){return t[Kt]}function Xt(t){return t[Qt]}function Jt(t,...e){t.error(...e)}class te{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Zt]||Jt}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Yt(t)?Yt(t):this._findContext(Xt(t)):null}_findOriginalError(t){let e=Xt(t);for(;e&&Xt(e);)e=Xt(e);return e}}let ee=!0,ne=!1;function re(){return ne=!0,ee}class ie{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const se=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,oe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ae(t){return(t=String(t)).match(se)||t.match(oe)?t:(re()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function ue(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function le(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ce=ue("area,br,col,hr,img,wbr"),he=ue("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fe=ue("rp,rt"),de=le(fe,he),pe=le(ce,le(he,ue("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),le(fe,ue("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),de),me=ue("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ge=ue("srcset"),ye=le(me,ge,ue("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ue("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ve=ue("script,style,template");class _e{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!pe.hasOwnProperty(e))return this.sanitizedSomething=!0,!ve.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!ye.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;me[s]&&(o=ae(o)),ge[s]&&(r=o,o=(r=String(r)).split(",").map(t=>ae(t.trim())).join(", ")),this.buf.push(" ",e,'="',Ee(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();pe.hasOwnProperty(e)&&!ce.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Ee(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const we=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,be=/([^\#-~ |!])/g;function Ee(t){return t.replace(/&/g,"&amp;").replace(we,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(be,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ce;function Se(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Te=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class xe{}const Ie=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ke=/^url\(([^)]+)\)$/;function Ae(t){var e;return e=t.replace(/[$@]/g,"_"),`ng-reflect-${t=e.replace(Ne,(...t)=>"-"+t[1].toLowerCase())}`}const Ne=/([A-Z])/g;function Oe(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Pe=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Re(),t})();const Re=(...t)=>{},De=new xt("The presence of this token marks an injector as being the root injector."),Le=function(t,e,n){return new Be(t,e,n)};let Me=(()=>{class t{static create(t,e){return Array.isArray(t)?Le(t,e,""):Le(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=kt,t.NULL=new Ut,t.ngInjectableDef=pt({token:t,providedIn:"any",factory:()=>jt(It)}),t.__NG_ELEMENT_ID__=-1,t})();const Ve=function(t){return t},Fe=[],je=Ve,Ue=function(){return Array.prototype.slice.call(arguments)},qe="\u0275";class Be{constructor(t,e=Me.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(Me,{token:Me,fn:Ve,deps:Fe,value:this,useNew:!1}),r.set(It,{token:It,fn:Ve,deps:Fe,value:this,useNew:!1}),function t(e,n){if(n)if((n=wt(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw $e("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw $e("Unexpected provider",n);{let t=wt(n.provide);const r=function(t){const e=function(t){let e=Fe;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=wt(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof lt||n==lt?r|=1:n instanceof ht||n==ht?r&=-3:n instanceof ct||n==ct?r&=-5:i=n instanceof ut?n.token:wt(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:wt(t.useExisting),options:6}];else if(!(n||Dt in t))throw $e("'deps' required",t);return e}(t);let n=Ve,r=Fe,i=!1,s=wt(t.provide);if(Dt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=wt(t.useClass);else{if("function"!=typeof s)throw $e("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=s}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==Ue)throw ze(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:Ue,value:Fe});r.deps.push({token:t=n,options:6})}const i=e.get(t);if(i&&i.fn==Ue)throw ze(t);e.set(t,r)}}}(r,t)}get(t,e,n=ft.Default){const r=this._records.get(t);try{return function t(e,n,r,i,s,o){try{return function(e,n,r,i,s,o){let a;if(!n||o&ft.SkipSelf)o&ft.Self||(a=i.get(e,s,ft.Default));else{if((a=n.value)==je)throw Error(qe+"Circular dependency");if(a===Fe){n.value=je;let e=void 0,s=n.useNew,o=n.fn,u=n.deps,l=Fe;if(u.length){l=[];for(let e=0;e<u.length;e++){const n=u[e],s=n.options,o=2&s?r.get(n.token):void 0;l.push(t(n.token,o,r,o||4&s?i:Me.NULL,1&s?null:Me.THROW_IF_NOT_FOUND,ft.Default))}}n.value=a=s?new o(...l):o.apply(e,l)}}return a}(e,n,r,i,s,o)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[At]=a[At]||[]).unshift(e),n&&n.value==je&&(n.value=Fe),a}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){const i=t[At];throw e[Rt]&&i.unshift(e[Rt]),t.message=qt("\n"+t.message,i,"StaticInjectorError",r),t[Nt]=i,t[At]=null,t}(i,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(yt(n))),`StaticInjector[${t.join(", ")}]`}}function ze(t){return $e("Cannot mix multi providers and regular providers",t)}function $e(t,e){return new Error(qt(t,e,"StaticInjectorError"))}const He=new xt("AnalyzeForEntryComponents");let Ge=null;function We(){if(!Ge){const t=Tt.Symbol;if(t&&t.iterator)Ge=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ge=n)}}}return Ge}function Ke(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Qe(t,e){const n=Ye(t),r=Ye(e);if(n&&r)return function(t,e,n){const r=t[We()](),i=e[We()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Qe);{const i=t&&("object"==typeof t||"function"==typeof t),s=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!s)||Ke(t,e)}}class Ze{constructor(t){this.wrapped=t}static wrap(t){return new Ze(t)}static unwrap(t){return Ze.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ze}}function Ye(t){return!!Xe(t)&&(Array.isArray(t)||!(t instanceof Map)&&We()in t)}function Xe(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Je(t){return!!t&&"function"==typeof t.then}function tn(t){return!!t&&"function"==typeof t.subscribe}class en{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class nn{}class rn{}function sn(t){const e=Error(`No component factory found for ${yt(t)}. Did you add it to @NgModule.entryComponents?`);return e[on]=t,e}const on="ngComponent";class an{resolveComponentFactory(t){throw sn(t)}}let un=(()=>{class t{}return t.NULL=new an,t})();class ln{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw sn(t);return new cn(e,this._ngModule)}}class cn extends rn{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}function hn(...t){}let fn=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>dn(t),t})();const dn=hn;class pn{}class mn{}const gn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let yn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>vn(),t})();const vn=hn;class _n{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const wn=new _n("8.2.14");class bn{constructor(){}supports(t){return Ye(t)}create(t){return new Cn(t)}}const En=(t,e)=>e;class Cn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||En}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<In(n,r,i)?e:n,o=In(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ye(t))throw new Error(`Error trying to diff '${yt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)r=this._trackByFn(e,n=t[e]),null!==i&&Ke(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Ke(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[We()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Ke(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Ke(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ke(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ke(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Sn(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new xn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Sn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ke(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class xn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Tn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function In(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class kn{constructor(){}supports(t){return t instanceof Map||Xe(t)}create(){return new An}}class An{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Xe(t)))throw new Error(`Error trying to diff '${yt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Nn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Ke(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Nn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let On=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ht,new lt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:()=>new t([new bn])}),t})(),Pn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ht,new lt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:()=>new t([new kn])}),t})();const Rn=[new kn],Dn=new On([new bn]),Ln=new Pn(Rn);let Mn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Vn(t,fn),t})();const Vn=hn;let Fn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>jn(t,fn),t})();const jn=hn;function Un(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return qn(n,e),n}(i,t)}function qn(t,e){t[Kt]=e,t[Zt]=e.logError.bind(e)}function Bn(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function zn(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function $n(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Hn(t,e){return t.nodes[e]}function Gn(t,e){return t.nodes[e]}function Wn(t,e){return t.nodes[e]}function Kn(t,e){return t.nodes[e]}function Qn(t,e){return t.nodes[e]}const Zn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Yn=()=>{},Xn=new Map;function Jn(t){let e=Xn.get(t);return e||(e=yt(t)+"_"+Xn.size,Xn.set(t,e)),e}const tr="$$undefined",er="$$empty";function nr(t){return{id:tr,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let rr=0;function ir(t,e,n,r){return!(!(2&t.state)&&Ke(t.oldValues[e.bindingIndex+n],r))}function sr(t,e,n,r){return!!ir(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function or(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Qe(i,r)){const s=e.bindings[n].name;throw Un(Zn.createDebugContext(t,e.nodeIndex),`${s}: ${i}`,`${s}: ${r}`,0!=(1&t.state))}}function ar(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function ur(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function lr(t,e,n,r){try{return ar(33554432&t.def.nodes[e].flags?Gn(t,e).componentView:t),Zn.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function cr(t){return t.parent?Gn(t.parent,t.parentNodeDef.nodeIndex):null}function hr(t){return t.parent?t.parentNodeDef.parent:null}function fr(t,e){switch(201347067&e.flags){case 1:return Gn(t,e.nodeIndex).renderElement;case 2:return Hn(t,e.nodeIndex).renderText}}function dr(t,e){return t?`${t}:${e}`:e}function pr(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function mr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function gr(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=function(t){return 1<<t%32}(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function yr(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,Rt,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:Jn(n)}})}function vr(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Gt.Native?Gn(t,n.renderParent.nodeIndex).renderElement:void 0:e}const _r=new WeakMap;function wr(t){let e=_r.get(t);return e||((e=t(()=>Yn)).factory=t,_r.set(t,e)),e}function br(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(fr(t,t.def.lastRenderRootNode))),Er(t,e,0,t.def.nodes.length-1,n,r,i)}function Er(t,e,n,r,i,s,o){for(let a=n;a<=r;a++){const n=t.def.nodes[a];11&n.flags&&Sr(t,n,e,i,s,o),a+=n.childCount}}function Cr(t,e,n,r,i,s){let o=t;for(;o&&!pr(o);)o=o.parent;const a=o.parent,u=hr(o),l=u.nodeIndex+u.childCount;for(let c=u.nodeIndex+1;c<=l;c++){const t=a.def.nodes[c];t.ngContentIndex===e&&Sr(a,t,n,r,i,s),c+=t.childCount}if(!a.parent){const o=t.root.projectableNodes[e];if(o)for(let e=0;e<o.length;e++)Tr(t,o[e],n,r,i,s)}}function Sr(t,e,n,r,i,s){if(8&e.flags)Cr(t,e.ngContent.index,n,r,i,s);else{const o=fr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Tr(t,o,n,r,i,s),32&e.bindingFlags&&Tr(Gn(t,e.nodeIndex).componentView,o,n,r,i,s)):Tr(t,o,n,r,i,s),16777216&e.flags){const o=Gn(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<o.length;t++)br(o[t],n,r,i,s)}1&e.flags&&!e.element.name&&Er(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,s)}}function Tr(t,e,n,r,i,s){const o=t.renderer;switch(n){case 1:o.appendChild(r,e);break;case 2:o.insertBefore(r,e,i);break;case 3:o.removeChild(r,e);break;case 0:s.push(e)}}const xr=/^:([^:]+):(.+)$/;function Ir(t){if(":"===t[0]){const e=t.match(xr);return[e[1],e[2]]}return["",t]}function kr(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function Ar(t,e,n,r,i,s,o,a,u,l,c,h,f,d,p,m,g,y,v,_){switch(t){case 1:return e+Nr(n)+r;case 2:return e+Nr(n)+r+Nr(i)+s;case 3:return e+Nr(n)+r+Nr(i)+s+Nr(o)+a;case 4:return e+Nr(n)+r+Nr(i)+s+Nr(o)+a+Nr(u)+l;case 5:return e+Nr(n)+r+Nr(i)+s+Nr(o)+a+Nr(u)+l+Nr(c)+h;case 6:return e+Nr(n)+r+Nr(i)+s+Nr(o)+a+Nr(u)+l+Nr(c)+h+Nr(f)+d;case 7:return e+Nr(n)+r+Nr(i)+s+Nr(o)+a+Nr(u)+l+Nr(c)+h+Nr(f)+d+Nr(p)+m;case 8:return e+Nr(n)+r+Nr(i)+s+Nr(o)+a+Nr(u)+l+Nr(c)+h+Nr(f)+d+Nr(p)+m+Nr(g)+y;case 9:return e+Nr(n)+r+Nr(i)+s+Nr(o)+a+Nr(u)+l+Nr(c)+h+Nr(f)+d+Nr(p)+m+Nr(g)+y+Nr(v)+_;default:throw new Error("Does not support more than 9 expressions")}}function Nr(t){return null!=t?t.toString():""}const Or=new Object,Pr=Jn(Me),Rr=Jn(It),Dr=Jn(Bt);function Lr(t,e,n,r){return n=wt(n),{index:-1,deps:yr(r,yt(e)),flags:t,token:e,value:n}}function Mr(t,e,n=Me.THROW_IF_NOT_FOUND){const r=Vt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const o=e.tokenKey;switch(o){case Pr:case Rr:case Dr:return t}const a=t._def.providersByKey[o];let u;if(a){let e=t._providers[a.index];return void 0===e&&(e=t._providers[a.index]=Vr(t,a)),e===Or?void 0:e}if((u=mt(e.token))&&(i=t,null!=(s=u).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(i,s.providedIn)||"root"===s.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:u.factory,deps:[],index:n,token:e.token},t._providers[n]=Or,t._providers[n]=Vr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Vt(r)}var i,s}function Vr(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(Mr(t,n[0]));case 2:return new e(Mr(t,n[0]),Mr(t,n[1]));case 3:return new e(Mr(t,n[0]),Mr(t,n[1]),Mr(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=Mr(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(Mr(t,n[0]));case 2:return e(Mr(t,n[0]),Mr(t,n[1]));case 3:return e(Mr(t,n[0]),Mr(t,n[1]),Mr(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=Mr(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=Mr(t,e.deps[0]);break;case 256:n=e.value}return n===Or||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Or:n}function Fr(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,Ht(n,e),Zn.dirtyParentQueries(r),Ur(r),r}function jr(t,e,n){const r=e?fr(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),s=n.renderer.nextSibling(r);br(n,2,i,s,void 0)}function Ur(t){br(t,3,null,null,void 0)}const qr=new Object;function Br(t,e,n,r,i,s){return new zr(t,e,n,r,i,s)}class zr extends rn{constructor(t,e,n,r,i,s){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=wr(this.viewDefFactory),s=i.nodes[0].element.componentProvider.nodeIndex,o=Zn.createRootView(t,e||[],n,i,r,qr),a=Wn(o,s).instance;return n&&o.renderer.setAttribute(Gn(o,0).renderElement,"ng-version",wn.full),new $r(o,new Kr(o),a)}}class $r extends nn{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new fn(Gn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Xr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function Hr(t,e,n){return new Gr(t,e,n)}class Gr{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new fn(this._data.renderElement)}get injector(){return new Xr(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=hr(t),t=t.parent;return t?new Xr(t,e):new Xr(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Fr(this._data,t);Zn.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Kr(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;i||t instanceof cn||(i=s.get(Bt));const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,$t(i,n,r),function(t,e){const n=cr(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),Zn.dirtyParentQueries(r),jr(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];Ht(r,e),null==n&&(n=r.length),$t(r,n,i),Zn.dirtyParentQueries(i),Ur(i),jr(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Fr(this._data,t);e&&Zn.destroyView(e)}detach(t){const e=Fr(this._data,t);return e?new Kr(e):null}}function Wr(t){return new Kr(t)}class Kr{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return br(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){ar(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Zn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Zn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Zn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Ur(this._view),Zn.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Qr(t,e){return new Zr(t,e)}class Zr extends Mn{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Kr(Zn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new fn(Gn(this._parentView,this._def.nodeIndex).renderElement)}}function Yr(t,e){return new Xr(t,e)}class Xr{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Me.THROW_IF_NOT_FOUND){return Zn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Jn(t)},e)}}function Jr(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=Gn(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Hn(t,n.nodeIndex).renderText;if(20240&n.flags)return Wn(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function ti(t){return new ei(t.renderer)}class ei{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=Ir(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=Ir(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function ni(t,e,n,r){return new ri(t,e,n,r)}class ri{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Vr(t,i))}}(this)}get(t,e=Me.THROW_IF_NOT_FOUND,n=ft.Default){let r=0;return n&ft.SkipSelf?r|=1:n&ft.Self&&(r|=4),Mr(this,{token:t,tokenKey:Jn(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(un)}destroy(){if(this._destroyed)throw new Error(`The ng module ${yt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==Or){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const ii=Jn(pn),si=Jn(yn),oi=Jn(fn),ai=Jn(Fn),ui=Jn(Mn),li=Jn(Pe),ci=Jn(Me),hi=Jn(It);function fi(t,e,n,r,i,s,o,a){const u=[];if(o)for(let c in o){const[t,e]=o[c];u[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const l=[];if(a)for(let c in a)l.push({type:1,propName:c,target:null,eventName:a[c]});return pi(t,e|=16384,n,r,i,i,s,u,l)}function di(t,e,n,r,i){return pi(-1,t,e,0,n,r,i)}function pi(t,e,n,r,i,s,o,a,u){const{matchedQueries:l,references:c,matchedQueryIds:h}=gr(n);u||(u=[]),a||(a=[]),s=wt(s);const f=yr(o,yt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:kr(a),outputs:u,element:null,provider:{token:i,value:s,deps:f},text:null,query:null,ngContent:null}}function mi(t,e){return _i(t,e)}function gi(t,e){let n=t;for(;n.parent&&!pr(n);)n=n.parent;return wi(n.parent,hr(n),!0,e.provider.value,e.provider.deps)}function yi(t,e){const n=wi(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],s=n[i.propName];if(!tn(s))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=s.subscribe(vi(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function vi(t,e,n){return r=>lr(t,e,n,r)}function _i(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return wi(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const s=i.length;switch(s){case 0:return r();case 1:return r(Ei(t,e,n,i[0]));case 2:return r(Ei(t,e,n,i[0]),Ei(t,e,n,i[1]));case 3:return r(Ei(t,e,n,i[0]),Ei(t,e,n,i[1]),Ei(t,e,n,i[2]));default:const o=Array(s);for(let r=0;r<s;r++)o[r]=Ei(t,e,n,i[r]);return r(...o)}}(t,e.parent,n,r.value,r.deps);case 2048:return Ei(t,e.parent,n,r.deps[0]);case 256:return r.value}}function wi(t,e,n,r,i){const s=i.length;switch(s){case 0:return new r;case 1:return new r(Ei(t,e,n,i[0]));case 2:return new r(Ei(t,e,n,i[0]),Ei(t,e,n,i[1]));case 3:return new r(Ei(t,e,n,i[0]),Ei(t,e,n,i[1]),Ei(t,e,n,i[2]));default:const o=new Array(s);for(let r=0;r<s;r++)o[r]=Ei(t,e,n,i[r]);return new r(...o)}}const bi={};function Ei(t,e,n,r,i=Me.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const s=t;2&r.flags&&(i=null);const o=r.tokenKey;o===li&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(o){case ii:return ti(Ci(a,e,n));case si:return Ci(a,e,n).renderer;case oi:return new fn(Gn(a,e.nodeIndex).renderElement);case ai:return Gn(a,e.nodeIndex).viewContainer;case ui:if(e.element.template)return Gn(a,e.nodeIndex).template;break;case li:return Wr(Ci(a,e,n));case ci:case hi:return Yr(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[o];if(t){let e=Wn(a,t.nodeIndex);return e||(e={instance:_i(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=pr(a),e=hr(a),a=a.parent,4&r.flags&&(a=null)}const u=s.root.injector.get(r.token,bi);return u!==bi||i===bi?u:s.root.ngModule.injector.get(r.token,i)}function Ci(t,e,n){let r;if(n)r=Gn(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!pr(r);)r=r.parent;return r}function Si(t,e,n,r,i,s){if(32768&n.flags){const e=Gn(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){s=s||{};const e=Ze.unwrap(t.oldValues[n.bindingIndex+r]);s[n.bindings[r].nonMinifiedName]=new en(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,s}function Ti(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const s=n[i];let o=s.parent;for(!o&&s.flags&e&&Ii(t,i,s.flags&e,r++),0==(s.childFlags&e)&&(i+=s.childCount);o&&1&o.flags&&i===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(r=xi(t,o,e,r)),o=o.parent}}function xi(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&Ii(t,i,e.flags&n,r++),i+=e.childCount}return r}function Ii(t,e,n,r){const i=Wn(t,e);if(!i)return;const s=i.instance;s&&(Zn.setCurrentNode(t,e),1048576&n&&$n(t,512,r)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&$n(t,768,r)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}const ki=new xt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Wt}),Ai={},Ni=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Oi=void 0;var Pi=["en",[["a","p"],["AM","PM"],Oi],[["AM","PM"],Oi,Oi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oi,"{1} 'at' {0}",Oi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];const Ri="en-US";let Di=Ri;function Li(t){var e;e="Expected localeId to be defined",null==t&&function(t){throw new Error(`ASSERTION ERROR: ${t}`)}(e),"string"==typeof t&&(Di=t.toLowerCase().replace(/_/g,"-"))}class Mi extends I{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,s);return t instanceof f&&t.add(o),o}}function Vi(){return this._results[We()]()}class Fi{constructor(){this.dirty=!0,this._results=[],this.changes=new Mi,this.length=0;const t=We(),e=Fi.prototype;e[t]||(e[t]=Vi)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const ji=new xt("Application Initializer");class Ui{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Je(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const qi=new xt("AppId");function Bi(){return`${zi()}${zi()}${zi()}`}function zi(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $i=new xt("Platform Initializer"),Hi=new xt("Platform ID"),Gi=new xt("appBootstrapListener");class Wi{log(t){console.log(t)}warn(t){console.warn(t)}}const Ki=new xt("LocaleId"),Qi=!1;function Zi(){throw new Error("Runtime compiler is not loaded")}const Yi=Zi,Xi=Zi,Ji=Zi,ts=Zi;class es{constructor(){this.compileModuleSync=Yi,this.compileModuleAsync=Xi,this.compileModuleAndAllComponentsSync=Ji,this.compileModuleAndAllComponentsAsync=ts}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class ns{}let rs,is;function ss(){const t=Tt.wtf;return!(!t||!(rs=t.trace)||(is=rs.events,0))}const os=ss();function as(t,e){return null}const us=os?function(t,e=null){return is.createScope(t,e)}:(t,e)=>as,ls=os?function(t,e){return rs.leaveScope(t,e),e}:(t,e)=>e,cs=(()=>Promise.resolve(0))();function hs(t){"undefined"==typeof Zone?cs.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class fs{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mi(!1),this.onMicrotaskEmpty=new Mi(!1),this.onStable=new Mi(!1),this.onError=new Mi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,s,o)=>{try{return gs(e),t.invokeTask(r,i,s,o)}finally{ys(e)}},onInvoke:(t,n,r,i,s,o,a)=>{try{return gs(e),t.invoke(r,i,s,o,a)}finally{ys(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,ms(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(fs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,ps,ds,ds);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function ds(){}const ps={};function ms(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gs(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ys(t){t._nesting--,ms(t)}class vs{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mi,this.onMicrotaskEmpty=new Mi,this.onStable=new Mi,this.onError=new Mi}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class _s{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fs.assertNotInAngularZone(),hs(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hs(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class ws{constructor(){this._applications=new Map,Cs.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Cs.findTestabilityInTree(this,t,e)}}class bs{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Es,Cs=new bs,Ss=function(t,e,n){return t.get(ns).createCompiler([e]).compileModuleAsync(n)},Ts=function(t){return t instanceof cn};const xs=new xt("AllowMultipleToken");class Is{constructor(t,e){this.name=t,this.token=e}}function ks(t,e,n=[]){const r=`Platform: ${e}`,i=new xt(r);return(e=[])=>{let s=As();if(!s||s.injector.get(xs,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Es&&!Es.destroyed&&!Es.injector.get(xs,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Es=t.get(Ns);const e=t.get($i,null);e&&e.forEach(t=>t())}(Me.create({providers:t,name:r}))}return function(t){const e=As();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function As(){return Es&&!Es.destroyed?Es:null}class Ns{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n="noop"===(i=e?e.ngZone:void 0)?new vs:("zone.js"===i?void 0:i)||new fs({enableLongStackTrace:re()}),r=[{provide:fs,useValue:n}];var i;return n.run(()=>{const e=Me.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(te,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Qi&&Li(i.injector.get(Ki,Ri)||Ri),i.onDestroy(()=>Rs(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Je(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Ui);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Os({},e);return Ss(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ps);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${yt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function Os(t,e){return Array.isArray(e)?e.reduce(Os,t):Object.assign({},t,e)}let Ps=(()=>{class t{constructor(t,e,n,r,i,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=re(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new b(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new b(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{fs.assertNotInAngularZone(),hs(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{fs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=X(o,a.pipe(t=>J()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,rt);return r.source=e,r.subjectFactory=n,r}}(st)(t))))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof rn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=Ts(n)?null:this._injector.get(Bt),i=n.create(Me.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(_s,null);return s&&i.injector.get(ws).registerApplication(i.location.nativeElement,s),this._loadComponent(i),re()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,ls(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Rs(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Gi,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Rs(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=us("ApplicationRef#tick()"),t})();function Rs(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ds{}const Ls="#",Ms="NgFactory";class Vs{}const Fs={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class js{constructor(t,e){this._compiler=t,this._config=e||Fs}load(t){return!Qi&&this._compiler instanceof es?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split(Ls);return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Us(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split(Ls),i=Ms;return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Us(t,e,r))}}function Us(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class qs{constructor(t,e){this.name=t,this.callback=e}}class Bs{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof zs&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class zs extends Bs{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof zs&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof zs&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof zs&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof zs)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const $s=new Map,Hs=function(t){return $s.get(t)||null};function Gs(t){$s.set(t.nativeNode,t)}const Ws=ks(null,"core",[{provide:Hi,useValue:"unknown"},{provide:Ns,deps:[Me]},{provide:ws,deps:[]},{provide:Wi,deps:[]}]);function Ks(){return Dn}function Qs(){return Ln}function Zs(t){return t?(Qi&&Li(t),t):Ri}function Ys(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class Xs{constructor(t){}}function Js(t,e,n,r,i,s){t|=1;const{matchedQueries:o,references:a,matchedQueryIds:u}=gr(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:u,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?wr(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Yn},provider:null,text:null,query:null,ngContent:null}}function to(t,e,n,r,i,s,o=[],a,u,l,c,h){l||(l=Yn);const{matchedQueries:f,references:d,matchedQueryIds:p}=gr(n);let m=null,g=null;s&&([m,g]=Ir(s)),a=a||[];const y=new Array(a.length);for(let w=0;w<a.length;w++){const[t,e,n]=a[w],[r,i]=Ir(e);let s=void 0,o=void 0;switch(15&t){case 4:o=n;break;case 1:case 8:s=n}y[w]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:s,suffix:o}}u=u||[];const v=new Array(u.length);for(let w=0;w<u.length;w++){const[t,e]=u[w];v[w]={type:0,target:t,eventName:e,propName:null}}const _=(o=o||[]).map(([t,e])=>{const[n,r]=Ir(t);return[n,r,e]});return h=function(t){if(t&&t.id===tr){const e=null!=t.encapsulation&&t.encapsulation!==Gt.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${rr++}`:er}return t&&t.id===er&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:f,matchedQueryIds:p,references:d,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:kr(y),outputs:v,element:{ns:m,name:g,attrs:_,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:l||Yn},provider:null,text:null,query:null,ngContent:null}}function eo(t,e,n){const r=n.element,i=t.root.selectorOrNode,s=t.renderer;let o;if(t.parent||!i){o=r.name?s.createElement(r.name,r.ns):s.createComment("");const i=vr(t,e,n);i&&s.appendChild(i,o)}else o=s.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Gt.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[t,e,n]=r.attrs[a];s.setAttribute(o,e,n,t)}return o}function no(t,e,n,r){for(let i=0;i<n.outputs.length;i++){const s=n.outputs[i],o=ro(t,n.nodeIndex,dr(s.target,s.eventName));let a=s.target,u=t;"component"===s.target&&(a=null,u=e);const l=u.renderer.listen(a||r,s.eventName,o);t.disposables[n.outputIndex+i]=l}}function ro(t,e,n){return r=>lr(t,e,n,r)}function io(t,e,n,r){if(!sr(t,e,n,r))return!1;const i=e.bindings[n],s=Gn(t,e.nodeIndex),o=s.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,s){const o=e.securityContext;let a=o?t.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;const u=t.renderer;null!=s?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(t,i,o,i.ns,a,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,o,a,r);break;case 4:!function(t,e,n,r,i){let s=t.root.sanitizer.sanitize(Te.STYLE,i);if(null!=s){s=s.toString();const t=e.suffix;null!=t&&(s+=t)}else s=null;const o=t.renderer;null!=s?o.setStyle(n,r,s):o.removeStyle(n,r)}(t,i,o,a,r);break;case 8:!function(t,e,n,r,i){const s=e.securityContext;let o=s?t.root.sanitizer.sanitize(s,i):i;t.renderer.setProperty(n,r,o)}(33554432&e.flags&&32&i.flags?s.componentView:t,i,o,a,r)}return!0}function so(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&mr(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&Qn(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Qn(t,n).setDirty(),n+=e.childCount}}function oo(t,e){const n=Qn(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=ao(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=Wn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=ao(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const s=e.query.bindings;let o=!1;for(let a=0;a<s.length;a++){const t=s[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,o=!0}r[t.propName]=e}o&&n.notifyOnChanges()}function ao(t,e,n,r,i){for(let s=e;s<=n;s++){const e=t.def.nodes[s],n=e.matchedQueries[r.id];if(null!=n&&i.push(uo(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Gn(t,s);if((e.childMatchedQueries&r.filterId)===r.filterId&&(ao(t,s+1,s+e.childCount,r,i),s+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const s=t[e],o=cr(s);o&&o===n&&ao(s,0,s.def.nodes.length-1,r,i)}}const o=n.template._projectedViews;if(o)for(let t=0;t<o.length;t++){const e=o[t];ao(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(s+=e.childCount)}return i}function uo(t,e,n){if(null!=n)switch(n){case 1:return Gn(t,e.nodeIndex).renderElement;case 0:return new fn(Gn(t,e.nodeIndex).renderElement);case 2:return Gn(t,e.nodeIndex).template;case 3:return Gn(t,e.nodeIndex).viewContainer;case 4:return Wn(t,e.nodeIndex).instance}}function lo(t,e,n){const r=vr(t,e,n);r&&Cr(t,n.ngContent.index,1,r,null,void 0)}function co(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let s=0;s<r;s++){const t=n[s];i[e[t]]=t}return function(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:kr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,i)}function ho(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function fo(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const s=vr(t,e,n);return s&&i.appendChild(s,r),{renderText:r}}function po(t,e){return(null!=t?t.toString():"")+e.suffix}function mo(t,e,n,r){let i=0,s=0,o=0,a=0,u=0,l=null,c=null,h=!1,f=!1,d=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=l,t.bindingIndex=i,t.outputIndex=s,t.renderParent=c,o|=t.flags,u|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=l?l.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,f=!1,t.element.template&&(u|=t.element.template.nodeMatchedQueries)}if(yo(l,t,e.length),i+=t.bindings.length,s+=t.outputs.length,!c&&3&t.flags&&(d=t),20224&t.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?l.element.publicProviders[Jn(t.provider.token)]=t:(f||(f=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[Jn(t.provider.token)]=t),e&&(l.element.componentProvider=t)}if(l?(l.childFlags|=t.flags,l.directChildFlags|=t.flags,l.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(l.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)l=t,go(t)||(c=t);else for(;l&&p===l.nodeIndex+l.childCount;){const t=l.parent;t&&(t.childFlags|=l.childFlags,t.childMatchedQueries|=l.childMatchedQueries),c=(l=t)&&go(l)?l.renderParent:l}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Yn,updateRenderer:r||Yn,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:s,lastRenderRootNode:d}}function go(t){return 0!=(1&t.flags)&&null===t.element.name}function yo(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function vo(t,e,n,r){const i=bo(t.root,t.renderer,t,e,n);return Eo(i,t.component,r),Co(i),i}function _o(t,e,n){const r=bo(t,t.renderer,null,null,e);return Eo(r,n,n),Co(r),r}function wo(t,e,n,r){const i=e.element.componentRendererType;let s;return s=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,bo(t.root,s,t,e.element.componentProvider,n)}function bo(t,e,n,r,i){const s=new Array(i.nodes.length),o=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:s,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:o,initIndex:-1}}function Eo(t,e,n){t.component=e,t.context=n}function Co(t){let e;pr(t)&&(e=Gn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const s=n.nodes[i];let o;switch(Zn.setCurrentNode(t,i),201347067&s.flags){case 1:const n=eo(t,e,s);let a=void 0;if(33554432&s.flags){const e=wr(s.element.componentView);a=Zn.createComponentView(t,s,e,n)}no(t,a,s,n),o={renderElement:n,componentView:a,viewContainer:null,template:s.element.template?Qr(t,s):void 0},16777216&s.flags&&(o.viewContainer=Hr(t,s,o));break;case 2:o=fo(t,e,s);break;case 512:case 1024:case 2048:case 256:(o=r[i])||4096&s.flags||(o={instance:mi(t,s)});break;case 16:o={instance:gi(t,s)};break;case 16384:(o=r[i])||(o={instance:yi(t,s)}),32768&s.flags&&Eo(Gn(t,s.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new Fi;break;case 8:lo(t,e,s),o=void 0}r[i]=o}Po(t,Oo.CreateViewNodes),Mo(t,201326592,268435456,0)}function So(t){Io(t),Zn.updateDirectives(t,1),Ro(t,Oo.CheckNoChanges),Zn.updateRenderer(t,1),Po(t,Oo.CheckNoChanges),t.state&=-97}function To(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,zn(t,0,256),Io(t),Zn.updateDirectives(t,0),Ro(t,Oo.CheckAndUpdate),Mo(t,67108864,536870912,0);let e=zn(t,256,512);Ti(t,2097152|(e?1048576:0)),Zn.updateRenderer(t,0),Po(t,Oo.CheckAndUpdate),Mo(t,134217728,536870912,0),Ti(t,8388608|((e=zn(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,zn(t,768,1024)}function xo(t,e,n,r,i,s,o,a,u,l,c,h,f){return 0===n?function(t,e,n,r,i,s,o,a,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,s,o,a,u,l,c,h){const f=e.bindings.length;let d=!1;return f>0&&io(t,e,0,n)&&(d=!0),f>1&&io(t,e,1,r)&&(d=!0),f>2&&io(t,e,2,i)&&(d=!0),f>3&&io(t,e,3,s)&&(d=!0),f>4&&io(t,e,4,o)&&(d=!0),f>5&&io(t,e,5,a)&&(d=!0),f>6&&io(t,e,6,u)&&(d=!0),f>7&&io(t,e,7,l)&&(d=!0),f>8&&io(t,e,8,c)&&(d=!0),f>9&&io(t,e,9,h)&&(d=!0),d}(t,e,n,r,i,s,o,a,u,l,c,h);case 2:return function(t,e,n,r,i,s,o,a,u,l,c,h){let f=!1;const d=e.bindings,p=d.length;if(p>0&&sr(t,e,0,n)&&(f=!0),p>1&&sr(t,e,1,r)&&(f=!0),p>2&&sr(t,e,2,i)&&(f=!0),p>3&&sr(t,e,3,s)&&(f=!0),p>4&&sr(t,e,4,o)&&(f=!0),p>5&&sr(t,e,5,a)&&(f=!0),p>6&&sr(t,e,6,u)&&(f=!0),p>7&&sr(t,e,7,l)&&(f=!0),p>8&&sr(t,e,8,c)&&(f=!0),p>9&&sr(t,e,9,h)&&(f=!0),f){let f=e.text.prefix;p>0&&(f+=po(n,d[0])),p>1&&(f+=po(r,d[1])),p>2&&(f+=po(i,d[2])),p>3&&(f+=po(s,d[3])),p>4&&(f+=po(o,d[4])),p>5&&(f+=po(a,d[5])),p>6&&(f+=po(u,d[6])),p>7&&(f+=po(l,d[7])),p>8&&(f+=po(c,d[8])),p>9&&(f+=po(h,d[9]));const m=Hn(t,e.nodeIndex).renderText;t.renderer.setValue(m,f)}return f}(t,e,n,r,i,s,o,a,u,l,c,h);case 16384:return function(t,e,n,r,i,s,o,a,u,l,c,h){const f=Wn(t,e.nodeIndex),d=f.instance;let p=!1,m=void 0;const g=e.bindings.length;return g>0&&ir(t,e,0,n)&&(p=!0,m=Si(t,f,e,0,n,m)),g>1&&ir(t,e,1,r)&&(p=!0,m=Si(t,f,e,1,r,m)),g>2&&ir(t,e,2,i)&&(p=!0,m=Si(t,f,e,2,i,m)),g>3&&ir(t,e,3,s)&&(p=!0,m=Si(t,f,e,3,s,m)),g>4&&ir(t,e,4,o)&&(p=!0,m=Si(t,f,e,4,o,m)),g>5&&ir(t,e,5,a)&&(p=!0,m=Si(t,f,e,5,a,m)),g>6&&ir(t,e,6,u)&&(p=!0,m=Si(t,f,e,6,u,m)),g>7&&ir(t,e,7,l)&&(p=!0,m=Si(t,f,e,7,l,m)),g>8&&ir(t,e,8,c)&&(p=!0,m=Si(t,f,e,8,c,m)),g>9&&ir(t,e,9,h)&&(p=!0,m=Si(t,f,e,9,h,m)),m&&d.ngOnChanges(m),65536&e.flags&&$n(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),p}(t,e,n,r,i,s,o,a,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,s,o,a,u,l,c,h){const f=e.bindings;let d=!1;const p=f.length;if(p>0&&sr(t,e,0,n)&&(d=!0),p>1&&sr(t,e,1,r)&&(d=!0),p>2&&sr(t,e,2,i)&&(d=!0),p>3&&sr(t,e,3,s)&&(d=!0),p>4&&sr(t,e,4,o)&&(d=!0),p>5&&sr(t,e,5,a)&&(d=!0),p>6&&sr(t,e,6,u)&&(d=!0),p>7&&sr(t,e,7,l)&&(d=!0),p>8&&sr(t,e,8,c)&&(d=!0),p>9&&sr(t,e,9,h)&&(d=!0),d){const d=Kn(t,e.nodeIndex);let m;switch(201347067&e.flags){case 32:m=new Array(f.length),p>0&&(m[0]=n),p>1&&(m[1]=r),p>2&&(m[2]=i),p>3&&(m[3]=s),p>4&&(m[4]=o),p>5&&(m[5]=a),p>6&&(m[6]=u),p>7&&(m[7]=l),p>8&&(m[8]=c),p>9&&(m[9]=h);break;case 64:m={},p>0&&(m[f[0].name]=n),p>1&&(m[f[1].name]=r),p>2&&(m[f[2].name]=i),p>3&&(m[f[3].name]=s),p>4&&(m[f[4].name]=o),p>5&&(m[f[5].name]=a),p>6&&(m[f[6].name]=u),p>7&&(m[f[7].name]=l),p>8&&(m[f[8].name]=c),p>9&&(m[f[9].name]=h);break;case 128:const t=n;switch(p){case 1:m=t.transform(n);break;case 2:m=t.transform(r);break;case 3:m=t.transform(r,i);break;case 4:m=t.transform(r,i,s);break;case 5:m=t.transform(r,i,s,o);break;case 6:m=t.transform(r,i,s,o,a);break;case 7:m=t.transform(r,i,s,o,a,u);break;case 8:m=t.transform(r,i,s,o,a,u,l);break;case 9:m=t.transform(r,i,s,o,a,u,l,c);break;case 10:m=t.transform(r,i,s,o,a,u,l,c,h)}}d.value=m}return d}(t,e,n,r,i,s,o,a,u,l,c,h);default:throw"unreachable"}}(t,e,r,i,s,o,a,u,l,c,h,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)io(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let s=0;s<n.length;s++)sr(t,e,s,n[s])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=po(n[t],r[t]);i=e.text.prefix+i;const s=Hn(t,e.nodeIndex).renderText;t.renderer.setValue(s,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=Wn(t,e.nodeIndex),i=r.instance;let s=!1,o=void 0;for(let a=0;a<n.length;a++)ir(t,e,a,n[a])&&(s=!0,o=Si(t,r,e,a,n[a],o));return o&&i.ngOnChanges(o),65536&e.flags&&$n(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),s}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let s=0;s<n.length;s++)sr(t,e,s,n[s])&&(i=!0);if(i){const i=Kn(t,e.nodeIndex);let s;switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(let i=0;i<n.length;i++)s[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);s=t.transform(...e)}i.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Io(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=Gn(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,ur(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ko(t,e,n,r,i,s,o,a,u,l,c,h,f){return 0===n?function(t,e,n,r,i,s,o,a,u,l,c,h){const f=e.bindings.length;f>0&&or(t,e,0,n),f>1&&or(t,e,1,r),f>2&&or(t,e,2,i),f>3&&or(t,e,3,s),f>4&&or(t,e,4,o),f>5&&or(t,e,5,a),f>6&&or(t,e,6,u),f>7&&or(t,e,7,l),f>8&&or(t,e,8,c),f>9&&or(t,e,9,h)}(t,e,r,i,s,o,a,u,l,c,h,f):function(t,e,n){for(let r=0;r<n.length;r++)or(t,e,r,n[r])}(t,e,r),!1}function Ao(t,e){if(Qn(t,e.nodeIndex).dirty)throw Un(Zn.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function No(t){if(!(128&t.state)){if(Ro(t,Oo.Destroy),Po(t,Oo.Destroy),Ti(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=cr(t);if(e){const n=e.template._projectedViews;n&&(Ht(n,n.indexOf(t)),Zn.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(Gn(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Hn(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Qn(t,n).destroy()}}(t),pr(t)&&t.renderer.destroy(),t.state|=128}}const Oo=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function Po(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Do(Gn(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Ro(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=Gn(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)Do(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Do(t,e){const n=t.state;switch(e){case Oo.CheckNoChanges:0==(128&n)&&(12==(12&n)?So(t):64&n&&Lo(t,Oo.CheckNoChangesProjectedViews));break;case Oo.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?So(t):64&n&&Lo(t,e));break;case Oo.CheckAndUpdate:0==(128&n)&&(12==(12&n)?To(t):64&n&&Lo(t,Oo.CheckAndUpdateProjectedViews));break;case Oo.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?To(t):64&n&&Lo(t,e));break;case Oo.Destroy:No(t);break;case Oo.CreateViewNodes:Co(t)}}function Lo(t,e){Ro(t,e),Po(t,e)}function Mo(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let s=0;s<i;s++){const i=t.def.nodes[s];if(i.flags&e&&i.flags&n)switch(Zn.setCurrentNode(t,i.nodeIndex),r){case 0:oo(t,i);break;case 1:Ao(t,i)}i.childFlags&e&&i.childFlags&n||(s+=i.childCount)}}let Vo=!1;function Fo(t,e,n,r,i,s){const o=i.injector.get(mn);return _o(Uo(t,i,o,e,n),r,s)}function jo(t,e,n,r,i,s){const o=i.injector.get(mn),a=Uo(t,i,new va(o),e,n),u=Zo(r);return ga(na.create,_o,null,[a,u,s])}function Uo(t,e,n,r,i){const s=e.injector.get(xe),o=e.injector.get(te),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:s,rendererFactory:n,renderer:a,errorHandler:o}}function qo(t,e,n,r){const i=Zo(n);return ga(na.create,vo,null,[t,e,i,r])}function Bo(t,e,n,r){return n=Go.get(e.element.componentProvider.provider.token)||Zo(n),ga(na.create,wo,null,[t,e,n,r])}function zo(t,e,n,r){return ni(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===$o.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const r=$o.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{Ho.forEach((r,i)=>{mt(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=$o.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=yr(i.deps),r.value=i.value)}if(Ho.size>0){let e=new Set(t.modules);Ho.forEach((r,i)=>{if(e.has(mt(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:yr(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[Jn(i)]=e}})}}(t=t.factory(()=>Yn)),t):t}(r))}const $o=new Map,Ho=new Map,Go=new Map;function Wo(t){let e;$o.set(t.token,t),"function"==typeof t.token&&(e=mt(t.token))&&"function"==typeof e.providedIn&&Ho.set(t.token,t)}function Ko(t,e){const n=wr(e.viewDefFactory),r=wr(n.nodes[0].element.componentView);Go.set(t,r)}function Qo(){$o.clear(),Ho.clear(),Go.clear()}function Zo(t){if(0===$o.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&$o.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Yn);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=$o.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=yr(n.deps),t.value=n.value)}}}}function Yo(t,e,n,r,i,s,o,a,u,l,c,h,f){const d=t.def.nodes[e];return xo(t,d,n,r,i,s,o,a,u,l,c,h,f),224&d.flags?Kn(t,e).value:void 0}function Xo(t,e,n,r,i,s,o,a,u,l,c,h,f){const d=t.def.nodes[e];return ko(t,d,n,r,i,s,o,a,u,l,c,h,f),224&d.flags?Kn(t,e).value:void 0}function Jo(t){return ga(na.detectChanges,To,null,[t])}function ta(t){return ga(na.checkNoChanges,So,null,[t])}function ea(t){return ga(na.destroy,No,null,[t])}const na=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let ra,ia,sa;function oa(t,e){ia=t,sa=e}function aa(t,e,n,r){return oa(t,e),ga(na.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function ua(t,e){if(128&t.state)throw Bn(na[ra]);return oa(t,fa(t,0)),t.def.updateDirectives((function(t,n,r,...i){const s=t.def.nodes[n];return 0===e?ca(t,s,r,i):ha(t,s,r,i),16384&s.flags&&oa(t,fa(t,n)),224&s.flags?Kn(t,s.nodeIndex).value:void 0}),t)}function la(t,e){if(128&t.state)throw Bn(na[ra]);return oa(t,da(t,0)),t.def.updateRenderer((function(t,n,r,...i){const s=t.def.nodes[n];return 0===e?ca(t,s,r,i):ha(t,s,r,i),3&s.flags&&oa(t,da(t,n)),224&s.flags?Kn(t,s.nodeIndex).value:void 0}),t)}function ca(t,e,n,r){if(xo(t,e,n,...r)){const i=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],s=i[t];8&r.flags&&(n[Ae(r.nonMinifiedName)]=Oe(s))}const r=e.parent,s=Gn(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(s,e,r):t.renderer.removeAttribute(s,e)}else t.renderer.setValue(s,`bindings=${JSON.stringify(n,null,2)}`)}}}function ha(t,e,n,r){ko(t,e,n,...r)}function fa(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function da(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class pa{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=hr(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Gn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Yr(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){ma(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&ma(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!pr(t);)t=t.parent;return t.parent?Gn(t.parent,hr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?fr(this.view,this.nodeDef):fr(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let s=-1;n.factory(()=>++s===i?t.error.bind(t,...e):Yn),s<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function ma(t,e,n){for(let r in e.references)n[r]=uo(t,e,e.references[r])}function ga(t,e,n,r){const i=ra,s=ia,o=sa;try{ra=t;const a=e.apply(n,r);return ia=s,sa=o,ra=i,a}catch(l){if(Yt(l)||!ia)throw l;throw a=l,u=ya(),a instanceof Error||(a=new Error(a.toString())),qn(a,u),a}var a,u}function ya(){return ia?new pa(ia,sa):null}class va{constructor(t){this.delegate=t}createRenderer(t,e){return new _a(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class _a{constructor(t){this.delegate=t,this.debugContextFactory=ya,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=Hs(t);!function(t){$s.delete(t.nativeNode)}(e),e instanceof Bs&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new zs(n,null,r);e.name=t,Gs(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Gs(new Bs(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Gs(new Bs(e,null,n)),e}appendChild(t,e){const n=Hs(t),r=Hs(e);n&&r&&n instanceof zs&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=Hs(t),i=Hs(e),s=Hs(n);r&&i&&r instanceof zs&&r.insertBefore(s,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Hs(t),r=Hs(e);n&&r&&n instanceof zs&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=ya();return r&&Gs(new zs(n,null,r)),n}setAttribute(t,e,n,r){const i=Hs(t);i&&i instanceof zs&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=Hs(t);r&&r instanceof zs&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Hs(t);n&&n instanceof zs&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Hs(t);n&&n instanceof zs&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=Hs(t);i&&i instanceof zs&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=Hs(t);r&&r instanceof zs&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=Hs(t);r&&r instanceof zs&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=Hs(t);r&&r.listeners.push(new qs(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function wa(t,e,n){return new ba(t,e,n)}class ba extends zt{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(Vo)return;Vo=!0;const t=re()?{setCurrentNode:oa,createRootView:jo,createEmbeddedView:qo,createComponentView:Bo,createNgModuleRef:zo,overrideProvider:Wo,overrideComponentView:Ko,clearOverrides:Qo,checkAndUpdateView:Jo,checkNoChangesView:ta,destroyView:ea,createDebugContext:(t,e)=>new pa(t,e),handleEvent:aa,updateDirectives:ua,updateRenderer:la}:{setCurrentNode:()=>{},createRootView:Fo,createEmbeddedView:vo,createComponentView:wo,createNgModuleRef:ni,overrideProvider:Yn,overrideComponentView:Yn,clearOverrides:Yn,checkAndUpdateView:To,checkNoChangesView:So,destroyView:No,createDebugContext:(t,e)=>new pa(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Yo:Xo,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Yo:Xo,t)};Zn.setCurrentNode=t.setCurrentNode,Zn.createRootView=t.createRootView,Zn.createEmbeddedView=t.createEmbeddedView,Zn.createComponentView=t.createComponentView,Zn.createNgModuleRef=t.createNgModuleRef,Zn.overrideProvider=t.overrideProvider,Zn.overrideComponentView=t.overrideComponentView,Zn.clearOverrides=t.clearOverrides,Zn.checkAndUpdateView=t.checkAndUpdateView,Zn.checkNoChangesView=t.checkNoChangesView,Zn.destroyView=t.destroyView,Zn.resolveDep=Ei,Zn.createDebugContext=t.createDebugContext,Zn.handleEvent=t.handleEvent,Zn.updateDirectives=t.updateDirectives,Zn.updateRenderer=t.updateRenderer,Zn.dirtyParentQueries=so}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(wr(this._ngModuleDefFactory));return Zn.createNgModuleRef(this.moduleType,t||Me.NULL,this._bootstrapComponents,e)}}class Ea{}class Ca{constructor(){this.title="mutant-zero"}}class Sa{}const Ta=new xt("Location Initialized");class xa{}const Ia=new xt("appBaseHref");class ka{constructor(t,e){this._subject=new Mi,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=ka.stripTrailingSlash(Aa(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+ka.normalizeQueryParams(e))}normalize(t){return ka.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Aa(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ka.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ka.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function Aa(t){return t.replace(/\/index.html$/,"")}class Na extends xa{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=ka.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+ka.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+ka.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class Oa extends xa{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ka.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+ka.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+ka.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+ka.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const Pa=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Ra=function(t){return function(t){const e=t.toLowerCase().replace(/_/g,"-");let n=Ai[e];if(n)return n;const r=e.split("-")[0];if(n=Ai[r])return n;if("en"===r)return Pi;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Ni.PluralCase]},Da=new xt("UseV4Plurals");class La{}class Ma extends La{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):Ra(e||this.locale)(t)){case Pa.Zero:return"zero";case Pa.One:return"one";case Pa.Two:return"two";case Pa.Few:return"few";case Pa.Many:return"many";default:return"other"}}}class Va{}class Fa{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Ye(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${yt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}let ja=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})();class Ua extends ja{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}class qa{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Ba{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){re()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new qa(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new za(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new za(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class za{constructor(t,e){this.record=t,this.view=e}}class $a{constructor(t,e){this._viewContainer=t,this._context=new Ha,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ga("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ga("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class Ha{constructor(){this.$implicit=null,this.ngIf=null}}function Ga(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}class Wa{}const Ka=new xt("DocumentToken"),Qa="browser",Za="server";function Ya(t){return t===Za}let Xa=(()=>{class t{}return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:()=>new Ja(jt(Ka),window,jt(te))}),t})();class Ja{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}const tu=new b(t=>t.complete());function eu(t){return t?function(t){return new b(e=>t.schedule(()=>e.complete()))}(t):tu}function nu(t){const e=new b(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function ru(...t){let e=t[t.length-1];switch(A(e)?t.pop():e=void 0,t.length){case 0:return eu(e);case 1:return e?H(t,e):nu(t[0]);default:return H(t,e)}}class iu extends I{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}next(t){super.next(this._value=t)}}function su(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}su.prototype=Object.create(Error.prototype);const ou=su,au={};class uu{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new lu(t,this.resultSelector))}}class lu extends q{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(au),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(U(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===au?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function cu(t){return new b(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?G(n):eu()).subscribe(e)})}function hu(){return Y(1)}function fu(t,e){return function(n){return n.lift(new du(t,e))}}class du{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new pu(t,this.predicate,this.thisArg))}}class pu extends m{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function mu(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}mu.prototype=Object.create(Error.prototype);const gu=mu;function yu(t){return function(e){return 0===t?eu():e.lift(new vu(t))}}class vu{constructor(t){if(this.total=t,this.total<0)throw new gu}call(t,e){return e.subscribe(new _u(t,this.total))}}class _u extends m{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function wu(t,e,n){return function(r){return r.lift(new bu(t,e,n))}}class bu{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Eu(t,this.nextOrObserver,this.error,this.complete))}}class Eu extends m{constructor(t,e,n,i){super(t),this._tapNext=v,this._tapError=v,this._tapComplete=v,this._tapError=n||v,this._tapComplete=i||v,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||v,this._tapError=e.error||v,this._tapComplete=e.complete||v)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const Cu=(t=Su)=>wu({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function Su(){return new ou}function Tu(t=null){return e=>e.lift(new xu(t))}class xu{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Iu(t,this.defaultValue))}}class Iu extends m{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function ku(t,e){const n=arguments.length>=2;return r=>r.pipe(t?fu((e,n)=>t(e,n,r)):Z,yu(1),n?Tu(e):Cu(()=>new ou))}function Au(t){return function(e){const n=new Nu(t),r=e.lift(n);return n.caught=r}}class Nu{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ou(t,this.selector,this.caught))}}class Ou extends q{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new N(this,void 0,void 0);this.add(r),U(this,n,void 0,void 0,r)}}}function Pu(t){return e=>0===t?eu():e.lift(new Ru(t))}class Ru{constructor(t){if(this.total=t,this.total<0)throw new gu}call(t,e){return e.subscribe(new Du(t,this.total))}}class Du extends m{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Lu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?fu((e,n)=>t(e,n,r)):Z,Pu(1),n?Tu(e):Cu(()=>new ou))}class Mu{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Vu(t,this.predicate,this.thisArg,this.source))}}class Vu extends m{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Fu(t,e){return"function"==typeof e?n=>n.pipe(Fu((n,r)=>G(t(n,r)).pipe(B((t,i)=>e(n,t,r,i))))):e=>e.lift(new ju(t))}class ju{constructor(t){this.project=t}call(t,e){return e.subscribe(new Uu(t,this.project))}}class Uu extends q{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new N(this,void 0,void 0);this.destination.add(i),this.innerSubscription=U(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function qu(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Bu(t,e,n))}}class Bu{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new zu(t,this.accumulator,this.seed,this.hasSeed))}}class zu extends m{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function $u(t,e){return W(t,e,1)}class Hu{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Gu(t,this.callback))}}class Gu extends m{constructor(t,e){super(t),this.add(new f(e))}}let Wu=null;function Ku(){return Wu}class Qu{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class Zu extends Qu{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const Yu={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Xu=3,Ju={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},el=(()=>{if(Tt.Node)return Tt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class nl extends Zu{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new nl,Wu||(Wu=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return Yu}contains(t,e){return el.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===Xu&&tl.hasOwnProperty(e)&&(e=tl[e]))}return Ju[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=il||(il=document.querySelector("base"))?il.getAttribute("href"):null;return null==e?null:(n=e,rl||(rl=document.createElement("a")),rl.setAttribute("href",n),"/"===rl.pathname.charAt(0)?rl.pathname:"/"+rl.pathname);var n}resetBaseElement(){il=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let rl,il=null;function sl(){return!!window.history.pushState}const ol=new xt("TRANSITION_ID"),al=[{provide:ji,useFactory:function(t,e,n){return()=>{n.get(Ui).donePromise.then(()=>{const n=Ku();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[ol,Ka,Me],multi:!0}];class ul{static init(){var t;t=new ul,Cs=t}addToWindow(t){Tt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Tt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Tt.getAllAngularRootElements=()=>t.getAllRootElements(),Tt.frameworkStabilizers||(Tt.frameworkStabilizers=[]),Tt.frameworkStabilizers.push(t=>{const e=Tt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Ku().isShadowRoot(e)?this.findTestabilityInTree(t,Ku().getHost(e),!0):this.findTestabilityInTree(t,Ku().parentElement(e),!0):null}}function ll(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Tt.ng=Tt.ng||{})[t]=e)}const cl=(()=>({ApplicationRef:Ps,NgZone:fs}))();function hl(t){return Hs(t)}const fl=new xt("EventManagerPlugins");class dl{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}class pl{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Ku().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class ml{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class gl extends ml{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Ku().remove(t))}}const yl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},vl=/%COMP%/g,_l="_nghost-%COMP%",wl="_ngcontent-%COMP%";function bl(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?bl(t,i,n):(i=i.replace(vl,t),n.push(i))}return n}function El(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class Cl{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Sl(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Gt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Il(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case Gt.Native:case Gt.ShadowDom:return new kl(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=bl(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Sl{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(yl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=yl[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=yl[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&gn.DashCase?t.style.setProperty(e,n,r&gn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&gn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){xl(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return xl(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,El(n)):this.eventManager.addEventListener(t,e,El(n))}}const Tl=(()=>"@".charCodeAt(0))();function xl(t,e){if(t.charCodeAt(0)===Tl)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Il extends Sl{constructor(t,e,n,r){super(t),this.component=n;const i=bl(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr=wl.replace(vl,r+"-"+n.id),this.hostAttr=_l.replace(vl,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class kl extends Sl{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===Gt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=bl(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const Al=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),Nl=Al("addEventListener"),Ol=Al("removeEventListener"),Pl={},Rl="FALSE",Dl="ANGULAR",Ll="addEventListener",Ml="removeEventListener",Vl="__zone_symbol__propagationStopped",Fl="__zone_symbol__stopImmediatePropagation",jl=(()=>{const t="undefined"!=typeof Zone&&Zone[Al("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),Ul=function(t){return!!jl&&jl.hasOwnProperty(t)},ql=function(t){const e=Pl[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[Vl];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}};class Bl extends pl{constructor(t,e,n){super(t),this.ngZone=e,n&&Ya(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[Fl])return;const t=Event.prototype[Fl]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Vl]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let r=n;if(!t[Nl]||fs.isInAngularZone()&&!Ul(e))t[Ll](e,r,!1);else{let n=Pl[e];n||(n=Pl[e]=Al(Dl+e+Rl));let i=t[n];const s=i&&i.length>0;i||(i=t[n]=[]);const o=Ul(e)?Zone.root:Zone.current;if(0===i.length)i.push({zone:o,handler:r});else{let t=!1;for(let e=0;e<i.length;e++)if(i[e].handler===r){t=!0;break}t||i.push({zone:o,handler:r})}s||t[Nl](e,ql,!1)}return()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,n){let r=t[Ol];if(!r)return t[Ml].apply(t,[e,n,!1]);let i=Pl[e],s=i&&t[i];if(!s)return t[Ml].apply(t,[e,n,!1]);let o=!1;for(let a=0;a<s.length;a++)if(s[a].handler===n){o=!0,s.splice(a,1);break}o?0===s.length&&r.apply(t,[e,ql,!1]):t[Ml].apply(t,[e,n,!1])}}const zl={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},$l=new xt("HammerGestureConfig"),Hl=new xt("HammerLoader");class Gl{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class Wl extends pl{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!zl.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),s=function(t){r.runGuarded((function(){n(t)}))};return i.on(e,s),()=>{i.off(e,s),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const Kl=["alt","control","meta","shift"],Ql={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class Zl extends pl{constructor(t){super(t)}supports(t){return null!=Zl.parseEventName(t)}addEventListener(t,e,n){const r=Zl.parseEventName(e),i=Zl.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ku().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=Zl._normalizeKey(e.pop());let i="";if(Kl.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const s={};return s.domEventName=n,s.fullKey=i,s}static getEventFullKey(t){let e="",n=Ku().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Kl.forEach(r=>{r!=n&&(0,Ql[r])(t)&&(e+=r+".")}),e+=n}static eventCallback(t,e,n){return r=>{Zl.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class Yl{}class Xl extends Yl{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Te.NONE:return e;case Te.HTML:return e instanceof tc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{Ce=Ce||new ie(t);let r=e?String(e):"";n=Ce.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Ce.getInertBodyElement(r)}while(r!==s);const o=new _e,a=o.sanitizeChildren(Se(n)||n);return re()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Se(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case Te.STYLE:return e instanceof ec?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(ke);return e&&ae(e[1])===e[1]||t.match(Ie)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(re()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case Te.SCRIPT:if(e instanceof nc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Te.URL:return e instanceof ic||e instanceof rc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),ae(String(e)));case Te.RESOURCE_URL:if(e instanceof ic)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof Jl)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new tc(t)}bypassSecurityTrustStyle(t){return new ec(t)}bypassSecurityTrustScript(t){return new nc(t)}bypassSecurityTrustUrl(t){return new rc(t)}bypassSecurityTrustResourceUrl(t){return new ic(t)}}class Jl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class tc extends Jl{getTypeName(){return"HTML"}}class ec extends Jl{getTypeName(){return"Style"}}class nc extends Jl{getTypeName(){return"Script"}}class rc extends Jl{getTypeName(){return"URL"}}class ic extends Jl{getTypeName(){return"ResourceURL"}}const sc=ks(Ws,"browser",[{provide:Hi,useValue:Qa},{provide:$i,useValue:function(){nl.makeCurrent(),ul.init()},multi:!0},{provide:Sa,useClass:class extends Sa{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Ku().getLocation(),this._history=Ku().getHistory()}getBaseHrefFromDOM(){return Ku().getBaseHref(this._doc)}onPopState(t){Ku().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Ku().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){sl()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){sl()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[Ka]},{provide:Ka,useFactory:function(){return document},deps:[]}]);function oc(){return new te}class ac{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:ac,providers:[{provide:qi,useValue:t.appId},{provide:ol,useExisting:qi},al]}}}"undefined"!=typeof window&&window;class uc{constructor(t,e){this.id=t,this.url=e}}class lc extends uc{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cc extends uc{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hc extends uc{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fc extends uc{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dc extends uc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pc extends uc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mc extends uc{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gc extends uc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yc extends uc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vc{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _c{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wc{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bc{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ec{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cc{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sc{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Tc{}const xc="primary";class Ic{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function kc(t){return new Ic(t)}const Ac="ngNavigationCancelingError";function Nc(t){const e=Error("NavigationCancelingError: "+t);return e[Ac]=!0,e}function Oc(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Pc{constructor(t,e){this.routes=t,this.module=e}}function Rc(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Dc(r,Lc(e,r))}}function Dc(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==xc)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Rc(t.children,e)}function Lc(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Mc(t){const e=t.children&&t.children.map(Mc),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==xc&&(n.component=Tc),n}function Vc(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(t[i=n[s]]!==e[i])return!1;return!0}function Fc(t){return Array.prototype.concat.apply([],t)}function jc(t){return t.length>0?t[t.length-1]:null}function Uc(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function qc(t){return tn(t)?t:Je(t)?G(Promise.resolve(t)):ru(t)}function Bc(t,e,n){return n?function(t,e){return Vc(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Gc(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Gc(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Gc(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Gc(n.segments,t)&&!!n.children[xc]&&e(n.children[xc],r,s)}}(e,n,n.segments)}(t.root,e.root)}class zc{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kc(this.queryParams)),this._queryParamMap}toString(){return Zc.serialize(this)}}class $c{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Uc(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yc(this)}}class Hc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=kc(this.parameters)),this._parameterMap}toString(){return rh(this)}}function Gc(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Wc(t,e){let n=[];return Uc(t.children,(t,r)=>{r===xc&&(n=n.concat(e(t,r)))}),Uc(t.children,(t,r)=>{r!==xc&&(n=n.concat(e(t,r)))}),n}class Kc{}class Qc{parse(t){const e=new uh(t);return new zc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return Yc(e);if(n){const n=e.children[xc]?t(e.children[xc],!1):"",r=[];return Uc(e.children,(e,n)=>{n!==xc&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Wc(e,(n,r)=>r===xc?[t(e.children[xc],!1)]:[`${r}:${t(n,!1)}`]);return`${Yc(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Jc(e)}=${Jc(t)}`).join("&"):`${Jc(e)}=${Jc(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Zc=new Qc;function Yc(t){return t.segments.map(t=>rh(t)).join("/")}function Xc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jc(t){return Xc(t).replace(/%3B/gi,";")}function th(t){return Xc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function eh(t){return decodeURIComponent(t)}function nh(t){return eh(t.replace(/\+/g,"%20"))}function rh(t){return`${th(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${th(t)}=${th(e[t])}`).join("")}`;var e}const ih=/^[^\/()?;=#]+/;function sh(t){const e=t.match(ih);return e?e[0]:""}const oh=/^[^=?&#]+/,ah=/^[^?&#]+/;class uh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $c([],{}):new $c([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[xc]=new $c(t,e)),n}parseSegment(){const t=sh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Hc(eh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=sh(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=sh(this.remaining);t&&this.capture(n=t)}t[eh(e)]=eh(n)}parseQueryParam(t){const e=function(t){const e=t.match(oh);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(ah);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const r=nh(e),i=nh(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(t[r]=e=[e]),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=sh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=xc);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[xc]:new $c([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class lh{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ch(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=ch(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=hh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return hh(t,this._root).map(t=>t.value)}}function ch(t,e){if(t===e.value)return e;for(const n of e.children){const e=ch(t,n);if(e)return e}return null}function hh(t,e){if(t===e.value)return[e];for(const n of e.children){const r=hh(t,n);if(r.length)return r.unshift(e),r}return[]}class fh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function dh(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ph extends lh{constructor(t,e){super(t),this.snapshot=e,wh(this,t)}toString(){return this.snapshot.toString()}}function mh(t,e){const n=function(t,e){const n=new vh([],{},{},"",{},xc,e,null,t.root,-1,{});return new _h("",new fh(n,[]))}(t,e),r=new iu([new Hc("",{})]),i=new iu({}),s=new iu({}),o=new iu({}),a=new iu(""),u=new gh(r,i,o,a,s,xc,e,n.root);return u.snapshot=n.root,new ph(new fh(u,[]),n)}class gh{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(B(t=>kc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B(t=>kc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yh(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class vh{constructor(t,e,n,r,i,s,o,a,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _h extends lh{constructor(t,e){super(e),this.url=t,wh(this,e)}toString(){return bh(this._root)}}function wh(t,e){e.value._routerState=t,e.children.forEach(e=>wh(t,e))}function bh(t){const e=t.children.length>0?` { ${t.children.map(bh).join(", ")} } `:"";return`${t.value}${e}`}function Eh(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vc(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Vc(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vc(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Vc(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ch(t,e){var n,r;return Vc(t.params,e.params)&&Gc(n=t.url,r=e.url)&&n.every((t,e)=>Vc(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Ch(t.parent,e.parent))}function Sh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Th(t,e,n,r,i){let s={};return r&&Uc(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new zc(n.root===t?e:function t(e,n,r){const i={};return Uc(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new $c(e.segments,i)}(n.root,t,e),s,i)}class xh{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Sh(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==jc(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ih{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function kh(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[xc]:`${t}`}function Ah(t,e,n){if(t||(t=new $c([],{})),0===t.segments.length&&t.hasChildren())return Nh(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=kh(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!Dh(o,a,e))return s;r+=2}else{if(!Dh(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new $c(t.segments.slice(0,r.pathIndex),{});return e.children[xc]=new $c(t.segments.slice(r.pathIndex),t.children),Nh(e,0,i)}return r.match&&0===i.length?new $c(t.segments,{}):r.match&&!t.hasChildren()?Oh(t,e,n):r.match?Nh(t,0,i):Oh(t,e,n)}function Nh(t,e,n){if(0===n.length)return new $c(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{[xc]:t}:void 0===t[0].outlets?{[xc]:t}:t[0].outlets}(n),i={};return Uc(r,(n,r)=>{null!==n&&(i[r]=Ah(t.children[r],e,n))}),Uc(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new $c(t.segments,i)}}function Oh(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Ph(n[i].outlets);return new $c(r,t)}if(0===i&&Sh(n[0])){r.push(new Hc(t.segments[e].path,n[0])),i++;continue}const s=kh(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&Sh(o)?(r.push(new Hc(s,Rh(o))),i+=2):(r.push(new Hc(s,{})),i++)}return new $c(r,{})}function Ph(t){const e={};return Uc(t,(t,n)=>{null!==t&&(e[n]=Oh(new $c([],{}),0,t))}),e}function Rh(t){const e={};return Uc(t,(t,n)=>e[n]=`${t}`),e}function Dh(t,e,n){return t==n.path&&Vc(e,n.parameters)}const Lh=(t,e,n)=>B(r=>(new Mh(e,r.targetRouterState,r.currentRouterState,n).activate(t),r));class Mh{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Eh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=dh(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Uc(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=dh(t),i=t.value.component?n.children:e;Uc(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=dh(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Cc(t.value.snapshot))}),t.children.length&&this.forwardEvent(new bc(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Eh(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Vh(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Vh(t){Eh(t.value),t.children.forEach(Vh)}function Fh(t){return"function"==typeof t}function jh(t){return t instanceof zc}class Uh{constructor(t){this.segmentGroup=t||null}}class qh{constructor(t){this.urlTree=t}}function Bh(t){return new b(e=>e.error(new Uh(t)))}function zh(t){return new b(e=>e.error(new qh(t)))}function $h(t){return new b(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Hh{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Bt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,xc).pipe(B(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Au(t=>{if(t instanceof qh)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Uh)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,xc).pipe(B(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Au(t=>{if(t instanceof Uh)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new $c([],{[xc]:t}):t;return new zc(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(B(t=>new $c([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return ru({});const n=[],r=[],i={};return Uc(t,(t,s)=>{const o=e(s,t).pipe(B(t=>i[s]=t));s===xc?n.push(o):r.push(o)}),ru.apply(null,n.concat(r)).pipe(hu(),ku(),B(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return ru(...n).pipe(B(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Au(t=>{if(t instanceof Uh)return ru(null);throw t}))),hu(),Lu(t=>!!t),Au((t,n)=>{if(t instanceof ou||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return ru(new $c([],{}));throw new Uh(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Qh(r)!==s?Bh(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Bh(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?zh(i):this.lineralizeSegments(n,i).pipe(W(n=>{const i=new $c(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:l}=Gh(e,r,i);if(!o)return Bh(e);const c=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?zh(c):this.lineralizeSegments(r,c).pipe(W(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(B(t=>(n._loadedConfig=t,new $c(r,{})))):ru(new $c(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Gh(e,n,r);if(!i)return Bh(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(W(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Kh(t,e,n)&&Qh(n)!==xc)}(t,n,r)?{segmentGroup:Wh(new $c(e,function(t,e){const n={};n[xc]=e;for(const r of t)""===r.path&&Qh(r)!==xc&&(n[Qh(r)]=new $c([],{}));return n}(r,new $c(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Kh(t,e,n))}(t,n,r)?{segmentGroup:Wh(new $c(t.segments,function(t,e,n,r){const i={};for(const s of n)Kh(t,e,s)&&!r[Qh(s)]&&(i[Qh(s)]=new $c([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(B(t=>new $c(s,t))):0===r.length&&0===o.length?ru(new $c(s,{})):this.expandSegment(n,i,r,o,xc,!0).pipe(B(t=>new $c(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?ru(new Pc(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ru(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?G(r).pipe(B(r=>{const i=t.get(r);let s;if(function(t){return t&&Fh(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Fh(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return qc(s)})).pipe(hu(),(i=t=>!0===t,t=>t.lift(new Mu(i,void 0,t)))):ru(!0);var i}(t.injector,e,n).pipe(W(n=>n?this.configLoader.load(t.injector,e).pipe(B(t=>(e._loadedConfig=t,t))):function(t){return new b(e=>e.error(Nc(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):ru(new Pc([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return ru(n);if(r.numberOfChildren>1||!r.children[xc])return $h(t.redirectTo);r=r.children[xc]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new zc(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Uc(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Uc(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new $c(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Gh(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Oc)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Wh(t){if(1===t.numberOfChildren&&t.children[xc]){const e=t.children[xc];return new $c(t.segments.concat(e.segments),e.children)}return t}function Kh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Qh(t){return t.outlet||xc}class Zh{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Yh{constructor(t,e){this.component=t,this.route=e}}function Xh(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=dh(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Gc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Gc(t.url,e.url)||!Vc(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ch(t,e)||!Vc(t.queryParams,e.queryParams);case"paramsChange":default:return!Ch(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new Zh(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?u?u.children:null:r,i,s),l&&s.canDeactivateChecks.push(new Yh(u&&u.outlet&&u.outlet.component||null,a))}else a&&tf(n,u,s),s.canActivateChecks.push(new Zh(i)),t(e,null,o.component?u?u.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),Uc(o,(t,e)=>tf(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function Jh(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function tf(t,e,n){const r=dh(t),i=t.value;Uc(r,(t,r)=>{tf(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Yh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const ef=Symbol("INITIAL_VALUE");function nf(){return Fu(t=>(function(...t){let e=null,n=null;return A(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),H(t,n).lift(new uu(e))})(...t.map(t=>t.pipe(Pu(1),function(...t){return e=>{let n=t[t.length-1];A(n)?t.pop():n=null;const r=t.length;return function(...t){return hu()(ru(...t))}(1!==r||n?r>0?H(t,n):eu(n):nu(t[0]),e)}}(ef)))).pipe(qu((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ef)return t;if(r===ef&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||jh(r))return r}return t},t)},ef),fu(t=>t!==ef),B(t=>jh(t)?t:!0===t),Pu(1)))}function rf(t,e){return null!==t&&e&&e(new Ec(t)),ru(!0)}function sf(t,e){return null!==t&&e&&e(new wc(t)),ru(!0)}function of(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?ru(r.map(r=>cu(()=>{const i=Jh(r,e,n);let s;if(function(t){return t&&Fh(t.canActivate)}(i))s=qc(i.canActivate(e,t));else{if(!Fh(i))throw new Error("Invalid CanActivate guard");s=qc(i(e,t))}return s.pipe(Lu())}))).pipe(nf()):ru(!0)}function af(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>cu(()=>ru(e.guards.map(i=>{const s=Jh(i,e.node,n);let o;if(function(t){return t&&Fh(t.canActivateChild)}(s))o=qc(s.canActivateChild(r,t));else{if(!Fh(s))throw new Error("Invalid CanActivateChild guard");o=qc(s(r,t))}return o.pipe(Lu())})).pipe(nf())));return ru(i).pipe(nf())}class uf{}class lf{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=ff(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,xc),n=new vh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xc,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new fh(n,e),i=new _h(this.url,r);return this.inheritParamsAndData(i._root),ru(i)}catch(t){return new b(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=yh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Wc(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===xc?-1:e.value.outlet===xc?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof uf))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new uf}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new uf;if((t.outlet||xc)!==r)throw new uf;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?jc(n).parameters:{};i=new vh(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mf(t),r,t.component,t,cf(e),hf(e)+n.length,gf(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new uf;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Oc)(n,t,e);if(!r)throw new uf;const i={};Uc(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new vh(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mf(t),r,t.component,t,cf(e),hf(e)+s.length,gf(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:l}=ff(e,s,o,a,this.relativeLinkResolution);if(0===l.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new fh(i,t)]}if(0===a.length&&0===l.length)return[new fh(i,[])];const c=this.processSegment(a,u,l,xc);return[new fh(i,c)]}}function cf(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function hf(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ff(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>df(t,e,n)&&pf(n)!==xc)}(t,n,r)){const i=new $c(e,function(t,e,n,r){const i={};i[xc]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&pf(s)!==xc){const n=new $c([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[pf(s)]=n}return i}(t,e,r,new $c(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>df(t,e,n))}(t,n,r)){const s=new $c(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(df(t,n,a)&&!i[pf(a)]){const n=new $c([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[pf(a)]=n}return Object.assign({},i,o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new $c(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function df(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function pf(t){return t.outlet||xc}function mf(t){return t.data||{}}function gf(t){return t.resolve||{}}function yf(t,e,n,r){const i=Jh(t,e,r);return qc(i.resolve?i.resolve(e,n):i(e,n))}function vf(t){return function(e){return e.pipe(Fu(e=>{const n=t(e);return n?G(n).pipe(B(()=>e)):G([e])}))}}class _f{}class wf{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const bf=new xt("ROUTES");class Ef{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(B(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Pc(Fc(r.injector.get(bf)).map(Mc),r)}))}loadModuleFactory(t){return"string"==typeof t?G(this.loader.load(t)):qc(t()).pipe(W(t=>t instanceof zt?ru(t):G(this.compiler.compileModuleAsync(t))))}}class Cf{}class Sf{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Tf(t){throw t}function xf(t,e,n){return e.parse("/")}function If(t,e){return ru(null)}class kf{constructor(t,e,n,r,i,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new I,this.errorHandler=Tf,this.malformedUriErrorHandler=xf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:If,afterPreactivation:If},this.urlHandlingStrategy=new Sf,this.routeReuseStrategy=new wf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Bt),this.console=i.get(Wi);const u=i.get(fs);this.isNgZoneEnabled=u instanceof fs,this.resetConfig(a),this.currentUrlTree=new zc(new $c([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ef(s,o,t=>this.triggerEvent(new vc(t)),t=>this.triggerEvent(new _c(t))),this.routerState=mh(this.currentUrlTree,this.rootComponentType),this.transitions=new iu({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(fu(t=>0!==t.id),B(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Fu(t=>{let n=!1,r=!1;return ru(t).pipe(wu(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Fu(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return ru(t).pipe(Fu(t=>{const n=this.transitions.getValue();return e.next(new lc(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?tu:[t]}),Fu(t=>Promise.resolve(t)),function(t,e,n,r){return function(i){return i.pipe(Fu(i=>(function(t,e,n,r,i){return new Hh(t,e,n,r,i).apply()})(t,e,n,i.extractedUrl,r).pipe(B(t=>Object.assign({},i,{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),wu(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(W(s=>(function(t,e,n,r,i="emptyOnly",s="legacy"){return new lf(t,e,n,r,i,s).recognize()})(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(B(t=>Object.assign({},s,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),wu(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),wu(t=>{const n=new dc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new lc(n,this.serializeUrl(r),i,s);e.next(a);const u=mh(r,this.rootComponentType).snapshot;return ru(Object.assign({},t,{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign({},o,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),tu}),vf(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),wu(t=>{const e=new pc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),B(t=>Object.assign({},t,{guards:Xh(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(W(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ru(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return G(t).pipe(W(t=>(function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ru(s.map(s=>{const o=Jh(s,e,i);let a;if(function(t){return t&&Fh(t.canDeactivate)}(o))a=qc(o.canDeactivate(t,e,n,r));else{if(!Fh(o))throw new Error("Invalid CanDeactivate guard");a=qc(o(t,e,n,r))}return a.pipe(Lu())})).pipe(nf()):ru(!0)})(t.component,t.route,n,e,r)),Lu(t=>!0!==t,!0))}(o,r,i,t).pipe(W(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return G(e).pipe($u(e=>G([sf(e.route.parent,r),rf(e.route,r),af(t,e.path,n),of(t,e.route,n)]).pipe(hu(),Lu(t=>!0!==t,!0))),Lu(t=>!0!==t,!0))}(r,s,t,e):ru(n)),B(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),wu(t=>{if(jh(t.guardsResult)){const e=Nc(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),wu(t=>{const e=new mc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),fu(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new hc(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),vf(t=>{if(t.guards.canActivateChecks.length)return ru(t).pipe(wu(t=>{const e=new gc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(n){return n.pipe(W(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?G(i).pipe($u(n=>(function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return ru({});if(1===i.length){const s=i[0];return yf(t[s],e,n,r).pipe(B(t=>({[s]:t})))}const s={};return G(i).pipe(W(i=>yf(t[i],e,n,r).pipe(B(t=>(s[i]=t,t))))).pipe(ku(),B(()=>s))}(t._resolve,t,e,r).pipe(B(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,yh(t,n).resolve),null)))})(n.route,r,t,e)),function(t,e){return arguments.length>=2?function(n){return _(qu(t,e),yu(1),Tu(e))(n)}:function(e){return _(qu((e,n,r)=>t(e,n,r+1)),yu(1))(e)}}((t,e)=>t),B(t=>n)):ru(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),wu(t=>{const e=new yc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),vf(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),B(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new fh(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new gh(new iu((i=n.value).url),new iu(i.params),new iu(i.queryParams),new iu(i.fragment),new iu(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new fh(r,s)}}var i}(t,e._root,n?n._root:void 0);return new ph(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),wu(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Lh(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),wu({next(){n=!0},complete(){n=!0}}),function(t){return e=>e.lift(new Hu(t))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new hc(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Au(n=>{if(r=!0,function(t){return t&&t[Ac]}(n)){const r=jh(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new hc(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new fc(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}return tu}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Rc(t),this.config=t.map(Mc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;re()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,l=a?this.currentUrlTree.fragment:i;let c=null;if(o)switch(o){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=s?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Th(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new xh(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Uc(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new xh(n,e,r)}(n);if(s.toRoot())return Th(e.root,new $c([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Ih(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Ih(n.snapshot._urlSegment,!0,0);const r=Sh(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Ih(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Nh(o.segmentGroup,o.index,s.commands):Ah(o.segmentGroup,o.index,s.commands);return Th(o.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,c,l)}navigateByUrl(t,e={skipLocationChange:!1}){re()&&this.isNgZoneEnabled&&!fs.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=jh(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(jh(t))return Bc(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Bc(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new cc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s=null,o=null;const a=new Promise((t,e)=>{s=t,o=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Af{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Nf,this.attachRef=null}}class Nf{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Af,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Of{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Mi,this.deactivateEvents=new Mi,this.name=r||xc,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Pf(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Pf{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===gh?this.route:t===Nf?this.childContexts:this.parent.get(t,e)}}class Rf{}class Df{preload(t,e){return e().pipe(Au(()=>ru(null)))}}class Lf{preload(t,e){return ru(null)}}class Mf{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ef(e,n,e=>t.triggerEvent(new vc(e)),e=>t.triggerEvent(new _c(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(fu(t=>t instanceof cc),$u(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Bt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return G(n).pipe(Y(),B(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(W(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class Vf{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof lc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof cc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Sc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Sc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Ff=new xt("ROUTER_CONFIGURATION"),jf=new xt("ROUTER_FORROOT_GUARD"),Uf=[ka,{provide:Kc,useClass:Qc},{provide:kf,useFactory:Wf,deps:[Ps,Kc,Nf,ka,Me,Ds,es,bf,Ff,[Cf,new lt],[_f,new lt]]},Nf,{provide:gh,useFactory:Kf,deps:[kf]},{provide:Ds,useClass:js},Mf,Lf,Df,{provide:Ff,useValue:{enableTracing:!1}}];function qf(){return new Is("Router",kf)}class Bf{constructor(t,e){}static forRoot(t,e){return{ngModule:Bf,providers:[Uf,Gf(t),{provide:jf,useFactory:Hf,deps:[[kf,new lt,new ht]]},{provide:Ff,useValue:e||{}},{provide:xa,useFactory:$f,deps:[Sa,[new ut(Ia),new lt],Ff]},{provide:Vf,useFactory:zf,deps:[kf,Xa,Ff]},{provide:Rf,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:Lf},{provide:Is,multi:!0,useFactory:qf},[Qf,{provide:ji,multi:!0,useFactory:Zf,deps:[Qf]},{provide:Xf,useFactory:Yf,deps:[Qf]},{provide:Gi,multi:!0,useExisting:Xf}]]}}static forChild(t){return{ngModule:Bf,providers:[Gf(t)]}}}function zf(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Vf(t,e,n)}function $f(t,e,n={}){return n.useHash?new Na(t,e):new Oa(t,e)}function Hf(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Gf(t){return[{provide:He,multi:!0,useValue:t},{provide:bf,multi:!0,useValue:t}]}function Wf(t,e,n,r,i,s,o,a,u={},l,c){const h=new kf(null,e,n,r,i,s,o,Fc(a));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=Ku();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Kf(t){return t.routerState.root}class Qf{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new I}appInitializer(){return this.injector.get(Ta,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(kf),r=this.injector.get(Ff);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?ru(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Ff),n=this.injector.get(Mf),r=this.injector.get(Vf),i=this.injector.get(kf),s=this.injector.get(Ps);t===s.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function Zf(t){return t.appInitializer.bind(t)}function Yf(t){return t.bootstrapListener.bind(t)}const Xf=new xt("Router Initializer");var Jf=nr({encapsulation:2,styles:[],data:{}});function td(t){return mo(0,[(t()(),to(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),fi(1,212992,null,0,Of,[Nf,Fn,un,[8,null],Pe],null,null)],(function(t,e){t(e,1,0)}),null)}function ed(t){return mo(0,[(t()(),to(0,0,null,null,1,"ng-component",[],null,null,null,td,Jf)),fi(1,49152,null,0,Tc,[],null,null)],null,null)}var nd=Br("ng-component",Tc,ed,{},{},[]);const rd={technology:"./assets/icon_8.svg",culture:"./assets/icon_105.svg",warfare:"./assets/icon_62.svg",food_supply:"./assets/icon_60.svg"};class id{constructor(){this.icons=rd}ngOnInit(){this.devKeys=this.development?Object.keys(this.development):[]}}var sd=nr({encapsulation:0,styles:[[".dev-icon[_ngcontent-%COMP%]{width:20px;height:20px}.icon-wrapper[_ngcontent-%COMP%]{border-radius:50%;width:40px;height:40px;text-align:center;padding-top:6px;position:relative;display:inline-block;margin-right:10px}.technology[_ngcontent-%COMP%]{background-color:#6d3466}.warfare[_ngcontent-%COMP%]{background-color:#ff5200}.culture[_ngcontent-%COMP%]{background-color:#7e7eff}.food_supply[_ngcontent-%COMP%]{background-color:#65e207}.counter[_ngcontent-%COMP%]{position:absolute;top:23px;right:-10px;background-color:#af5454;border-radius:50%;height:25px;width:25px}"]],data:{}});function od(t){return mo(0,[(t()(),to(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),to(1,0,null,null,3,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),to(2,0,null,null,0,"img",[["class","dev-icon"]],[[8,"src",4]],null,null,null,null)),(t()(),to(3,0,null,null,1,"div",[["class","counter"]],null,null,null,null,null)),(t()(),ho(4,null,[" "," "]))],null,(function(t,e){var n=e.component;t(e,1,0,Ar(1,"icon-wrapper ",e.context.$implicit,"")),t(e,2,0,Ar(1,"",n.icons[e.context.$implicit],"")),t(e,4,0,n.development[e.context.$implicit])}))}function ad(t){return mo(0,[(t()(),to(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Js(16777216,null,null,1,null,od)),fi(2,278528,null,0,Ba,[Fn,Mn,On],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.devKeys)}),null)}function ud(t){return mo(0,[(t()(),Js(16777216,null,null,1,null,ad)),fi(1,16384,null,0,$a,[Fn,Mn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,!!e.component.development)}),null)}const ld=[{name:"DEFENSES",description:"Palisades, earthworks or even a moat. Protects the Ark against enemies on the outside, and makes it harder to slip in or out unnoticed.",dev_req:null,skills:["Force","Scout"],work_points:8,dev_bonus:{warfare:2}},{name:"HUNTING PARTY",description:"The People organize expeditions into the Zone to track and kill wild beasts for grub.",dev_req:null,skills:["Endure","Shoot"],work_points:4,dev_bonus:{food_supply:2}},{name:"CANNIBALISM",description:"If the Ark is on the brink of starvation, the People can resort to desperate measures.",dev_req:null,skills:["Fight","Manipulate"],work_points:4,dev_bonus:{food_supply:3,culture:-1},special:"Increase the Session Body Count (page 115) by D6"},{name:"CROPLAND",description:"A plot of land is set aside for the organized cultivation of grain, corn, turnips, radishes, or even mushrooms. Simple tools like plows and harrows are made and utilized.",dev_req:null,skills:["Endure","Know the Zone"],work_points:12,dev_bonus:{food_supply:3}},{name:"SLAVE MARKET",description:"The Bosses of the Ark start trading in slaves, taken from the People or other groups in the Zone. They trade with each other or with traveling slavers.",dev_req:null,skills:["Fight","Manipulate"],work_points:8,dev_bonus:{food_supply:1,warfare:1}},{name:"PIGSTY",description:"Pigs and other farm animals from the Old Age roam free after the Apocalypse and have turned into wild and often heavily mutated creatures. Yet, they can be caught and brought into the service of the People.",dev_req:null,skills:["Endure","Know the Zone"],work_points:8,dev_bonus:{food_supply:2}},{name:"TEMPLE",description:"A shrine where the People can worship the Ancients in the Sky, the Firstborn Mutant or why not even the Rot itself.",dev_req:null,skills:["Endure","Manipulate"],work_points:4,dev_bonus:{culture:1}},{name:"ZONE WRESTLING",description:"A metal cage where the strongest mutants fight each other for bullets and glory. Less physically inclined mutants bet on the outcome. No weapons are allowed in the cage, but mutations are considered fair play.",dev_req:null,skills:["Fight","Manipulate"],work_points:4,dev_bonus:{warfare:1}},{name:"ZONE EXPEDITION",description:"An expedition into the Zone is a special type of project, described in detail in Chapter 8. It requires no work_points and can be undertaken several times over. Only one Zone Expedition can be launched per Assembly. The PCs can decide whether to join the expedition or not.",dev_req:null,skills:null,work_points:null,dev_bonus:null},{name:"MUSEUM",description:"An exhibition of objects from the Old Age. The People can come here to learn about the ancient world.",dev_req:{culture:5},skills:["Comprehend"],work_points:8,dev_bonus:{culture:1,technology:1}},{name:"STATUE",description:"A grand effigy of the Elder or a Boss with an inflated ego.",dev_req:{culture:5},skills:["Endure","Sense Emotion"],work_points:4,dev_bonus:{culture:1}},{name:"SUNDIAL",description:"A device consisting of a stick placed on a flat disc of some kind, letting the People tell time by watching the shadow of the stick move.",dev_req:{culture:5},skills:["Comprehend"],work_points:4,dev_bonus:{technology:1}},{name:"WATCHTOWER",description:"Up here, you can spot enemies from afar.",dev_req:{technology:5},skills:["Endure","Scout"],work_points:4,dev_bonus:{warfare:1}},{name:"HARBOR",description:"A simple quay that makes is easier to load and unload from boats and ships.",dev_req:{technology:10},other_req:"The Ark must be close to water.",skills:["Endure","Comprehend"],work_points:8,dev_bonus:null,special:"This project is a requirement for a building a Ship (below)"},{name:"MILL",description:"A simple mechanism that will grind plants into flour for baking bread. Is powered by hand, a Water Wheel or a Windmill.",dev_req:{technology:10},other_req:"Cropland",skills:["Endure","Comprehend"],work_points:8,dev_bonus:{food_supply:2}},{name:"SMOKEHOUSE",description:"A small house or shed where meat or fish caught in the Zone is cured by smoke, making it last much longer.",dev_req:{food_supply:5,technology:10},other_req:"Hunting Party",skills:["Endure","Comprehend"],work_points:8,dev_bonus:{food_supply:1}},{name:"MARKETPLACE",description:"Bartering has always taken place in the Ark, but with a designated marketplace, trade is more organized.",dev_req:{food_supply:10,culture:10},skills:["Manipulate"],work_points:8,dev_bonus:{food_supply:1,culture:1}},{name:"MILITA",description:"An armed force given the job to protect the Ark against external enemies and maintain order internally.",dev_req:{warfare:10},skills:["Fight","Manipulate"],work_points:8,dev_bonus:{warfare:2}},{name:"LIBRARY",description:"A collection of books, magazines and newspapers from the Old Age.",dev_req:{culture:10},skills:["Comprehend"],work_points:12,dev_bonus:{culture:2,warfare:1}},{name:"STABLES",description:"Bitterbeasts (page 178) and other animals in the Zone can be caught to be used as mounts by the People \u2013 but they need to be tamed and trained first.",dev_req:{food_supply:10},skills:["Endure","Know the Zone"],work_points:8,dev_bonus:{food_supply:1,warfare:1},special:"With completed Stables the People can trade and use mounts for riding"},{name:"TAVERN",description:"A place where the People can gather to eat, drink and swap stories.",dev_req:{food_supply:10},skills:["Endure","Sense Emotion"],work_points:4,dev_bonus:{culture:1}},{name:"THEATER",description:"A stage and ensemble, entertaining the People with stage plays about life in the Ark or the fall of the Ancients.",dev_req:{culture:10},skills:["Manipulate"],work_points:8,dev_bonus:{culture:2}},{name:"TORTURE CHAMBER",description:"In this confined area, suspected evildoers and traitors in the Ark can be tormented until they divulge everything they know \u2013 and more.",dev_req:{warfare:10,culture:10},skills:["Fight","Manipulate"],work_points:4,dev_bonus:{warfare:1}},{name:"TRIBUNAL",description:"A court given the power to mete out punishment on mutants who steal, murder or disrupt the order of things. Corporal punishment is the norm, as the Ark can hardly afford to keep people locked up for very long. Hard labor or even exile are also possible penalties.",dev_req:{warfare:10,culture:10},skills:["Fight","Comprehend"],work_points:8,dev_bonus:{culture:1,warfare:1}},{name:"WATER WHEEL",description:"A large wheel built from wood or scrap metal and plastic, fitted with a number of blades or buckets.",dev_req:{technology:10},skills:["Endure","Comprehend"],work_points:4,dev_bonus:{technology:1},special:"Placed in a creek or waterfall, the Water Wheel can power a Mill or a Generator"},{name:"WORKSHOP",description:"This is the place to go if you need your broken gear fixed \u2013 but it will cost you bullets to get anything done.",dev_req:{technology:10},skills:["Endure","Comprehend"],work_points:12,dev_bonus:{technology:2},special:"The Workshop is a requirement for several other projects"},{name:"SURVEILLANCE",description:"A system of informers, where the People spy on each other and report suspicious activity to one or several Bosses.",dev_req:{warfare:10,culture:10},skills:["Sneak","Manipulate"],work_points:4,dev_bonus:{warfare:1}},{name:"CALENDAR",description:"Using a few simple astronomical observations (when the Zone smog lifts enough to let the People see the stars), the People manage to recreate a yearly calendar of 365 days.",dev_req:{technology:15,culture:10},skills:["Comprehend"],work_points:4,dev_bonus:{culture:1}},{name:"WINDMILL",description:"A large fan-like structure placed on a tower of some sort, ingeniously built to always turn into the wind.",dev_req:{technology:15,food_supply:10},other_req:"Workshop",skills:["Endure","Comprehend"],work_points:4,dev_bonus:{technology:1},special:"The Windmill can power a Mill or a Generator \u2013 but only when the wind is blowing"},{name:"INK",description:"& PAPER The People have discovered a method of turning tattered paper from the Old Age, or plants growing in the Zone, to paper \u2013 and can create simple inks to write with.",dev_req:{technology:15,culture:10},skills:["Comprehend"],work_points:8,dev_bonus:{culture:2},special:"Ink & Paper is a requirement for the Printing Press (below)"},{name:"DISTILLERY",description:"This contraption of tanks, bottles and tubes can be used to extract a great number of chemical substances from burning wood or plants. One of its many uses is to brew booze (page 93).",dev_req:{food_supply:5,technology:15},other_req:"Workshop",skills:["Comprehend"],work_points:4,dev_bonus:null,special:"Reduces the price of booze in the Ark by half. Needed for several other more advanced projects"},{name:"ARMY",description:"An Army is more powerful than a Militia, and can be used for actual military campaigns in the Zone.",dev_req:{warfare:20},skills:["Fight","Manipulate"],work_points:8,dev_bonus:{warfare:2}},{name:"BANK",description:"A place where the People can deposit their valuables and be reasonably sure they are kept safe.",dev_req:{warfare:10,culture:20},skills:["Comprehend","Manipulate"],work_points:4,dev_bonus:{culture:1}},{name:"SHIP",description:"A ship built of scrap, bigger than anything a single Gearhead could construct on his own. It could be steam-powered if the People have completed the Steam Engine project (page 111). If not, it is fitted with sails or oars.",dev_req:{technology:20},other_req:"Harbor",skills:["Endure","Comprehend"],work_points:12,dev_bonus:{food_supply:1,culture:1,warfare:1},special:"The Ship can carry about 50 passengers and can used to explore coastal sectors of the Zone. The time required is halved compared to exploring on foot (page 122). The ship can also be used to escape from threats at sea, and gives Gear Bonus 1 in such situations. Armor: 3. Resilience: 20"},{name:"GENERATOR",description:"A machine built of wires and magnets, capable of generating an electrical current.",dev_req:{technology:20},other_req:"Workshop. Also requires a Steam Engine, a functional vehicle from the Old Age, or mutants on a treadmill.",skills:["Comprehend"],work_points:8,dev_bonus:{technology:2}},{name:"HELIOGRAPH",description:"A device capable of quickly sending short messages over long distances, using light signals and mirrors.",dev_req:{technology:20},other_req:"Workshop \u2013 and the People must have made contact with another settlement, or established one of their own (below).",skills:["Endure","Comprehend"],work_points:8,dev_bonus:{culture:1}},{name:"SCHOOL",description:"Here the People can learn about the Old Age, and all about what you have discovered about the dawnworld.",dev_req:{culture:20},skills:["Comprehend","Know the Zone"],work_points:8,dev_bonus:{culture:1,technology:1}},{name:"SHELTER",description:"Hidden tunnels and escape routes dug underneath the Ark. Here, you can seek shelter or make your getaway if the Ark is invaded.",dev_req:{warfare:20,technology:10},skills:["Move","Scout"],work_points:8,dev_bonus:{warfare:2}},{name:"PRINTING PRESS",description:"With this heavy piece of machinery the People can print simple pamphlets, papers and books.",dev_req:{technology:20,culture:20},other_req:"Workshop, Ink & Paper (above)",skills:["Endure","Comprehend"],work_points:8,dev_bonus:{culture:2}},{name:"SETTLEMENT",description:"The People find a new spot to live and establish a new settlement in a different sector. When the settlement is complete, decide how many of the Ark\u2019s inhabitants move there.",dev_req:{warfare:20,culture:20},other_req:"The new settlement must be located in a sector explored by the PCs or a Zone Expedition (Chapter 8), and at least 2D6 sectors away from the Ark.",skills:["Endure"],work_points:12,dev_bonus:null,special:"The new settlement will have its own DEV ratings, and will start at zero in all of them. New projects are undertaken in the new settlement, separately from the Ark. Some projects, such as the Road, Heliograph and Railroad, connect two settlements. They give their DEV bonus to both settlements when complete"},{name:"ROAD",description:"Transforms one of the paths in the Zone into a road, which can be used by carriages or motor-driven vehicles. This project can be undertaken many times over \u2013 every sector to be traversed by a Road counts as a separate project.",dev_req:{technology:20},skills:["Endure","Comprehend"],work_points:4,dev_bonus:{food_supply:1,culture:1},dev_bonus_special:"\u2013 but only when the Road reaches another settlement in the Zone. The DEV bonuses are for the entire Road, not for every sector",special:"Traveling through a sector on a Road (page 122) takes half the time"},{name:"FOUNDRY",description:"In this steaming furnace the People can melt metal scrap from the Old Age, and mold it into new items.",dev_req:{technology:25},other_req:"Workshop",skills:["Endure","Comprehend"],work_points:12,dev_bonus:null,special:"The Foundry is a requirement for several advanced projects"},{name:"EXPLOSIVES LAB",description:"A specialized workshop used to produce gunpowder and other explosive substances.",dev_req:{technology:30,warfare:10},other_req:"Distillery",skills:["Comprehend"],work_points:4,dev_bonus:{warfare:1},special:"Combined with the Foundry, the Explosives Lab can be used to manufacture bullets. Bullets are then bartered in the Ark at half the normal cost"},{name:"AUTOCRACY",description:"One Boss becomes the sole ruler of the Ark. His word is law.",dev_req:{warfare:30},other_req:"Cannot be combined with Suffrage.",skills:["Comprehend"],work_points:8,dev_bonus:{warfare:2}},{name:"FREE ENTERPRISE",description:"The People establish a system where every mutant is free to seek his own fortune. Slavery is outlawed.",dev_req:{technology:30},other_req:"Cannot be combined with Collectivism, Autocracy or a Slave Market.",skills:["Manipulate"],work_points:8,dev_bonus:{technology:2}},{name:"COLLECTIVISM",description:"All private ownership is outlawed. All mutants must work for the common good, and all resources are distributed equally.",dev_req:{food_supply:30},other_req:"Cannot be combined with Free Enterprise.",skills:["Manipulate"],work_points:8,dev_bonus:{food_supply:2}},{name:"SUFFRAGE",description:"All mutants of the People get the right to vote about issues that are important to the Ark.",dev_req:{culture:30},other_req:"Cannot be combined with Autocracy.",skills:["Manipulate"],work_points:8,dev_bonus:{technology:2}},{name:"STEAM ENGINE",description:"A marvelous machine that runs on firewood and water.",dev_req:{technology:30},other_req:"Foundry, Distillery",skills:["Endure","Comprehend"],work_points:8,dev_bonus:{technology:2},special:"Can power a Generator, a Train or a Steam Car (below)"},{name:"STEAM CAR",description:"A steam powered vehicle that can thunder through the Zone at considerable speed and noise.",dev_req:{technology:30},other_req:"Steam Engine",skills:["Comprehend"],work_points:12,dev_bonus:null,special:"A Train can carry around ten passengers, increases the speed of movement in combat and cuts the time it takes to explore a sector in the Zone by half. How vehicles work is explained in Chapter 6. The Steam Car be used to escape from threats or to ram enemies. Gear Bonus: 1. Armor: 3. Resilience: 3"},{name:"RAILROAD",description:"To build a rail link through the Zone is an advanced and very demanding project. Every sector to be traversed by railroad counts as its own project.",dev_req:{technology:35},other_req:"Foundry",skills:["Endure","Comprehend"],work_points:8,dev_bonus:null,special:"Makes it possible to build a Train (below)"},{name:"TRAIN",description:"When steam trains start to roll across the Zone, a great step toward rebuilding the Ancients\u2019 civilization has been taken.",dev_req:{technology:30},other_req:"Steam Engine, Railroad",skills:["Comprehend"],work_points:12,dev_bonus:{food_supply:1,culture:1,technology:1},dev_bonus_special:"but only when the Train runs on a rail track that reaches another settlement in the Zone. The DEV bonuses are for the entire railway, not for every sector",special:"A Train can carry around 50 passengers and will cross a sector in the Zone in mere minutes \u2013 as long as nothing blocks the tracks. The Train can also be used to escape from threats or to ram enemies. Gear Bonus: 1. Armor: 3. Resilience: 15"},{name:"ARSENAL",description:"In this specialized workshop, the People can massproduce breech-loaded firearms. An Arsenal is often combined with an Explosives Lab (above).",dev_req:{technology:35,warfare:10},other_req:"Foundry",skills:["Shoot","Comprehend"],work_points:8,dev_bonus:{warfare:2},special:"Breech-loaded firearms become available in the Ark"},{name:"SURGERY",description:"The bonesaws of the Ark have learned the anatomy of the mutant body, as well as the use of ether or other forms of anesthesia, and can perform simple surgical operations.",dev_req:{technology:35},other_req:"Distillery",skills:["Comprehend"],work_points:8,dev_bonus:null,special:"Any rolls to Heal a critical injury at the surgical clinic get a +two modification. The Session Body Count is reduced by one"},{name:"ELECTRIC LIGHTS",description:"Illuminates the Ark like in the Old Age, and turns it into a beacon seen for miles at night.",dev_req:{technology:40},other_req:"Workshop, Generator",skills:["Comprehend"],work_points:8,dev_bonus:{technology:2}},{name:"RADIO",description:"A very basic device capable of radio communication, using a crystal of some sort to rectify the current.",dev_req:{technology:50},other_req:"Workshop, Generator",skills:["Comprehend"],work_points:8,dev_bonus:{technology:2}},{name:"CARTOGRAPHY",description:"Custom",dev_req:null,skills:["Sense Emotion","Know the Zone"],work_points:8,dev_bonus:{warfare:1,culture:1}},{name:"JELLY FARM",description:"Custom",dev_req:null,skills:["Comprehend","Endure"],work_points:8,dev_bonus:{technology:2}}],cd=[{row:"Q",col:24,explored:!0,isArk:!0,rotLvl:0},{row:"P",col:23,explored:!0,rotLvl:1,comment:"battlefield",treatFound:!0,treat:""},{row:"Q",col:23,explored:!0,rotLvl:1,comment:"metro station",treatFound:!0,treat:""},{row:"R",col:23,explored:!0,rotLvl:1,comment:"dead forest",treatFound:!0,treat:""},{row:"P",col:24,explored:!0,rotLvl:1,comment:"industrial ruins",treatFound:!0,treat:""},{row:"Q",col:25,explored:!0,rotLvl:2,comment:"broken bridge",treatFound:!0,treat:""},{row:"P",col:25,explored:!0,rotLvl:1,comment:"dead forest",treatFound:!0,treat:""},{row:"R",col:25,explored:!0,rotLvl:1,comment:"gas station",treatFound:!0,treat:""},{row:"R",col:24,explored:!0,rotLvl:1,comment:"bushes",treatFound:!0,treat:""},{row:"O",col:25,explored:!0,rotLvl:1,comment:"field, river",treatFound:!1,treat:""},{row:"N",col:25,explored:!0,rotLvl:2,comment:"underground settlement",treatFound:!1,treat:""},{row:"O",col:26,explored:!0,rotLvl:1,comment:"frogs raft",treatFound:!1,treat:""},{row:"P",col:26,explored:!1,rotLvl:2,comment:"",treatFound:!1,treat:""},{row:"M",col:20,explored:!1,rotLvl:null,comment:"workshop",treatFound:!1,treat:""},{row:"O",col:22,explored:!1,rotLvl:0,comment:"city with bridge",treatFound:!0,treat:""}],hd=[{row:"O",col:22}];class fd{constructor(t){this.projectsService=t,this.projectsList=ld,this.filter="ALL",this.filterDevBonus=""}ngOnInit(){this.projectsService.getProjectsData().subscribe(t=>{console.log(t),this.finishedProjects=t.finishedProjects.finishedProjectsList,this.currentDevLvl=t.currentDevLvl,this.projectsInProgress=t.startedProjects,this.initProjectsList()})}initProjectsList(){this.projectsListExpanded=[...this.projectsList],this.projectsListExpanded.forEach(t=>{this.finishedProjects.find(e=>e===t.name)?t.isFinished=!0:void 0!==this.projectsInProgress[t.name]?(t.isInWork=!0,t.work_points_completed=this.projectsInProgress[t.name]):t.dev_req&&!this.devReqSatisfied(t)||(t.isAvailable=!0),this.filteredProjectList=[...this.projectsListExpanded]})}devReqSatisfied(t){if(!t.dev_req)return!0;const e=Object.keys(t.dev_req);let n=!0;return e.forEach(e=>{t.dev_req[e]>this.currentDevLvl[e]&&(n=!1)}),n}filterProjectsList(t,e=""){switch(this.filter=t,this.filterDevBonus=e,this.filter){case"ALL":this.filteredProjectList=[...this.projectsListExpanded];break;case"NO_COMPLETED":this.filteredProjectList=this.projectsListExpanded.filter(t=>!t.isFinished);break;case"COMPLETED":this.filteredProjectList=this.projectsListExpanded.filter(t=>t.isFinished);break;case"AVAILABLE":this.filteredProjectList=this.projectsListExpanded.filter(t=>t.isAvailable||t.isInWork||t.isFinished);break;case"IN_PROGRESS":this.filteredProjectList=this.projectsListExpanded.filter(t=>t.isInWork);break;case"DEV_BONUS":console.log(1),this.filteredProjectList=this.projectsListExpanded.filter(t=>t.dev_bonus&&t.dev_bonus[e]&&!t.isFinished)}}openDesctiption(t){this.openedProject=this.openedProject===t?null:t}}class dd extends f{constructor(t,e){super()}schedule(t,e=0){return this}}class pd extends dd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let md=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class gd extends md{constructor(t,e=md.now){super(t,()=>gd.delegate&&gd.delegate!==this?gd.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return gd.delegate&&gd.delegate!==this?gd.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const yd=new gd(pd);let vd=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return ru(this.value);case"E":return t=this.error,new b(e=>e.error(t));case"C":return eu()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function _d(t,e=0){return function(n){return n.lift(new wd(t,e))}}class wd{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new bd(t,this.scheduler,this.delay))}}class bd extends m{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(bd.dispatch,this.delay,new Ed(t,this.destination)))}_next(t){this.scheduleMessage(vd.createNext(t))}_error(t){this.scheduleMessage(vd.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(vd.createComplete()),this.unsubscribe()}}class Ed{constructor(t,e){this.notification=t,this.destination=e}}class Cd extends pd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class Sd extends gd{}const Td=new Sd(Cd);let xd=1;const Id={},kd={setImmediate(t){const e=xd++;return Id[e]=t,Promise.resolve().then(()=>(function(t){const e=Id[t];e&&e()})(e)),e},clearImmediate(t){delete Id[t]}};class Ad extends pd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=kd.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(kd.clearImmediate(e),t.scheduled=void 0)}}class Nd extends gd{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Od=new Nd(Ad);class Pd extends b{constructor(t,e=0,n=Od){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,(u(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=Od)}static create(t,e=0,n=Od){return new Pd(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(Pd.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class Rd{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new Pd(e,this.delay,this.scheduler).subscribe(t)}}var Dd=n("zIRd");function Ld(){}Dd.a.registerVersion("firebase","8.0.2","app");class Md{constructor(t,e=Td){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class Vd{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ld,{},Ld,Ld)),e.pipe(wu({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class Fd{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Md(Zone.current)),this.insideAngular=t.run(()=>new Md(Zone.current,yd))}}const jd=new xt("angularfire2.app.options"),Ud=new xt("angularfire2.app.nameOrConfig");class qd{}const Bd=new _n("6.0.5");function zd(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",Dd.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>Dd.a.initializeApp(t,r))}class $d{constructor(t){Dd.a.registerVersion("angularfire",Bd.full,t.toString()),Dd.a.registerVersion("angular",wn.full)}static initializeApp(t,e){return{ngModule:$d,providers:[{provide:jd,useValue:t},{provide:Ud,useValue:e}]}}}function Hd(t,e){return function(t,e=yd){return new b(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),()=>{null!=r&&r()}})}(t,e)}function Gd(t,e){return Hd(t,e).pipe(B(t=>({payload:t,type:"query"})))}function Wd(t,e){return Gd(t,e).pipe(B(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Kd(t,e,n){return Gd(t,n).pipe(B(t=>t.payload.docChanges()),qu((t,n)=>(function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t})(t,n,e),[]),B(t=>t.map(t=>({type:t.type,payload:t}))))}function Qd(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}n("xsWp");class Zd{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?Wd(this.query,this.afs.schedulers.outsideAngular).pipe(B(e=>e.filter(e=>t.indexOf(e.type)>-1)),fu(t=>t.length>0),this.afs.keepUnstableUntilFirst):Wd(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(qu((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Qd(t);return Kd(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Gd(this.query,this.afs.schedulers.outsideAngular).pipe(B(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return G(this.query.get(t)).pipe(_d(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Yd(this.ref.doc(t),this.afs)}}class Yd{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=rp(n,e);return new Zd(r,i,this.afs)}snapshotChanges(){return Hd(this.ref,this.afs.schedulers.outsideAngular).pipe(B(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(B(t=>t.payload.data()))}get(t){return G(this.ref.get(t)).pipe(_d(this.afs.schedulers.insideAngular))}}class Xd{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Wd(this.query,this.afs.schedulers.outsideAngular).pipe(B(e=>e.filter(e=>t.indexOf(e.type)>-1)),fu(t=>t.length>0),this.afs.keepUnstableUntilFirst):Wd(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(qu((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Qd(t);return Kd(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Gd(this.query,this.afs.schedulers.outsideAngular).pipe(B(t=>t.payload.docs.map(t=>t.data())),this.afs.keepUnstableUntilFirst)}get(t){return G(this.query.get(t)).pipe(_d(this.afs.schedulers.insideAngular))}}const Jd=n("xsWp"),tp=new xt("angularfire2.enableFirestorePersistence"),ep=new xt("angularfire2.firestore.persistenceSettings"),np=new xt("angularfire2.firestore.settings");function rp(t,e=(t=>t)){return{query:e(t),ref:t}}let ip=(()=>{class t{constructor(t,e,n,r,i,s,o){var a;this.schedulers=new Fd(s),this.keepUnstableUntilFirst=(a=this.schedulers,function(t){return(t=t.lift(new Vd(a.ngZone))).pipe(function(t,e=0){return function(n){return n.lift(new Rd(t,e))}}(a.outsideAngular),_d(a.insideAngular))}),this.firestore=s.runOutsideAngular(()=>{const n=zd(t,s,e);"registerFirestore"in Jd&&Jd.registerFirestore(Dd.a);const i=n.firestore();return r&&i.settings(r),i}),this.persistenceEnabled$=n&&!Ya(i)?s.runOutsideAngular(()=>{try{return G(this.firestore.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(t){return ru(!1)}}):ru(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=rp(n,e),s=this.schedulers.ngZone.run(()=>r);return new Zd(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Xd(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Yd(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275prov=pt({factory:function(){return new t(jt(jd),jt(Ud,8),jt(tp,8),jt(np,8),jt(Hi),jt(fs),jt(ep,8))},token:t,providedIn:"any"}),t})();class sp{static enablePersistence(t){return{ngModule:sp,providers:[{provide:tp,useValue:!0},{provide:ep,useValue:t}]}}}let op=(()=>{class t{constructor(t){this.firestore=t,this.firestoreProjectsCollection=this.firestore.collection("projects")}getProjectsData(){return this.firestoreProjectsCollection.get().pipe(B(t=>{const e={};return t.forEach(t=>{e[t.id]=t.data()}),e}))}}return t.ngInjectableDef=pt({factory:function(){return new t(jt(ip))},token:t,providedIn:"root"}),t})();var ap=nr({encapsulation:0,styles:[[".list[_ngcontent-%COMP%]{padding-top:10px}.list[_ngcontent-%COMP%]   .btn.btn-warning[_ngcontent-%COMP%]{margin-left:10px;margin-bottom:10px}.red[_ngcontent-%COMP%]{color:red}.clickable[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function up(t){return mo(0,[(t()(),to(0,0,null,null,1,"span",[["class","red"]],null,null,null,null,null)),(t()(),ho(-1,null,["*"]))],null,null)}function lp(t){return mo(0,[(t()(),to(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ho(1,null,["(","/",")"]))],null,(function(t,e){t(e,1,0,e.parent.context.$implicit.work_points_completed,e.parent.context.$implicit.work_points)}))}function cp(t){return mo(0,[(t()(),to(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ho(1,null,["",", "]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function hp(t){return mo(0,[(t()(),to(0,0,null,null,2,"tr",[["class","bg-info"]],null,null,null,null,null)),(t()(),to(1,0,null,null,1,"td",[["colspan","7"]],null,null,null,null,null)),(t()(),ho(2,null,["",""]))],null,(function(t,e){t(e,2,0,e.parent.context.$implicit.description)}))}function fp(t){return mo(0,[(t()(),to(0,0,null,null,4,"tr",[["class","bg-info"]],null,null,null,null,null)),(t()(),to(1,0,null,null,3,"td",[["colspan","7"]],null,null,null,null,null)),(t()(),to(2,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),ho(-1,null,["Other Requirements: "])),(t()(),ho(4,null,["",""]))],null,(function(t,e){t(e,4,0,e.parent.context.$implicit.other_req)}))}function dp(t){return mo(0,[(t()(),to(0,0,null,null,4,"tr",[["class","bg-info"]],null,null,null,null,null)),(t()(),to(1,0,null,null,3,"td",[["colspan","7"]],null,null,null,null,null)),(t()(),to(2,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),ho(-1,null,["Special: "])),(t()(),ho(4,null,["",""]))],null,(function(t,e){t(e,4,0,e.parent.context.$implicit.special)}))}function pp(t){return mo(0,[(t()(),to(0,0,null,null,42,null,null,null,null,null,null,null)),(t()(),to(1,0,null,null,35,"tr",[],null,null,null,null,null)),di(512,null,Va,Fa,[On,Pn,fn,yn]),fi(3,278528,null,0,Ua,[Va],{ngClass:[0,"ngClass"]},null),co(4,{"bg-success":0,"bg-warning":1,"table-dark":2}),(t()(),to(5,0,null,null,5,"td",[["class","clickable"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.openDesctiption(t.context.$implicit)&&r),r}),null,null)),(t()(),ho(6,null,[" ",""])),(t()(),Js(16777216,null,null,1,null,up)),fi(8,16384,null,0,$a,[Fn,Mn],{ngIf:[0,"ngIf"]},null),(t()(),Js(16777216,null,null,1,null,lp)),fi(10,16384,null,0,$a,[Fn,Mn],{ngIf:[0,"ngIf"]},null),(t()(),to(11,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Js(16777216,null,null,1,null,cp)),fi(13,278528,null,0,Ba,[Fn,Mn,On],{ngForOf:[0,"ngForOf"]},null),(t()(),to(14,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),to(15,0,null,null,1,"app-development-bonus",[],null,null,null,ud,sd)),fi(16,114688,null,0,id,[],{development:[0,"development"]},null),(t()(),to(17,0,null,null,4,"td",[],null,null,null,null,null)),di(512,null,Va,Fa,[On,Pn,fn,yn]),fi(19,278528,null,0,Ua,[Va],{ngClass:[0,"ngClass"]},null),co(20,{red:0}),(t()(),ho(21,null,[" "," "])),(t()(),to(22,0,null,null,4,"td",[],null,null,null,null,null)),di(512,null,Va,Fa,[On,Pn,fn,yn]),fi(24,278528,null,0,Ua,[Va],{ngClass:[0,"ngClass"]},null),co(25,{red:0}),(t()(),ho(26,null,[" "," "])),(t()(),to(27,0,null,null,4,"td",[],null,null,null,null,null)),di(512,null,Va,Fa,[On,Pn,fn,yn]),fi(29,278528,null,0,Ua,[Va],{ngClass:[0,"ngClass"]},null),co(30,{red:0}),(t()(),ho(31,null,[" "," "])),(t()(),to(32,0,null,null,4,"td",[],null,null,null,null,null)),di(512,null,Va,Fa,[On,Pn,fn,yn]),fi(34,278528,null,0,Ua,[Va],{ngClass:[0,"ngClass"]},null),co(35,{red:0}),(t()(),ho(36,null,[" "," "])),(t()(),Js(16777216,null,null,1,null,hp)),fi(38,16384,null,0,$a,[Fn,Mn],{ngIf:[0,"ngIf"]},null),(t()(),Js(16777216,null,null,1,null,fp)),fi(40,16384,null,0,$a,[Fn,Mn],{ngIf:[0,"ngIf"]},null),(t()(),Js(16777216,null,null,1,null,dp)),fi(42,16384,null,0,$a,[Fn,Mn],{ngIf:[0,"ngIf"]},null),(t()(),Js(0,null,null,0))],(function(t,e){var n=e.component,r=t(e,4,0,e.context.$implicit.isFinished,e.context.$implicit.isInWork,!e.context.$implicit.isAvailable&&!e.context.$implicit.isInWork&&!e.context.$implicit.isFinished);t(e,3,0,r),t(e,8,0,e.context.$implicit.other_req),t(e,10,0,!e.context.$implicit.isFinished),t(e,13,0,e.context.$implicit.skills),t(e,16,0,e.context.$implicit.dev_bonus);var i=t(e,20,0,(null==e.context.$implicit.dev_req?null:e.context.$implicit.dev_req.culture)&&e.context.$implicit.dev_req.culture>n.currentDevLvl.culture);t(e,19,0,i);var s=t(e,25,0,(null==e.context.$implicit.dev_req?null:e.context.$implicit.dev_req.warfare)&&e.context.$implicit.dev_req.warfare>n.currentDevLvl.warfare);t(e,24,0,s);var o=t(e,30,0,(null==e.context.$implicit.dev_req?null:e.context.$implicit.dev_req.technology)&&e.context.$implicit.dev_req.technology>n.currentDevLvl.technology);t(e,29,0,o);var a=t(e,35,0,(null==e.context.$implicit.dev_req?null:e.context.$implicit.dev_req.food_supply)&&e.context.$implicit.dev_req.food_supply>n.currentDevLvl.food_supply);t(e,34,0,a),t(e,38,0,n.openedProject===e.context.$implicit),t(e,40,0,n.openedProject===e.context.$implicit&&e.context.$implicit.other_req),t(e,42,0,n.openedProject===e.context.$implicit&&e.context.$implicit.special)}),(function(t,e){t(e,6,0,e.context.$implicit.name),t(e,21,0,null==e.context.$implicit.dev_req?null:e.context.$implicit.dev_req.culture),t(e,26,0,null==e.context.$implicit.dev_req?null:e.context.$implicit.dev_req.warfare),t(e,31,0,null==e.context.$implicit.dev_req?null:e.context.$implicit.dev_req.technology),t(e,36,0,null==e.context.$implicit.dev_req?null:e.context.$implicit.dev_req.food_supply)}))}function mp(t){return mo(0,[(t()(),to(0,0,null,null,40,"div",[["class","list"]],null,null,null,null,null)),(t()(),to(1,0,null,null,1,"div",[["class","btn btn-warning"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.filterProjectsList("ALL")&&r),r}),null,null)),(t()(),ho(-1,null,[" All items "])),(t()(),to(3,0,null,null,1,"div",[["class","btn btn-warning"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.filterProjectsList("COMPLETED")&&r),r}),null,null)),(t()(),ho(-1,null,[" Completed "])),(t()(),to(5,0,null,null,1,"div",[["class","btn btn-warning"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.filterProjectsList("NO_COMPLETED")&&r),r}),null,null)),(t()(),ho(-1,null,[" Without completed "])),(t()(),to(7,0,null,null,1,"div",[["class","btn btn-warning"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.filterProjectsList("AVAILABLE")&&r),r}),null,null)),(t()(),ho(-1,null,[" Available only "])),(t()(),to(9,0,null,null,1,"div",[["class","btn btn-warning"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.filterProjectsList("IN_PROGRESS")&&r),r}),null,null)),(t()(),ho(-1,null,[" In-progress only "])),(t()(),to(11,0,null,null,29,"table",[["class","table table-dark"]],null,null,null,null,null)),(t()(),to(12,0,null,null,26,"tr",[],null,null,null,null,null)),(t()(),to(13,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),ho(-1,null,["Project name"])),(t()(),to(15,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),ho(-1,null,["Skills"])),(t()(),to(17,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),ho(-1,null,["Profit"])),(t()(),to(19,0,null,null,4,"th",[["class","clickable"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.filterProjectsList("DEV_BONUS","culture")&&r),r}),null,null)),di(512,null,Va,Fa,[On,Pn,fn,yn]),fi(21,278528,null,0,Ua,[Va],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),co(22,{"text-warning":0}),(t()(),ho(23,null,[" Cult (",") "])),(t()(),to(24,0,null,null,4,"th",[["class","clickable"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.filterProjectsList("DEV_BONUS","warfare")&&r),r}),null,null)),di(512,null,Va,Fa,[On,Pn,fn,yn]),fi(26,278528,null,0,Ua,[Va],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),co(27,{"text-warning":0}),(t()(),ho(28,null,[" War (",") "])),(t()(),to(29,0,null,null,4,"th",[["class","clickable"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.filterProjectsList("DEV_BONUS","technology")&&r),r}),null,null)),di(512,null,Va,Fa,[On,Pn,fn,yn]),fi(31,278528,null,0,Ua,[Va],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),co(32,{"text-warning":0}),(t()(),ho(33,null,[" Tech (",") "])),(t()(),to(34,0,null,null,4,"th",[["class","clickable"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.filterProjectsList("DEV_BONUS","food_supply")&&r),r}),null,null)),di(512,null,Va,Fa,[On,Pn,fn,yn]),fi(36,278528,null,0,Ua,[Va],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),co(37,{"text-warning":0}),(t()(),ho(38,null,[" Food (",") "])),(t()(),Js(16777216,null,null,1,null,pp)),fi(40,278528,null,0,Ba,[Fn,Mn,On],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component,r=t(e,22,0,"culture"===n.filterDevBonus);t(e,21,0,"clickable",r);var i=t(e,27,0,"warfare"===n.filterDevBonus);t(e,26,0,"clickable",i);var s=t(e,32,0,"technology"===n.filterDevBonus);t(e,31,0,"clickable",s);var o=t(e,37,0,"food_supply"===n.filterDevBonus);t(e,36,0,"clickable",o),t(e,40,0,n.filteredProjectList)}),(function(t,e){var n=e.component;t(e,23,0,null==n.currentDevLvl?null:n.currentDevLvl.culture),t(e,28,0,null==n.currentDevLvl?null:n.currentDevLvl.warfare),t(e,33,0,null==n.currentDevLvl?null:n.currentDevLvl.technology),t(e,38,0,null==n.currentDevLvl?null:n.currentDevLvl.food_supply)}))}function gp(t){return mo(0,[(t()(),to(0,0,null,null,1,"app-projects-list",[],null,null,null,mp,ap)),fi(1,114688,null,0,fd,[op],null,null)],(function(t,e){t(e,1,0)}),null)}var yp=Br("app-projects-list",fd,gp,{},{},[]);class vp extends q{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let r=0;r<n;r++){const t=U(this,e[r],null,r);t&&this.add(t)}}notifyNext(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:r}=this,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()}}const _p=new xt("NgValueAccessor"),wp=new xt("CompositionEventMode");class bp{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Ku()?Ku().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class Ep{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Cp extends Ep{get formDirective(){return null}get path(){return null}}function Sp(){throw new Error("unimplemented")}class Tp extends Ep{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Sp()}get asyncValidator(){return Sp()}}class xp{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class Ip extends xp{constructor(t){super(t)}}class kp extends xp{constructor(t){super(t)}}function Ap(t){return null==t||0===t.length}const Np=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Op{static min(t){return e=>{if(Ap(e.value)||Ap(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ap(e.value)||Ap(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ap(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Ap(t.value)?null:Np.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Ap(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Op.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ap(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Pp);return 0==e.length?null:function(t){return Dp(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Pp);return 0==e.length?null:function(t){return function t(...e){let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&u(e[0])&&(e=e[0]),0===e.length?tu:n?t(e).pipe(B(t=>n(...t))):new b(t=>new vp(t,e))}(function(t,e){return e.map(e=>e(t))}(t,e).map(Rp)).pipe(B(Dp))}}}function Pp(t){return null!=t}function Rp(t){const e=Je(t)?G(t):t;if(!tn(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Dp(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function Lp(t){return t.validate?e=>t.validate(e):t}function Mp(t){return t.validate?e=>t.validate(e):t}class Vp{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}class Fp{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const jp={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class Up{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${jp.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${jp.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${jp.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${jp.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${jp.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${jp.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function qp(t,e){return[...e.path,t]}function Bp(t,e){t||Gp(e,"Cannot find control with"),e.valueAccessor||Gp(e,"No value accessor for form control with"),t.validator=Op.compose([t.validator,e.validator]),t.asyncValidator=Op.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&zp(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&zp(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function zp(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function $p(t,e){null==t&&Gp(e,"Cannot find control with"),t.validator=Op.compose([t.validator,e.validator]),t.asyncValidator=Op.composeAsync([t.asyncValidator,e.asyncValidator])}function Hp(t){return Gp(t,"There is no FormControl instance attached to form control element with")}function Gp(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Wp(t){return null!=t?Op.compose(t.map(Lp)):null}function Kp(t){return null!=t?Op.composeAsync(t.map(Mp)):null}const Qp=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},Vp,class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Ke}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Ke}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Tp),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}],Zp="VALID",Yp="INVALID",Xp="PENDING",Jp="DISABLED";function tm(t){const e=nm(t)?t.validators:t;return Array.isArray(e)?Wp(e):e||null}function em(t,e){const n=nm(e)?e.asyncValidators:t;return Array.isArray(n)?Kp(n):n||null}function nm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class rm{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===Zp}get invalid(){return this.status===Yp}get pending(){return this.status==Xp}get disabled(){return this.status===Jp}get enabled(){return this.status!==Jp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=tm(t)}setAsyncValidators(t){this.asyncValidator=em(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Xp,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Jp,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Zp,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Zp&&this.status!==Xp||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jp:Zp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Xp;const e=Rp(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof sm?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof om&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Mi,this.statusChanges=new Mi}_calculateStatus(){return this._allControlsDisabled()?Jp:this.errors?Yp:this._anyControlsHaveStatus(Xp)?Xp:this._anyControlsHaveStatus(Yp)?Yp:Zp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){nm(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class im extends rm{constructor(t=null,e,n){super(tm(e),em(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class sm extends rm{constructor(t,e,n){super(tm(e),em(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof im?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class om extends rm{constructor(t,e,n){super(tm(e),em(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof im?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}class am extends Cp{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return qp(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Wp(this._validators)}get asyncValidator(){return Kp(this._asyncValidators)}_checkParentType(){}}class um{}const lm=new xt("NgModelWithFormControlWarning");class cm extends Cp{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Mi}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Bp(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){!function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);$p(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);$p(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Hp(e)),e.valueAccessor.registerOnTouched(()=>Hp(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Bp(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Wp(this._validators);this.form.validator=Op.compose([this.form.validator,t]);const e=Kp(this._asyncValidators);this.form.asyncValidator=Op.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||Up.missingFormException()}}class hm extends am{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){dm(this._parent)&&Up.groupParentException()}}class fm extends Cp{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return qp(this.name,this._parent)}get validator(){return Wp(this._validators)}get asyncValidator(){return Kp(this._asyncValidators)}_checkParentType(){dm(this._parent)&&Up.arrayParentException()}}function dm(t){return!(t instanceof hm||t instanceof cm||t instanceof fm)}let pm=(()=>{class t extends Tp{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new Mi,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Gp(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{e.constructor===bp?n=e:function(t){return Qp.some(e=>t.constructor===e)}(e)?(r&&Gp(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Gp(t,"More than one custom value accessor matches form control with"),i=e)}),i||r||n||(Gp(t,"No valid value accessor for form control with"),null)}(this,r)}set isDisabled(t){Up.disabledAttrWarning()}ngOnChanges(e){var n,r,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Ke(e,n.currentValue)}(e,this.viewModel)&&(n=t,r=this,i=this._ngModelWarningConfig,re()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||r._ngModelWarningSent)||(Up.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,r._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return qp(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Wp(this._rawValidators)}get asyncValidator(){return Kp(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof hm)&&this._parent instanceof am?Up.ngModelGroupException():this._parent instanceof hm||this._parent instanceof cm||this._parent instanceof fm||Up.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t})();class mm{}class gm{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new sm(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new im(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new om(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof im||t instanceof sm||t instanceof om?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}class ym{static withConfig(t){return{ngModule:ym,providers:[{provide:lm,useValue:t.warnOnNgModelWithFormControl}]}}}class vm{constructor(t){this.formBuilder=t,this.rowsCoordsArray=Array(21).fill(0).map((t,e)=>String.fromCharCode(97+e)),this.colsCoordsArray=Array(30).fill(0).map((t,e)=>e+1),this.mapData=Array(630).fill({}),this.exploredSectors=cd,this.youAreHere=hd,this.sectorForm=this.formBuilder.group({col:"",row:"",rotLvl:"",comment:""})}ngOnInit(){this.fillMap()}fillMap(){this.exploredSectors.forEach(t=>{const e=this.convertCoordinatesToIndex(t.col,t.row);this.mapData[e]=t,this.youAreHere.find(e=>e.row===t.row&&e.col===t.col)&&(this.mapData[e].youAreHere=!0)})}convertCoordinatesToIndex(t,e){return 30*(e.toLowerCase().charCodeAt(0)-97)+t}convertIndexToCoordinates(t){return{row:String.fromCharCode(t/30+97),col:t%30+1}}}var _m=nr({encapsulation:0,styles:[[".wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:1502px;border:1px solid #b9b9b9}.sector[_ngcontent-%COMP%]{width:50px;height:50px;border:1px solid #b9b9b9}.rotOasis[_ngcontent-%COMP%]{background-color:#7ee283}.rotWeak[_ngcontent-%COMP%]{background-color:#e2e25f}.rotHeavy[_ngcontent-%COMP%]{background-color:#e28559}.rotHotspot[_ngcontent-%COMP%]{background-color:#e23a38}.playersSpot[_ngcontent-%COMP%]{display:inline-block;width:15px;height:15px;border-radius:50%;background-color:#ff5200}.add-data-wraper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:5px}"]],data:{}});function wm(t){return mo(0,[(t()(),to(0,0,null,null,0,"div",[["class","playersSpot"]],null,null,null,null,null))],null,null)}function bm(t){return mo(0,[(t()(),to(0,0,null,null,6,"div",[["class","sector"]],null,null,null,null,null)),di(512,null,Va,Fa,[On,Pn,fn,yn]),fi(2,278528,null,0,Ua,[Va],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),co(3,{rotOasis:0,rotWeak:1,rotHeavy:2,rotHotspot:3}),(t()(),ho(4,null,[" ",""," "])),(t()(),Js(16777216,null,null,1,null,wm)),fi(6,16384,null,0,$a,[Fn,Mn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=t(e,3,0,0===(null==e.context.$implicit?null:e.context.$implicit.rotLvl),1===(null==e.context.$implicit?null:e.context.$implicit.rotLvl),2===(null==e.context.$implicit?null:e.context.$implicit.rotLvl),3===(null==e.context.$implicit?null:e.context.$implicit.rotLvl));t(e,2,0,"sector",n),t(e,6,0,null==e.context.$implicit?null:e.context.$implicit.youAreHere)}),(function(t,e){t(e,4,0,null==e.context.$implicit?null:e.context.$implicit.row,null==e.context.$implicit?null:e.context.$implicit.col)}))}function Em(t){return mo(0,[(t()(),to(0,0,null,null,2,"div",[["class","wrapper"]],null,null,null,null,null)),(t()(),Js(16777216,null,null,1,null,bm)),fi(2,278528,null,0,Ba,[Fn,Mn,On],{ngForOf:[0,"ngForOf"]},null),(t()(),to(3,0,null,null,34,"div",[["class","add-data-wraper"]],null,null,null,null,null)),(t()(),to(4,0,null,null,33,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Jr(t,6).onSubmit(n)&&r),"reset"===e&&(r=!1!==Jr(t,6).onReset()&&r),r}),null,null)),fi(5,16384,null,0,um,[],null,null),fi(6,540672,null,0,cm,[[8,null],[8,null]],{form:[0,"form"]},null),di(2048,null,Cp,null,[cm]),fi(8,16384,null,0,kp,[[4,Cp]],null,null),(t()(),to(9,0,null,null,28,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),to(10,0,null,null,5,"input",[["class","form-control"],["formControlName","row"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,11)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,11).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,11)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,11)._compositionEnd(n.target.value)&&r),r}),null,null)),fi(11,16384,null,0,bp,[yn,fn,[2,wp]],null,null),di(1024,null,_p,(function(t){return[t]}),[bp]),fi(13,671744,null,0,pm,[[3,Cp],[8,null],[8,null],[6,_p],[2,lm]],{name:[0,"name"]},null),di(2048,null,Tp,null,[pm]),fi(15,16384,null,0,Ip,[[4,Tp]],null,null),(t()(),to(16,0,null,null,6,"input",[["class","form-control"],["formControlName","col"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,17)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,17).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,17)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,17)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,18).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Jr(t,18).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,18).onTouched()&&r),r}),null,null)),fi(17,16384,null,0,bp,[yn,fn,[2,wp]],null,null),fi(18,16384,null,0,Vp,[yn,fn],null,null),di(1024,null,_p,(function(t,e){return[t,e]}),[bp,Vp]),fi(20,671744,null,0,pm,[[3,Cp],[8,null],[8,null],[6,_p],[2,lm]],{name:[0,"name"]},null),di(2048,null,Tp,null,[pm]),fi(22,16384,null,0,Ip,[[4,Tp]],null,null),(t()(),to(23,0,null,null,6,"input",[["class","form-control"],["formControlName","rotLvl"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,24)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,24).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,24)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,24)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Jr(t,25).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Jr(t,25).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,25).onTouched()&&r),r}),null,null)),fi(24,16384,null,0,bp,[yn,fn,[2,wp]],null,null),fi(25,16384,null,0,Vp,[yn,fn],null,null),di(1024,null,_p,(function(t,e){return[t,e]}),[bp,Vp]),fi(27,671744,null,0,pm,[[3,Cp],[8,null],[8,null],[6,_p],[2,lm]],{name:[0,"name"]},null),di(2048,null,Tp,null,[pm]),fi(29,16384,null,0,Ip,[[4,Tp]],null,null),(t()(),to(30,0,null,null,5,"input",[["class","form-control"],["formControlName","comment"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Jr(t,31)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Jr(t,31).onTouched()&&r),"compositionstart"===e&&(r=!1!==Jr(t,31)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Jr(t,31)._compositionEnd(n.target.value)&&r),r}),null,null)),fi(31,16384,null,0,bp,[yn,fn,[2,wp]],null,null),di(1024,null,_p,(function(t){return[t]}),[bp]),fi(33,671744,null,0,pm,[[3,Cp],[8,null],[8,null],[6,_p],[2,lm]],{name:[0,"name"]},null),di(2048,null,Tp,null,[pm]),fi(35,16384,null,0,Ip,[[4,Tp]],null,null),(t()(),to(36,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],null,null,null,null,null)),(t()(),ho(-1,null,["Purchase"]))],(function(t,e){var n=e.component;t(e,2,0,n.mapData),t(e,6,0,n.sectorForm),t(e,13,0,"row"),t(e,20,0,"col"),t(e,27,0,"rotLvl"),t(e,33,0,"comment")}),(function(t,e){t(e,4,0,Jr(e,8).ngClassUntouched,Jr(e,8).ngClassTouched,Jr(e,8).ngClassPristine,Jr(e,8).ngClassDirty,Jr(e,8).ngClassValid,Jr(e,8).ngClassInvalid,Jr(e,8).ngClassPending),t(e,10,0,Jr(e,15).ngClassUntouched,Jr(e,15).ngClassTouched,Jr(e,15).ngClassPristine,Jr(e,15).ngClassDirty,Jr(e,15).ngClassValid,Jr(e,15).ngClassInvalid,Jr(e,15).ngClassPending),t(e,16,0,Jr(e,22).ngClassUntouched,Jr(e,22).ngClassTouched,Jr(e,22).ngClassPristine,Jr(e,22).ngClassDirty,Jr(e,22).ngClassValid,Jr(e,22).ngClassInvalid,Jr(e,22).ngClassPending),t(e,23,0,Jr(e,29).ngClassUntouched,Jr(e,29).ngClassTouched,Jr(e,29).ngClassPristine,Jr(e,29).ngClassDirty,Jr(e,29).ngClassValid,Jr(e,29).ngClassInvalid,Jr(e,29).ngClassPending),t(e,30,0,Jr(e,35).ngClassUntouched,Jr(e,35).ngClassTouched,Jr(e,35).ngClassPristine,Jr(e,35).ngClassDirty,Jr(e,35).ngClassValid,Jr(e,35).ngClassInvalid,Jr(e,35).ngClassPending)}))}function Cm(t){return mo(0,[(t()(),to(0,0,null,null,1,"app-zone-map",[],null,null,null,Em,_m)),fi(1,114688,null,0,vm,[gm],null,null)],(function(t,e){t(e,1,0)}),null)}var Sm=Br("app-zone-map",vm,Cm,{},{},[]);class Tm{constructor(t,e){this.open=t,this.close=e||t}isManual(){return"manual"===this.open||"manual"===this.close}}const xm={hover:["mouseover","mouseout"],focus:["focusin","focusout"]},Im="undefined"!=typeof window&&window||{};let km;"undefined"==typeof console||console;class Am{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}class Nm{constructor(t,e,n,r,i,s,o,a){this._viewContainerRef=t,this._renderer=e,this._elementRef=n,this._injector=r,this._componentFactoryResolver=i,this._ngZone=s,this._applicationRef=o,this._posService=a,this.onBeforeShow=new Mi,this.onShown=new Mi,this.onBeforeHide=new Mi,this.onHidden=new Mi,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const e=Me.create({providers:this._providers,parent:this._injector});this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof fn&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document&&(document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector)).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const t=this._componentRef.location.nativeElement;return t.parentNode.removeChild(t),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef.nativeElement;const e=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),n=this._listenOpts.show=e=>{t.show?t.show(e):this.show(e),e()};return this._unregisterListenersFn=function(t,e){const n=function(t,e=xm){const n=(t||"").trim();if(0===n.length)return[];const r=n.split(/\s+/).map(t=>t.split(":")).map(t=>{const n=e[t[0]]||t;return new Tm(n[0],n[1])}),i=r.filter(t=>t.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(e.triggers),r=e.target;if(1===n.length&&n[0].isManual())return Function.prototype;const i=[],s=[],o=()=>{s.forEach(t=>i.push(t())),s.length=0};return n.forEach(n=>{const a=n.open===n.close,u=a?e.toggle:e.show;a||s.push(()=>t.listen(r,n.close,e.hide)),i.push(t.listen(r,n.open,()=>u(o)))}),()=>{i.forEach(t=>t())}}(this._renderer,{target:t.target,triggers:t.triggers,show:n,hide:e,toggle:t=>{this.isShown?e():n(t)}}),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=null)}attachInline(t,e){return this._inlineViewRef=t.createEmbeddedView(e),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{this._globalListener=function(t,e){return e.outsideClick?t.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(e=>e.contains(t.target))||e.hide()}):Function.prototype}(this._renderer,{targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide()})})}var t;this._listenOpts.outsideEsc&&(this._globalListener=(t={targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide()}).outsideEsc?this._renderer.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(t=>t.contains(e.target))||t.hide()}):Function.prototype)}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)}_getContentRef(t,e,n){if(!t)return new Am([]);if(t instanceof Mn){if(this._viewContainerRef){const n=this._viewContainerRef.createEmbeddedView(t,e);return n.markForCheck(),new Am([n.rootNodes],n)}const n=t.createEmbeddedView({});return this._applicationRef.attachView(n),new Am([n.rootNodes],n)}if("function"==typeof t){const e=this._componentFactoryResolver.resolveComponentFactory(t),r=Me.create({providers:this._providers,parent:this._injector}),i=e.create(r);return Object.assign(i.instance,n),this._applicationRef.attachView(i.hostView),new Am([[i.location.nativeElement]],i.hostView,i)}return new Am([[this._renderer.createText(`${t}`)]])}}class Om{constructor(t,e,n,r,i){this._componentFactoryResolver=t,this._ngZone=e,this._injector=n,this._posService=r,this._applicationRef=i}createLoader(t,e,n){return new Nm(e,n,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}class Pm{}class Rm{}const Dm="*";function Lm(t,e=null){return{type:4,styles:e,timings:t}}function Mm(t,e=null){return{type:2,steps:t,options:e}}function Vm(t){return{type:6,styles:t,offset:null}}function Fm(t){Promise.resolve(null).then(t)}class jm{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Fm(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Um{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Fm(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const qm="!";function Bm(t,e,n,i){return r(n)&&(i=n,n=void 0),i?Bm(t,e,n).pipe(B(t=>u(t)?i(...t):i(t))):new b(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}class zm extends pd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}class $m extends gd{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Hm=new $m(zm);function Gm(t,e){if(1!==t.nodeType)return[];const n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function Wm(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function Km(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}const{overflow:e,overflowX:n,overflowY:r}=Gm(t);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(n))?t:Km(Wm(t))}const Qm="undefined"!=typeof window&&"undefined"!=typeof document,Zm=Qm&&!(!window.MSInputMethodContext||!document.documentMode),Ym=Qm&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function Xm(t){return 11===t?Zm:10===t?Ym:Zm||Ym}function Jm(t){if(!t)return document.documentElement;const e=Xm(10)?document.body:null;let n,r=t.offsetParent||null;for(;r===e&&t.nextElementSibling&&n!==t.nextElementSibling;)r=(n=t.nextElementSibling).offsetParent;const i=r&&r.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===Gm(r,"position")?Jm(r):r:n?n.ownerDocument.documentElement:document.documentElement}function tg(t){return null!==t.parentNode?tg(t.parentNode):t}function eg(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;const n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);const{commonAncestorContainer:o}=s;if(t!==o&&e!==o||r.contains(i))return function(t){const{nodeName:e}=t;return"BODY"!==e&&("HTML"===e||Jm(t.firstElementChild)===t)}(o)?o:Jm(o);const a=tg(t);return a.host?eg(a.host,e):eg(t,tg(e).host)}function ng(t,e){const n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t[`border${n}Width`])+parseFloat(t[`border${r}Width`])}function rg(t,e,n,r){return Math.max(e[`offset${t}`],e[`scroll${t}`],n[`client${t}`],n[`offset${t}`],n[`scroll${t}`],Xm(10)?parseInt(n[`offset${t}`],10)+parseInt(r[`margin${"Height"===t?"Top":"Left"}`],10)+parseInt(r[`margin${"Height"===t?"Bottom":"Right"}`],10):0)}function ig(t){const e=t.body,n=t.documentElement,r=Xm(10)&&getComputedStyle(n);return{height:rg("Height",e,n,r),width:rg("Width",e,n,r)}}function sg(t,e="top"){const n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){const e=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||e)[n]}return t[n]}function og(t){return Object.assign({},t,{right:t.left+t.width,bottom:t.top+t.height})}function ag(t){let e={};try{if(Xm(10)){e=t.getBoundingClientRect();const n=sg(t,"top"),r=sg(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(o){return}const n={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?ig(t.ownerDocument):{};let i=t.offsetWidth-(r.width||t.clientWidth||n.right-n.left),s=t.offsetHeight-(r.height||t.clientHeight||n.bottom-n.top);if(i||s){const e=Gm(t);i-=ng(e,"x"),s-=ng(e,"y"),n.width-=i,n.height-=s}return og(n)}function ug(t,e,n=!1){const r=Xm(10),i="HTML"===e.nodeName,s=ag(t),o=ag(e),a=Km(t),u=Gm(e),l=parseFloat(u.borderTopWidth),c=parseFloat(u.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));let h=og({top:s.top-o.top-l,left:s.left-o.left-c,width:s.width,height:s.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){const t=parseFloat(u.marginTop),e=parseFloat(u.marginLeft);h.top-=l-t,h.bottom-=l-t,h.left-=c-e,h.right-=c-e,h.marginTop=t,h.marginLeft=e}return(r&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(h=function(t,e,n=!1){const r=sg(e,"top"),i=sg(e,"left"),s=n?-1:1;return t.top+=r*s,t.bottom+=r*s,t.left+=i*s,t.right+=i*s,t}(h,e)),h}function lg(t){if(!t||!t.parentElement||Xm())return document.documentElement;let e=t.parentElement;for(;e&&"none"===Gm(e,"transform");)e=e.parentElement;return e||document.documentElement}function cg(t,e,n=0,r,i=!1){let s={top:0,left:0};const o=i?lg(t):eg(t,e);if("viewport"===r)s=function(t,e=!1){const n=t.ownerDocument.documentElement,r=ug(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:sg(n),a=e?0:sg(n,"left");return og({top:o-Number(r.top)+Number(r.marginTop),left:a-Number(r.left)+Number(r.marginLeft),width:i,height:s})}(o,i);else{let n;"scrollParent"===r?"BODY"===(n=Km(Wm(e))).nodeName&&(n=t.ownerDocument.documentElement):n="window"===r?t.ownerDocument.documentElement:r;const a=ug(n,o,i);if("HTML"!==n.nodeName||function t(e){const n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===Gm(e,"position")||t(Wm(e)))}(o))s=a;else{const{height:e,width:n}=ig(t.ownerDocument);s.top+=a.top-a.marginTop,s.bottom=Number(e)+Number(a.top),s.left+=a.left-a.marginLeft,s.right=Number(n)+Number(a.left)}}return s.left+=n,s.top+=n,s.right-=n,s.bottom-=n,s}function hg({width:t,height:e}){return t*e}function fg(t,e,n,r,i=["top","bottom","right","left"],s="viewport",o=0){if(-1===t.indexOf("auto"))return t;const a=cg(n,r,o,s),u={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(u).map(t=>Object.assign({key:t},u[t],{area:hg(u[t])})).sort((t,e)=>e.area-t.area);let c=l.filter(({width:t,height:e})=>t>=n.clientWidth&&e>=n.clientHeight);const h=(c=c.filter(t=>i.some(e=>e===t.key))).length>0?c[0].key:l[0].key,f=t.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${h}`),h+(f?`-${f}`:"")}function dg(t){const e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:Number(t.offsetWidth)+r,height:Number(t.offsetHeight)+n}}function pg(t,e,n=null){return ug(e,n?lg(t):eg(t,e),n)}function mg(t,e,n){const r=n.split(" ")[0],i=dg(t),s={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(r),a=o?"top":"left",u=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return s[a]=e[a]+e[l]/2-i[l]/2,s[u]=r===u?e[u]-i[c]:e[function(t){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,t=>e[t])}(u)],s}function gg(t,e){return t&&t.modifiers&&t.modifiers[e]&&t.modifiers[e].enabled}function yg(t,e,n){Object.keys(e).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}(e[r])&&(i="px"),n?n.setStyle(t,r,`${String(e[r])}${i}`):t.style[r]=String(e[r])+i})}function vg(t){let e=t.offsets.target;const n=t.instance.target.querySelector(".arrow");if(!n)return t;const r=-1!==["left","right"].indexOf(t.placement.split(" ")[0]),i=r?"height":"width",s=r?"Top":"Left",o=s.toLowerCase(),a=r?"left":"top",u=r?"bottom":"right",l=dg(n)[i],c=t.placement.split(" ")[1];t.offsets.host[u]-l<e[o]&&(e[o]-=e[o]-(t.offsets.host[u]-l)),Number(t.offsets.host[o])+Number(l)>e[u]&&(e[o]+=Number(t.offsets.host[o])+Number(l)-Number(e[u])),e=og(e);const h=Gm(t.instance.target),f=parseFloat(h[`margin${s}`]),d=parseFloat(h[`border${s}Width`]);let p;if(c){const e=parseFloat(h.borderRadius),n=Number(f+d+e);p=o===c?Number(t.offsets.host[o])+n:Number(t.offsets.host[o])+Number(t.offsets.host[i]-n)}else p=Number(t.offsets.host[o])+Number(t.offsets.host[i]/2-l/2);let m=p-e[o]-f-d;return m=Math.max(Math.min(e[i]-l,m),0),t.offsets.arrow={[o]:Math.round(m),[a]:""},t.instance.arrow=n,t}function _g(t){if(t.offsets.target=og(t.offsets.target),!gg(t.options,"flip"))return t.offsets.target=Object.assign({},t.offsets.target,mg(t.instance.target,t.offsets.host,t.placement)),t;const e=cg(t.instance.target,t.instance.host,0,"viewport",!1);let n=t.placement.split(" ")[0],r=t.placement.split(" ")[1]||"";const i=fg("auto",t.offsets.host,t.instance.target,t.instance.host,t.options.allowedPositions),s=[n,i];return s.forEach((i,o)=>{if(n!==i||s.length===o+1)return t;const a="left"===(n=t.placement.split(" ")[0])&&Math.floor(t.offsets.target.right)>Math.floor(t.offsets.host.left)||"right"===n&&Math.floor(t.offsets.target.left)<Math.floor(t.offsets.host.right)||"top"===n&&Math.floor(t.offsets.target.bottom)>Math.floor(t.offsets.host.top)||"bottom"===n&&Math.floor(t.offsets.target.top)<Math.floor(t.offsets.host.bottom),u=Math.floor(t.offsets.target.left)<Math.floor(e.left),l=Math.floor(t.offsets.target.right)>Math.floor(e.right),c=Math.floor(t.offsets.target.top)<Math.floor(e.top),h=Math.floor(t.offsets.target.bottom)>Math.floor(e.bottom),f="left"===n&&u||"right"===n&&l||"top"===n&&c||"bottom"===n&&h,d=-1!==["top","bottom"].indexOf(n),p=d&&"left"===r&&u||d&&"right"===r&&l||!d&&"left"===r&&c||!d&&"right"===r&&h;(a||f||p)&&((a||f)&&(n=s[o+1]),p&&(r=function(t){return"right"===t?"left":"left"===t?"right":t}(r)),t.placement=n+(r?` ${r}`:""),t.offsets.target=Object.assign({},t.offsets.target,mg(t.instance.target,t.offsets.host,t.placement)))}),t}function wg(t){if(!gg(t.options,"preventOverflow"))return t;const e="transform",n=t.instance.target.style,{top:r,left:i,[e]:s}=n;n.top="",n.left="",n[e]="";const o=cg(t.instance.target,t.instance.host,0,"scrollParent",!1);n.top=r,n.left=i,n[e]=s;const a={primary(e){let n=t.offsets.target[e];return t.offsets.target[e]<o[e]&&(n=Math.max(t.offsets.target[e],o[e])),{[e]:n}},secondary(e){const n="right"===e?"left":"top";let r=t.offsets.target[n];return t.offsets.target[e]>o[e]&&(r=Math.min(t.offsets.target[n],o[e]-("right"===e?t.offsets.target.width:t.offsets.target.height))),{[n]:r}}};let u;return["left","right","top","bottom"].forEach(e=>{u=-1!==["left","top"].indexOf(e)?"primary":"secondary",t.offsets.target=Object.assign({},t.offsets.target,a[u](e))}),t}function bg(t){const e=t.placement,n=e.split(" ")[0],r=e.split(" ")[1];if(r){const{host:e,target:i}=t.offsets,s=-1!==["bottom","top"].indexOf(n),o=s?"left":"top",a=s?"width":"height",u={start:{[o]:e[o]},end:{[o]:e[o]+e[a]-i[a]}};t.offsets.target=Object.assign({},i,{[o]:o===r?u.start[o]:u.end[o]})}return t}class Eg{position(t,e,n=!0){return this.offset(t,e,!1)}offset(t,e,n=!0){return pg(e,t)}positionElements(t,e,n,r,i){return[_g,bg,wg,vg].reduce((t,e)=>e(t),function(t,e,n,r){const i=pg(t,e);n.match(/^(auto)*\s*(left|right|top|bottom)*$/)||n.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\s*(start|end)*$/)||(n="auto");const s=!!n.match(/auto/g);let o=n.match(/auto\s(left|right|top|bottom)/)?n.split(" ")[1]||"auto":n;const a=o.match(/^(left|right|top|bottom)* ?(?!\1)(left|right|top|bottom)?/);return a&&(o=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto"),{options:r,instance:{target:t,host:e,arrow:null},offsets:{target:mg(t,i,o),host:i,arrow:null},positionFixed:!1,placement:o=fg(o,i,t,e,r?r.allowedPositions:void 0),placementAuto:s}}(e,t,n,i))}}const Cg=new Eg;class Sg{constructor(t,e,n){this.update$$=new I,this.positionElements=new Map,this.isDisabled=!1,function(t){return t===Qa}(n)&&t.runOutsideAngular(()=>{this.triggerEvent$=X(Bm(window,"scroll",{passive:!0}),Bm(window,"resize",{passive:!0}),ru(0,Hm),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(t=>{!function(t,e,n,r,i,s){const o=Cg.positionElements(t,e,n,r,i),a=function(t){return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(t.offsets.target.left),top:Math.round(t.offsets.target.top),bottom:Math.round(t.offsets.target.bottom),right:Math.floor(t.offsets.target.right)}}(o);yg(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&yg(o.instance.arrow,o.offsets.arrow,s),function(t,e){const n=t.instance.target;let r=n.className;t.placementAuto&&(-1!==(r=(r=(r=r.replace(/bs-popover-auto/g,`bs-popover-${t.placement}`)).replace(/bs-tooltip-auto/g,`bs-tooltip-${t.placement}`)).replace(/\sauto/g,` ${t.placement}`)).indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom/g,`${t.placement.split(" ")[0]}`),e?e.setAttribute(n,"class",r):n.className=r}(o,s)}(Tg(t.target),Tg(t.element),t.attachment,t.appendToBody,this.options,e.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(Tg(t.element),t)}calcPosition(){this.update$$.next()}deletePositionElement(t){this.positionElements.delete(Tg(t))}setOptions(t){this.options=t}}function Tg(t){return"string"==typeof t?document.querySelector(t):t instanceof fn?t.nativeElement:t}class xg{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1}}class Ig{constructor(){this.direction="down",this.isOpenChange=new Mi,this.isDisabledChange=new Mi,this.toggleClick=new Mi,this.dropdownMenu=new Promise(t=>{this.resolveDropdownMenu=t})}}const kg=[Vm({height:0,overflow:"hidden"}),Lm("220ms cubic-bezier(0, 0, 0.2, 1)",Vm({height:"*",overflow:"hidden"}))];class Ag{constructor(t,e,n,r,i){this._state=t,this.cd=e,this._renderer=n,this._element=r,this.isOpen=!1,this._factoryDropDownAnimation=i.build(kg),this._subscription=t.isOpenChange.subscribe(t=>{this.isOpen=t;const e=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),e&&!(void 0===Im||(void 0===Im.__theme?km?"bs3"===km:"bs3"===(km=function(){if("undefined"==typeof document)return null;const t=document.createElement("span");t.innerText="test bs version",document.body.appendChild(t),t.classList.add("d-none");const e=t.getBoundingClientRect();return document.body.removeChild(t),e&&0===e.top?"bs4":"bs3"}()):"bs4"!==Im.__theme))&&(this._renderer.addClass(e,"show"),e.classList.contains("dropdown-menu-right")&&(this._renderer.setStyle(e,"left","auto"),this._renderer.setStyle(e,"right","0")),"up"===this.direction&&(this._renderer.setStyle(e,"top","auto"),this._renderer.setStyle(e,"transform","translateY(-101%)"))),e&&this._state.isAnimated&&this._factoryDropDownAnimation.create(e).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(t){return this._element.nativeElement.contains(t)}ngOnDestroy(){this._subscription.unsubscribe()}}class Ng{static forRoot(t){return{ngModule:Ng,providers:[Om,Sg,Ig,{provide:xg,useValue:t||{autoClose:!0,insideClick:!1}}]}}}var Og=nr({encapsulation:2,styles:[],data:{}});function Pg(t){return mo(2,[(t()(),to(0,0,null,null,1,"div",[],[[2,"dropup",null],[2,"dropdown",null],[2,"show",null],[2,"open",null]],null,null,null,null)),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:null,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:0}}],null,(function(t,e){var n=e.component;t(e,0,0,"up"===n.direction,"down"===n.direction,n.isOpen,n.isOpen)}))}function Rg(t){return mo(0,[(t()(),to(0,0,null,null,1,"bs-dropdown-container",[["style","display:block;position: absolute;z-index: 1040"]],null,null,null,Pg,Og)),fi(1,180224,null,0,Ag,[Ig,Pe,yn,fn,Pm],null,null)],null,null)}var Dg=Br("bs-dropdown-container",Ag,Rg,{},{},["*"]),Lg=nr({encapsulation:0,styles:[[""]],data:{}});function Mg(t){return mo(0,[(t()(),to(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),fi(1,212992,null,0,Of,[Nf,Fn,un,[8,null],Pe],null,null)],(function(t,e){t(e,1,0)}),null)}function Vg(t){return mo(0,[(t()(),to(0,0,null,null,1,"app-root",[],null,null,null,Mg,Lg)),fi(1,49152,null,0,Ca,[],null,null)],null,null)}var Fg=Br("app-root",Ca,Vg,{},{},[]);function jg(){return"undefined"!=typeof process}function Ug(t){switch(t.length){case 0:return new jm;case 1:return t[0];default:return new Um(t)}}function qg(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case qm:a=i[n];break;case Dm:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}c[r]=a}),r||a.push(c),l=c,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Bg(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&zg(n,"start",t)));break;case"done":t.onDone(()=>r(n&&zg(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&zg(n,"destroy",t)))}}function zg(t,e,n){const r=n.totalTime,i=$g(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function $g(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Hg(t,e,n){let r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function Gg(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Wg=(t,e)=>!1,Kg=(t,e)=>!1,Qg=(t,e,n)=>[];const Zg=jg();(Zg||"undefined"!=typeof Element)&&(Wg=(t,e)=>t.contains(e),Kg=(()=>{if(Zg||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Kg}})(),Qg=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Yg=null,Xg=!1;function Jg(t){Yg||(Yg=("undefined"!=typeof document?document.body:null)||{},Xg=!!Yg.style&&"WebkitAppearance"in Yg.style);let e=!0;return Yg.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in Yg.style)&&Xg&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Yg.style),e}const ty=Kg,ey=Wg,ny=Qg;function ry(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}class iy{validateStyleProperty(t){return Jg(t)}matchesElement(t,e){return ty(t,e)}containsElement(t,e){return ey(t,e)}query(t,e,n){return ny(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new jm(n,r)}}let sy=(()=>{class t{}return t.NOOP=new iy,t})();const oy=1e3,ay="{{",uy="ng-enter",ly="ng-leave",cy="ng-trigger",hy=".ng-trigger",fy="ng-animating",dy=".ng-animating";function py(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:my(parseFloat(e[1]),e[2])}function my(t,e){switch(e){case"s":return t*oy;default:return t}}function gy(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=my(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=my(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function yy(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function vy(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else yy(t,n);return n}function _y(t,e,n){return n?e+":"+n+";":""}function wy(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=_y(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=_y(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function by(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Ay(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),jg()&&wy(t))}function Ey(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Ay(e);t.style[n]=""}),jg()&&wy(t))}function Cy(t){return Array.isArray(t)?1==t.length?t[0]:Mm(t):t}const Sy=new RegExp(`${ay}\\s*(.+?)\\s*}}`,"g");function Ty(t){let e=[];if("string"==typeof t){const n=t.toString();let r;for(;r=Sy.exec(n);)e.push(r[1]);Sy.lastIndex=0}return e}function xy(t,e,n){const r=t.toString(),i=r.replace(Sy,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Iy(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const ky=/-+([a-z0-9])/g;function Ay(t){return t.replace(ky,(...t)=>t[1].toUpperCase())}function Ny(t,e){return 0===t||0===e}function Oy(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=Ry(t,e)}))}}return e}function Py(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Ry(t,e){return window.getComputedStyle(t)[e]}const Dy="*";function Ly(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Fy(i,o)),"<"!=s[0]||i==Dy&&o==Dy||e.push(Fy(o,i))})(t,n,e)):n.push(t),n}const My=new Set(["true","1"]),Vy=new Set(["false","0"]);function Fy(t,e){const n=My.has(t)||Vy.has(t),r=My.has(e)||Vy.has(e);return(i,s)=>{let o=t==Dy||t==i,a=e==Dy||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?My.has(t):Vy.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?My.has(e):Vy.has(e)),o&&a}}const jy=":self",Uy=new RegExp(`s*${jy}s*,?`,"g");function qy(t,e,n){return new zy(t).build(e,n)}const By="";class zy{constructor(t){this._driver=t}build(t,e){const n=new $y(e);return this._resetContextStyleTimingState(n),Py(this,Cy(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=By,t.collectedStyles={},t.collectedStyles[By]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Hy(t)){const e=t;Object.keys(e).forEach(t=>{Ty(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Iy(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Py(this,Cy(t.animation),e);return{type:1,matchers:Ly(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Gy(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Py(this,t,e)),options:Gy(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Py(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Gy(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Wy(gy(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Wy(0,0,"");return t.dynamic=!0,t.strValue=r,t}return Wy((n=n||gy(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Vm({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Vm(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Dm?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Hy(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf(ay)>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Ty(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Hy(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Hy(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=u&&(r++,l=n.offset=u),o=o||l<0||l>1,s=s||l<a,a=l,i.push(l),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let c=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(l-1));const h=l-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=c>0?r==h?1:c*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Py(this,Cy(t.animation),e),options:Gy(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Gy(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Gy(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==jy);return e&&(t=t.replace(Uy,"")),[t=t.replace(/@\*/g,hy).replace(/@\w+/g,t=>hy+"-"+t.substr(1)).replace(/:animating/g,dy),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Hg(e.collectedStyles,e.currentQuerySelector,{});const o=Py(this,Cy(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Gy(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:gy(t.timings,e.errors,!0);return{type:12,animation:Py(this,Cy(t.animation),e),timings:n,options:null}}}class $y{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Hy(t){return!Array.isArray(t)&&"object"==typeof t}function Gy(t){var e;return t?(t=yy(t)).params&&(t.params=(e=t.params)?yy(e):null):t={},t}function Wy(t,e,n){return{duration:t,delay:e,easing:n}}function Ky(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Qy{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Zy=1,Yy=new RegExp(":enter","g"),Xy=new RegExp(":leave","g");function Jy(t,e,n,r,i,s={},o={},a,u,l=[]){return(new tv).buildKeyframes(t,e,n,r,i,s,o,a,u,l)}class tv{buildKeyframes(t,e,n,r,i,s,o,a,u,l=[]){u=u||new Qy;const c=new nv(t,e,u,r,i,l,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),Py(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Ky(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?py(n.duration):null,s=null!=n.delay?py(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Py(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&((r=e.createSubContext(i)).transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ev);const t=py(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Py(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?py(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Py(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return gy(e.params?xy(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?py(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ev);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Py(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const l=u.currentTime;Py(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const ev={};class nv{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ev,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new rv(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=py(n.duration)),null!=n.delay&&(r.delay=py(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=xy(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new nv(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=ev,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new iv(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Yy,"."+this._enterClassName)).replace(Xy,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class rv{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new rv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Zy,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Dm,this._currentKeyframe[t]=Dm}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e)).forEach(t=>{n[t]=Dm}):vy(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=xy(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Dm),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=vy(i,!0);Object.keys(o).forEach(n=>{const r=o[n];r==qm?t.add(n):r==Dm&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Iy(t.values()):[],s=e.size?Iy(e.values()):[];if(n){const t=r[0],e=yy(t);t.offset=0,e.offset=1,r=[t,e]}return Ky(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class iv extends rv{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=vy(t[0],!1);a.offset=0,i.push(a);const u=vy(t[0],!1);u.offset=sv(o),i.push(u);const l=t.length-1;for(let r=1;r<=l;r++){let o=vy(t[r],!1);o.offset=sv((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Ky(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function sv(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ov{}class av extends ov{normalizePropertyName(t,e){return Ay(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(uv[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const uv=(()=>(function(t){const e={};return t.forEach(t=>e[t]=!0),e})("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function lv(t,e,n,r,i,s,o,a,u,l,c,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:f}}const cv={};class hv{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,l){const c=[],h=this.ast.options&&this.ast.options.params||cv,f=this.buildStyles(n,o&&o.params||cv,c),d=a&&a.params||cv,p=this.buildStyles(r,d,c),m=new Set,g=new Map,y=new Map,v="void"===r,_={params:Object.assign({},h,d)},w=l?[]:Jy(t,e,this.ast.animation,i,s,f,p,_,u,c);let b=0;if(w.forEach(t=>{b=Math.max(t.duration+t.delay,b)}),c.length)return lv(e,this._triggerName,n,r,v,f,p,[],[],g,y,b,c);w.forEach(t=>{const n=t.element,r=Hg(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Hg(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=Iy(m.values());return lv(e,this._triggerName,n,r,v,f,p,w,E,g,y,b)}}class fv{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=yy(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=xy(s,r,e)),n[t]=s})}}),n}}class dv{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new fv(t.style,t.options&&t.options.params||{})}),pv(this.states,"true","1"),pv(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new hv(t,e,this.states))}),this.fallbackTransition=new hv(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function pv(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const mv=new Qy;class gv{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=qy(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=qg(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Jy(this._driver,e,i,uy,ly,{},{},n,mv,r)).forEach(t=>{const e=Hg(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)}):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Dm)})});const a=Ug(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=$g(e,"","","");return Bg(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const yv="ng-animate-queued",vv=".ng-animate-queued",_v="ng-animate-disabled",wv=".ng-animate-disabled",bv="ng-star-inserted",Ev=".ng-star-inserted",Cv=[],Sv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Tv={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xv="__ng_removed";class Iv{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=yy(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const kv="void",Av=new Iv(kv);class Nv{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Fv(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Hg(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Hg(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Fv(t,cy),Fv(t,cy+"-"+e),a[e]=Av),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Pv(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Fv(t,cy),Fv(t,cy+"-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Iv(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Av),u.value!==kv&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Ey(t,n),by(t,r)})}return}const l=Hg(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Fv(t,yv),s.onStart(()=>{jv(t,yv)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),l.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,hy,!0).forEach(t=>{if(t[xv])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,kv,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Ug(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Av,o=new Iv(kv),a=new Pv(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}this.prepareLeaveAnimationListeners(t),r?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){Fv(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=$g(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Bg(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(e=>e.element===t)||e}}class Ov{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Nv(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Rv(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Rv(e))return;const i=e[xv];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fv(t,_v)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),jv(t,_v))}removeNode(t,e,n,r){if(Rv(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e[xv]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Rv(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,hy,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,dy,!0)).forEach(t=>this.finishActiveQueriedAnimationOnElement(t))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ug(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[xv];if(e&&e.setForRemoval){if(t[xv]=Sv,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,wv)&&this.markElementAsDisabled(t,!1),this.driver.query(t,wv,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Fv(this.collectedEnterElements[n],bv);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Ug(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Qy,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,vv,!0);for(let n=0;n<e.length;n++)l.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Mv(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=uy+p++;d.set(e,n),t.forEach(t=>Fv(t,n))});const m=[],g=new Set,y=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){const t=this.collectedLeaveElements[N],e=t[xv];e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,Ev,!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,_=Mv(h,Array.from(g));_.forEach((t,e)=>{const n=ly+p++;v.set(e,n),t.forEach(t=>Fv(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>jv(t,n))}),_.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>jv(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const w=[],b=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i[xv];if(t&&t.setForMove)return void e.destroy()}const l=!c||!this.driver.containsElement(c,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,l);if(!p.errors||!p.errors.length)return l?(e.onStart(()=>Ey(i,p.fromStyles)),e.onDestroy(()=>by(i,p.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>Ey(i,p.fromStyles)),e.onDestroy(()=>by(i,p.toStyles)),void r.push(e)):(p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Hg(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))}));b.push(p)});if(b.length){const t=[];b.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Hg(E,e,[]).push(t),t.destroy()})});const S=m.filter(t=>qv(t,a,u)),T=new Map;Lv(T,this.driver,y,u,Dm).forEach(t=>{qv(t,a,u)&&S.push(t)});const x=new Map;f.forEach((t,e)=>{Lv(x,this.driver,new Set(t),a,qm)}),S.forEach(t=>{const e=T.get(t),n=x.get(t);T.set(t,Object.assign({},e,n))});const I=[],k=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(l.has(e))return s.onDestroy(()=>by(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,x,T);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Ug(e)),r.push(s)}}else Ey(e,o.fromStyles),s.onDestroy(()=>by(e,o.toStyles)),k.push(s),l.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Ug(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let N=0;N<m.length;N++){const t=m[N],e=t[xv];if(jv(t,ly),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,dy,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Uv(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e[xv];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==kv;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Hg(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Ey(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],l=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const f=h[xv];if(f&&f.removedBeforeQueried)return new jm(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Um?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||Cv).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=qg(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&c.add(h),d){const e=new Pv(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{Hg(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e)){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r})(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>Fv(t,fy));const f=Ug(h);return f.onDestroy(()=>{l.forEach(t=>jv(t,fy)),by(a,e.toStyles)}),c.forEach(t=>{Hg(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new jm(t.duration,t.delay)}}class Pv{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new jm,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Bg(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Hg(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Rv(t){return t&&1===t.nodeType}function Dv(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Lv(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Dv(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[xv]=Tv,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Dv(t,s[a++])),o}function Mv(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}const Vv="$$classes";function Fv(t,e){if(t.classList)t.classList.add(e);else{let n=t[Vv];n||(n=t[Vv]={}),n[e]=!0}}function jv(t,e){if(t.classList)t.classList.remove(e);else{let n=t[Vv];n&&delete n[e]}}function Uv(t,e,n){Ug(n).onDone(()=>t.processLeaveNode(e))}function qv(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Bv{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Ov(t,e,n),this._timelineEngine=new gv(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=qy(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new dv(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Gg(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Gg(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function zv(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Hv(e[0]),e.length>1&&(r=Hv(e[e.length-1]))):e&&(n=Hv(e)),n||r?new $v(t,n,r):null}let $v=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&by(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(by(this._element,this._initialStyles),this._endStyles&&(by(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ey(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ey(this._element,this._endStyles),this._endStyles=null),by(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Hv(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Gv(i)&&((e=e||{})[i]=t[i])}return e}function Gv(t){return"display"===t||"position"===t}const Wv=3,Kv="animation",Qv="animationend",Zv=1e3;class Yv{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=r_(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),n_(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),e_(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Xv(this._element,this._name,"paused")}resume(){Xv(this._element,this._name,"running")}setPosition(t){const e=Jv(this._element,this._name);this._position=t*this._duration,n_(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(Wv))*Zv;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),e_(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=r_(t,"").split(","),r=t_(n,e);r>=0&&(n.splice(r,1),n_(t,"",n.join(",")))}(this._element,this._name))}}function Xv(t,e,n){n_(t,"PlayState",n,Jv(t,e))}function Jv(t,e){const n=r_(t,"");return n.indexOf(",")>0?t_(n.split(","),e):t_([n],e)}function t_(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function e_(t,e,n){n?t.removeEventListener(Qv,e):t.addEventListener(Qv,e)}function n_(t,e,n,r){const i=Kv+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function r_(t,e){return t.style[Kv+e]}const i_="forwards",s_="linear";class o_{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||s_,this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Yv(this.element,this.animationName,this._duration,this._delay,this.easing,i_,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Ry(this.element,n))})}this.currentSnapshot=t}}class a_ extends jm{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=ry(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const u_="gen_css_kf_",l_=" ";class c_{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Jg(t)}matchesElement(t,e){return ty(t,e)}containsElement(t,e){return ey(t,e)}query(t,e,n){return ny(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>ry(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=l_;const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=l_,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof o_),u={};Ny(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Oy(t,e,u));if(0==n)return new a_(t,l);const c=`${u_}${this._count++}`,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const f=zv(t,e),d=new o_(t,e,c,n,r,i,l,f);return d.onDestroy(()=>(function(t){t.parentNode.removeChild(t)})(h)),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class h_{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ry(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class f_{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(d_().toString()),this._cssKeyframesDriver=new c_}validateStyleProperty(t){return Jg(t)}matchesElement(t,e){return ty(t,e)}containsElement(t,e){return ey(t,e)}query(t,e,n){return ny(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},l=s.filter(t=>t instanceof h_);Ny(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=zv(t,e=Oy(t,e=e.map(t=>vy(t,!1)),u));return new h_(t,e,a,c)}}function d_(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class p_ extends Pm{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Gt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Mm(t):t;return y_(this._renderer,null,e,"register",[n]),new m_(e,this._renderer)}}class m_ extends Rm{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new g_(this._id,t,e||{},this._renderer)}}class g_{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return y_(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function y_(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const v_="@",__="@.disabled";class w_{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new b_("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(i,t),e.data.animation.forEach(e=>this.engine.registerTrigger(r,i,t,e.name,e)),new E_(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class b_{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==v_&&e==__?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class E_ extends b_{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==v_?"."==e.charAt(1)&&e==__?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==v_){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=v_&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class C_ extends Bv{constructor(t,e,n){super(t.body,e,n)}}function S_(){return"function"==typeof d_()?new f_:new c_}function T_(){return new av}function x_(t,e,n){return new w_(t,e,n)}const I_=new xt("AnimationModuleType");class k_{}class A_{}class N_{}var O_=wa(Ea,[Ca],(function(t){return function(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const s=t[i];s.token===De&&!0===s.value&&(r=!0),1073741824&s.flags&&n.push(s.token),s.index=i,e[Jn(s.token)]=s}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([Lr(512,un,ln,[[8,[nd,yp,Sm,Dg,Fg]],[3,un],Bt]),Lr(4608,gm,gm,[]),Lr(4608,Fp,Fp,[]),Lr(5120,Ki,Zs,[[3,Ki]]),Lr(4608,La,Ma,[Ki,[2,Da]]),Lr(5120,ki,Ys,[fs]),Lr(5120,qi,Bi,[]),Lr(5120,On,Ks,[]),Lr(5120,Pn,Qs,[]),Lr(4608,Yl,Xl,[Ka]),Lr(6144,xe,null,[Yl]),Lr(4608,$l,Gl,[]),Lr(5120,fl,(function(t,e,n,r,i,s,o,a){return[new Bl(t,e,n),new Zl(r),new Wl(i,s,o,a)]}),[Ka,fs,Hi,Ka,Ka,$l,Wi,[2,Hl]]),Lr(4608,dl,dl,[fl,fs]),Lr(135680,gl,gl,[Ka]),Lr(4608,Cl,Cl,[dl,gl,qi]),Lr(5120,sy,S_,[]),Lr(5120,ov,T_,[]),Lr(4608,Bv,C_,[Ka,sy,ov]),Lr(5120,mn,x_,[Cl,Bv,fs]),Lr(6144,ml,null,[gl]),Lr(4608,_s,_s,[fs]),Lr(4608,Pm,p_,[mn,Ka]),Lr(5120,gh,Kf,[kf]),Lr(4608,Lf,Lf,[]),Lr(6144,Rf,null,[Lf]),Lr(135680,Mf,Mf,[kf,Ds,es,Me,Rf]),Lr(4608,Df,Df,[]),Lr(5120,Vf,zf,[kf,Xa,Ff]),Lr(5120,Xf,Yf,[Qf]),Lr(5120,Gi,(function(t){return[t]}),[Xf]),Lr(5120,qd,zd,[jd,fs,[2,Ud]]),Lr(4608,ip,ip,[jd,[2,Ud],[2,tp],[2,np],Hi,fs,[2,ep]]),Lr(4608,Sg,Sg,[fs,mn,Hi]),Lr(4608,Om,Om,[un,fs,Me,Sg,Ps]),Lr(4608,Ig,Ig,[]),Lr(1073742336,mm,mm,[]),Lr(1073742336,ym,ym,[]),Lr(1073742336,Wa,Wa,[]),Lr(1024,te,oc,[]),Lr(1024,Is,(function(){return[qf()]}),[]),Lr(512,Qf,Qf,[Me]),Lr(1024,ji,(function(t,e){return[(n=t,ll("probe",hl),ll("coreTokens",Object.assign({},cl,(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>hl),Zf(e)];var n}),[[2,Is],Qf]),Lr(512,Ui,Ui,[[2,ji]]),Lr(131584,Ps,Ps,[fs,Wi,Me,te,un,Ui]),Lr(1073742336,Xs,Xs,[Ps]),Lr(1073742336,ac,ac,[[3,ac]]),Lr(1073742336,k_,k_,[]),Lr(1024,jf,Hf,[[3,kf]]),Lr(512,Kc,Qc,[]),Lr(512,Nf,Nf,[]),Lr(256,Ff,{},[]),Lr(1024,xa,$f,[Sa,[2,Ia],Ff]),Lr(512,ka,ka,[xa,Sa]),Lr(512,es,es,[]),Lr(512,Ds,js,[es,[2,Vs]]),Lr(1024,bf,(function(){return[[{path:"",component:fd,pathMatch:"full"},{path:"map",component:vm,pathMatch:"full"}]]}),[]),Lr(1024,kf,Wf,[Ps,Kc,Nf,ka,Me,Ds,es,bf,Ff,[2,Cf],[2,_f]]),Lr(1073742336,Bf,Bf,[[2,jf],[2,kf]]),Lr(1073742336,A_,A_,[]),Lr(1073742336,N_,N_,[]),Lr(1073742336,$d,$d,[Hi]),Lr(1073742336,sp,sp,[]),Lr(1073742336,Ng,Ng,[]),Lr(1073742336,Ea,Ea,[]),Lr(256,De,!0,[]),Lr(256,I_,"BrowserAnimations",[]),Lr(256,jd,{apiKey:"AIzaSyDu_DzZv2TssLX7LtCekz_CeC8XxSC0aag",authDomain:"myz-projects-base.firebaseapp.com",databaseURL:"https://myz-projects-base.firebaseio.com",projectId:"myz-projects-base",storageBucket:"myz-projects-base.appspot.com",messagingSenderId:"32810322105",appId:"1:32810322105:web:23139ec8cc6c38a40c3368"},[]),Lr(256,Ud,void 0,[]),Lr(256,xg,{autoClose:!0,insideClick:!1},[])])}));(function(){if(ne)throw new Error("Cannot enable prod mode after platform setup.");ee=!1})(),sc().bootstrapModuleFactory(O_).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);