function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _construct(e,t,n){return(_construct=isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(e,t,n){"use strict";var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e}var s=n("qOnz");n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l}));var a=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),u=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new s.a;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r({identifier:"[DEFAULT]",optional:!1},e),n=t.optional,i=this.normalizeInstanceIdentifier(t.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var s=i(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService(u);a.resolve(l)}catch(c){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return e=this,n=function(){var e;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(o(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})),e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))))];case 1:return t.sent(),[2]}}))},new((t=void 0)||(t=Promise))((function(r,i){function o(e){try{a(n.next(e))}catch(t){i(t)}}function s(e){try{a(n.throw(e))}catch(t){i(t)}}function a(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}a((n=n.apply(e,[])).next())}));var e,t,n},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return"[DEFAULT]"===e?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}(),l=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new u(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},0:function(e,t,n){e.exports=n("zUnb")},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d}));var o=[],s=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,l=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),c=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),s=l[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in s))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],e)),this._logHandler.apply(this,r([this,s.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],e)),this._logHandler.apply(this,r([this,s.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],e)),this._logHandler.apply(this,r([this,s.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],e)),this._logHandler.apply(this,r([this,s.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],e)),this._logHandler.apply(this,r([this,s.ERROR],e))},e}();function f(e){o.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:s[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(e,t,n){"use strict";var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e){return o(void 0,e)}function o(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=o(e[n],t[n]));return e}n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return l})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return v}));var s=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function l(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function c(){return"object"==typeof self&&self.self===self}function h(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var e=a();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function v(){return a().indexOf("MSAppHost/")>=0}var y="FirebaseError",g=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=y,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,m.prototype.create),o}return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),m=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?_(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new g(i,a,r);return u},e}();function _(e,t){return e.replace(b,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function w(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function k(e,t){var n=new C(e,t);return n.subscribe.bind(n)}var C=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function E(){}},xsWp:function(e,t,n){"use strict";n.r(t);var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function a(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var u=n("zIRd"),l=n("q/0M"),c=n("qOnz"),h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var d,p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},v=v||{},y=p||self;function g(){}function m(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function _(e){var t=m(e);return"array"==t||"object"==t&&"number"==typeof e.length}function b(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var w="closure_uid_"+(1e9*Math.random()>>>0),k=0;function C(e,t,n){return e.call.apply(e.bind,arguments)}function E(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function S(e,t,n){return(S=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?C:E).apply(null,arguments)}function T(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var I=Date.now;function x(e,t){function n(){}n.prototype=t.prototype,e.S=t.prototype,e.prototype=new n,e.prototype.constructor=e}function A(){this.j=this.j,this.i=this.i}A.prototype.j=!1,A.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,w)&&e[w]||(e[w]=++k)}(this)},A.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var O=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},P=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function N(e){return Array.prototype.concat.apply([],arguments)}function R(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function D(e){return/^[\s\xa0]*$/.test(e)}var L,M=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function V(e,t){return-1!=e.indexOf(t)}function F(e,t){return e<t?-1:e>t?1:0}e:{var j=y.navigator;if(j){var U=j.userAgent;if(U){L=U;break e}}L=""}function q(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function B(e){var t={};for(var n in e)t[n]=e[n];return t}var z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<z.length;o++)n=z[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function G(e){return G[" "](e),e}G[" "]=g;var W,K,Q=V(L,"Opera"),Z=V(L,"Trident")||V(L,"MSIE"),$=V(L,"Edge"),Y=$||Z,X=V(L,"Gecko")&&!(V(L.toLowerCase(),"webkit")&&!V(L,"Edge"))&&!(V(L,"Trident")||V(L,"MSIE"))&&!V(L,"Edge"),J=V(L.toLowerCase(),"webkit")&&!V(L,"Edge");function ee(){var e=y.document;return e?e.documentMode:void 0}e:{var te="",ne=(K=L,X?/rv:([^\);]+)(\)|;)/.exec(K):$?/Edge\/([\d\.]+)/.exec(K):Z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(K):J?/WebKit\/(\S+)/.exec(K):Q?/(?:Version)[ \/]?(\S+)/.exec(K):void 0);if(ne&&(te=ne?ne[1]:""),Z){var re=ee();if(null!=re&&re>parseFloat(te)){W=String(re);break e}}W=te}var ie={};function oe(e){return function(e,t){var n=ie;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=M(String(W)).split("."),r=M(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=F(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||F(0==s[2].length,0==a[2].length)||F(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t}))}var se=y.document&&Z&&(ee()||parseInt(W,10))||void 0,ae=!Z||9<=Number(se),ue=Z&&!oe("9"),le=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{y.addEventListener("test",g,t),y.removeEventListener("test",g,t)}catch(n){}return e}();function ce(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function he(e,t){if(ce.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(X){e:{try{G(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:fe[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}ce.prototype.b=function(){this.defaultPrevented=!0},x(he,ce);var fe={2:"touch",3:"pen",4:"mouse"};he.prototype.b=function(){he.S.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ue)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(cr){}};var de="closure_listenable_"+(1e6*Math.random()|0),pe=0;function ve(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++pe,this.Y=this.Z=!1}function ye(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function ge(e){this.src=e,this.a={},this.b=0}function me(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=O(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ye(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function _e(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}ge.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var s=_e(e,t,r,i);return-1<s?(t=e[s],n||(t.Z=!1)):((t=new ve(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var be="closure_lm_"+(1e6*Math.random()|0),we={};function ke(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);return null}return r=Oe(r),t&&t[de]?t.wa(n,r,b(i)?!!i.capture:!!i,o):Ce(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ke(e,t[o],n,r,i);return null}return n=Oe(n),e&&e[de]?e.va(t,n,b(r)?!!r.capture:!!r,i):Ce(e,t,n,!1,r,i)}function Ce(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=b(i)?!!i.capture:!!i;if(s&&!ae)return null;var a=xe(e);if(a||(e[be]=a=new ge(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=Ie,t=ae?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)le||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Se(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ee(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[de])me(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Se(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xe(t))?(me(n,e),0==n.b&&(n.src=null,t[be]=null)):ye(e)}}}function Se(e){return e in we?we[e]:we[e]="on"+e}function Te(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&Ee(e),n.call(r,t)}function Ie(e,t){if(e.Y)return!0;if(!ae){if(!t)e:{t=["window","event"];for(var n=y,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return Te(e,t=new he(t,this))}return Te(e,new he(t,this))}function xe(e){return(e=e[be])instanceof ge?e:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(e){return"function"==m(e)?e:(e[Ae]||(e[Ae]=function(t){return e.handleEvent(t)}),e[Ae])}function Pe(){A.call(this),this.c=new ge(this),this.J=this,this.C=null}function Ne(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&me(e.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}x(Pe,A),Pe.prototype[de]=!0,(d=Pe.prototype).addEventListener=function(e,t,n,r){ke(this,e,t,n,r)},d.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);else i=b(i)?!!i.capture:!!i,r=Oe(r),t&&t[de]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=_e(s=t.a[n],r,i,o))&&(ye(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.a[n],t.b--))):t&&(t=xe(t))&&(n=t.a[n.toString()],t=-1,n&&(t=_e(n,r,i,o)),(r=-1<t?n[t]:null)&&Ee(r))}(this,e,t,n,r)},d.dispatchEvent=function(e){var t,n=this.C;if(n)for(t=[];n;n=n.C)t.push(n);n=this.J;var r=e.type||e;if("string"==typeof e)e=new ce(e,n);else if(e instanceof ce)e.target=e.target||n;else{var i=e;H(e=new ce(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.a=t[o];i=Ne(s,r,!0,e)&&i}if(i=Ne(s=e.a=n,r,!0,e)&&i,i=Ne(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Ne(s=e.a=t[o],r,!1,e)&&i;return i},d.G=function(){if(Pe.S.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ye(n[r]);delete t.a[e],t.b--}}this.C=null},d.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},d.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Re=y.JSON.stringify;function De(){this.b=this.a=null}var Le,Me=new(function(){function e(e,t,n){this.f=n,this.c=e,this.g=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,this.a=(e=this.a).next,e.next=null):e=this.c(),e},e}())((function(){return new Fe}),(function(e){e.reset()}),100);function Ve(){var e=Be,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Fe(){this.next=this.b=this.a=null}function je(e){y.setTimeout((function(){throw e}),0)}function Ue(e,t){Le||function(){var e=y.Promise.resolve(void 0);Le=function(){e.then(ze)}}(),qe||(Le(),qe=!0),Be.add(e,t)}De.prototype.add=function(e,t){var n=Me.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Fe.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Fe.prototype.reset=function(){this.next=this.b=this.a=null};var qe=!1,Be=new De;function ze(){for(var e;e=Ve();){try{e.a.call(e.b)}catch(n){je(n)}var t=Me;t.g(e),t.b<t.f&&(t.b++,e.next=t.a,t.a=e)}qe=!1}function He(e,t){Pe.call(this),this.b=e||1,this.a=t||y,this.f=S(this.Ya,this),this.g=I()}function Ge(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function We(e,t,n){if("function"==m(e))n&&(e=S(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=S(e.handleEvent,e)}return 2147483647<Number(t)?-1:y.setTimeout(e,t||0)}function Ke(e){e.a=We((function(){e.a=null,e.c&&(e.c=!1,Ke(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}x(He,Pe),(d=He.prototype).aa=!1,d.M=null,d.Ya=function(){if(this.aa){var e=I()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ge(this),this.start()))}},d.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=I())},d.G=function(){He.S.G.call(this),Ge(this),delete this.a};var Qe=function(e){function t(t,n,r){var i=e.call(this)||this;return i.g=null!=r?t.bind(r):t,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(e,t){function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:Ke(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(y.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(A);function Ze(e){A.call(this),this.b=e,this.a={}}x(Ze,A);var $e=[];function Ye(e,t,n,r){Array.isArray(n)||(n&&($e[0]=n.toString()),n=$e);for(var i=0;i<n.length;i++){var o=ke(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Xe(e){q(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Ee(e)}),e),e.a={}}function Je(){this.a=!0}function et(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Re(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Ze.prototype.G=function(){Ze.S.G.call(this),Xe(this)},Ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Je.prototype.info=function(){};var tt=null;function nt(){return tt=tt||new Pe}function rt(e){ce.call(this,"serverreachability",e)}function it(e){var t=nt();t.dispatchEvent(new rt(t,e))}function ot(e){ce.call(this,"statevent",e)}function st(e){var t=nt();t.dispatchEvent(new ot(t,e))}function at(e){ce.call(this,"timingevent",e)}function ut(e,t){if("function"!=m(e))throw Error("Fn must not be null and must be a function");return y.setTimeout((function(){e()}),t)}x(rt,ce),x(ot,ce),x(at,ce);var lt={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ct={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ht(){}function ft(){}ht.prototype.a=null;var dt,pt={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function vt(){ce.call(this,"d")}function yt(){ce.call(this,"c")}function gt(){}function mt(e,t,n,r){this.g=e,this.c=t,this.f=n,this.T=r||1,this.J=new Ze(this),this.P=_t,this.R=new He(e=Y?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}x(vt,ce),x(yt,ce),x(gt,ht),dt=new gt;var _t=45e3,bt={},wt={};function kt(e,t,n){e.H=1,e.i=Ht(Ft(t)),e.j=n,e.I=!0,Ct(e,null)}function Ct(e,t){e.u=I(),Tt(e),e.l=Ft(e.i);var n=e.l,r=e.T;Array.isArray(r)||(r=[String(r)]),rn(n.b,"t",r),e.D=0,e.a=Xn(e.g,e.g.C?t:null),0<e.O&&(e.F=new Qe(S(e.Ca,e,e.a),e.O)),Ye(e.J,e.a,"readystatechange",e.Wa),t=e.B?B(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),it(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+l+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.c,e.m,e.l,e.f,e.T,e.j)}function Et(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=St(e,n);if(i==wt){4==t&&(e.h=4,st(14),r=!1),et(e.c,e.f,null,"[Incomplete Response]");break}if(i==bt){e.h=4,st(15),et(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}et(e.c,e.f,i,null),Pt(e,i)}4==t&&0==n.length&&(e.h=1,st(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.W&&(e.W=!0,(t=e.g).a==e&&t.V&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hn(t),t.F=!0)):(et(e.c,e.f,n,"[Invalid Chunked Response]"),Ot(e),At(e))}function St(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?wt:(n=Number(t.substring(n,r)),isNaN(n)?bt:(r+=1)+n>t.length?wt:(t=t.substr(r,n),e.D=r+n,t))}function Tt(e){e.U=I()+e.P,It(e,e.P)}function It(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=ut(S(e.Ua,e),t)}function xt(e){e.o&&(y.clearTimeout(e.o),e.o=null)}function At(e){0==e.g.v||e.A||Kn(e.g,e)}function Ot(e){xt(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Ge(e.R),Xe(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Pt(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||hn(n.b,e)))if(n.I=e.N,!e.C&&hn(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(Qf){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Wn(n),Ln(n)}zn(n),st(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ut(S(n.Ra,n),6e3));if(1>=cn(n.b)&&n.ea){try{n.ea()}catch(Qf){}n.ea=void 0}}else Zn(n,11)}else if((e.C||n.a==e)&&Wn(n),!D(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(n.P=(i=t[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var l=e.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=u.b;!h.a&&(V(c,"spdy")||V(c,"quic")||V(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(fn(h,h.b),h.b=null))}if(u.A){var f=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,zt(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=I()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=Yn(u,u.C?u.ga:null,u.fa),d.C){dn(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(xt(p),Tt(p)),u.a=d}else Bn(u);0<n.g.length&&Fn(n)}else"stop"!=i[0]&&"close"!=i[0]||Zn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Zn(n,7):Dn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);it(4)}catch(Qf){}}function Nt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(_(e)||"string"==typeof e)P(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(_(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(_(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Rt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Rt)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Lt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Lt(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Lt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(d=mt.prototype).setTimeout=function(e){this.P=e},d.Wa=function(e){e=e.target;var t=this.F;t&&3==On(e)?t.f():this.Ca(e)},d.Ca=function(e){try{if(e==this.a)e:{var t=On(this.a),n=this.a.ua(),r=this.a.X();if(!(3>t||3==t&&!Y&&!this.a.$())){this.A||4!=t||7==n||it(8==n||0>=r?3:2),xt(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,t,i),this.b){if(this.V&&!this.C){t:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(s)){var u=s;break t}}u=null}if(!u){this.b=!1,this.h=3,st(12),Ot(this),At(this);break e}et(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Pt(this,u)}this.I?(Et(this,t,o),Y&&this.b&&3==t&&(Ye(this.J,this.R,"tick",this.Va),this.R.start())):(et(this.c,this.f,o,null),Pt(this,o)),4==t&&Ot(this),this.b&&!this.A&&(4==t?Kn(this.g,this):(this.b=!1,Tt(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,st(12)):(this.h=0,st(13)),Ot(this),At(this)}}}catch(l){}},d.Va=function(){if(this.a){var e=On(this.a),t=this.a.$();this.D<t.length&&(xt(this),Et(this,e,t),this.b&&4!=e&&Tt(this))}},d.cancel=function(){this.A=!0,Ot(this)},d.Ua=function(){this.o=null;var e=I();0<=e-this.U?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(it(3),st(17)),Ot(this),this.h=2,At(this)):It(this,this.U-e)},(d=Rt.prototype).K=function(){Dt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},d.L=function(){return Dt(this),this.a.concat()},d.get=function(e,t){return Lt(this.b,e)?this.b[e]:t},d.set=function(e,t){Lt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},d.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Mt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vt(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Vt){this.a=void 0!==t?t:e.a,jt(this,e.f),this.j=e.j,Ut(this,e.c),qt(this,e.h),this.g=e.g,t=e.b;var n=new Jt;n.c=t.c,t.a&&(n.a=new Rt(t.a),n.b=t.b),Bt(this,n),this.i=e.i}else e&&(n=String(e).match(Mt))?(this.a=!!t,jt(this,n[1]||"",!0),this.j=Gt(n[2]||""),Ut(this,n[3]||"",!0),qt(this,n[4]),this.g=Gt(n[5]||"",!0),Bt(this,n[6]||"",!0),this.i=Gt(n[7]||"")):(this.a=!!t,this.b=new Jt(null,this.a))}function Ft(e){return new Vt(e)}function jt(e,t,n){e.f=n?Gt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Ut(e,t,n){e.c=n?Gt(t,!0):t}function qt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Bt(e,t,n){t instanceof Jt?(e.b=t,function(e,t){t&&!e.f&&(en(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tn(this,t),rn(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Wt(t,Yt)),e.b=new Jt(t,e.a))}function zt(e,t,n){e.b.set(t,n)}function Ht(e){return zt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^I()).toString(36)),e}function Gt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Kt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Vt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Wt(t,Qt,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Wt(t,Qt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wt(n,"/"==n.charAt(0)?$t:Zt,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Wt(n,Xt)),e.join("")};var Qt=/[#\/\?@]/g,Zt=/[#\?:]/g,$t=/[#\?]/g,Yt=/[#\?@]/g,Xt=/#/g;function Jt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function en(e){e.a||(e.a=new Rt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tn(e,t){en(e),t=on(e,t),Lt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Lt((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Dt(e)))}function nn(e,t){return en(e),t=on(e,t),Lt(e.a.b,t)}function rn(e,t,n){tn(e,t),0<n.length&&(e.c=null,e.a.set(on(e,t),R(n)),e.b+=n.length)}function on(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function sn(e,t){this.b=e,this.a=t}function an(e){this.g=e||un,e=y.PerformanceNavigationTiming?0<(e=y.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(y.ia&&y.ia.ya&&y.ia.ya()&&y.ia.ya().qb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(d=Jt.prototype).add=function(e,t){en(this),this.c=null,e=on(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},d.forEach=function(e,t){en(this),this.a.forEach((function(n,r){P(n,(function(n){e.call(t,n,r,this)}),this)}),this)},d.L=function(){en(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},d.K=function(e){en(this);var t=[];if("string"==typeof e)nn(this,e)&&(t=N(t,this.a.get(on(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=N(t,e[n])}return t},d.set=function(e,t){return en(this),this.c=null,nn(this,e=on(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},d.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},d.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.c=e.join("&")};var un=10;function ln(e){return!!e.b||!!e.a&&e.a.size>=e.f}function cn(e){return e.b?1:e.a?e.a.size:0}function hn(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function fn(e,t){e.a?e.a.add(t):e.b=t}function dn(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function pn(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=f(e.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return R(e.c)}function vn(){}function yn(){this.a=new vn}function gn(e,t,n){var r=n||"";try{Nt(e,(function(e,n){var i=e;b(e)&&(i=Re(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function mn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}an.prototype.cancel=function(){var e,t;if(this.c=pn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=f(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},vn.prototype.stringify=function(e){return y.JSON.stringify(e,void 0)},vn.prototype.parse=function(e){return y.JSON.parse(e,void 0)};var _n=y.JSON.parse;function bn(e){Pe.call(this),this.headers=new Rt,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=wn,this.D=this.F=!1}x(bn,Pe);var wn="",kn=/^https?$/i,Cn=["POST","PUT"];function En(e){return"content-type"==e.toLowerCase()}function Sn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Tn(e),xn(e)}function Tn(e){e.u||(e.u=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function In(e){if(e.b&&void 0!==v&&(!e.s[1]||4!=On(e)||2!=e.X()))if(e.l&&4==On(e))We(e.za,0,e);else if(e.dispatchEvent("readystatechange"),4==On(e)){e.b=!1;try{var t,n=e.X();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Mt)[1]||null;if(!o&&y.self&&y.self.location){var s=y.self.location.protocol;o=s.substr(0,s.length-1)}i=!kn.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{e.h=6;try{var a=2<On(e)?e.a.statusText:""}catch(u){a=""}e.f=a+" ["+e.X()+"]",Tn(e)}}finally{xn(e)}}}function xn(e,t){if(e.a){An(e);var n=e.a,r=e.s[0]?g:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function An(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(y.clearTimeout(e.m),e.m=null)}function On(e){return e.a?e.a.readyState:0}function Pn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return q(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):zt(e,t,n))}function Nn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Rn(e){this.pa=0,this.g=[],this.c=new Je,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Nn("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Nn("baseRetryDelayMs",5e3,e),this.Ma=Nn("retryDelaySeedMs",1e4,e),this.Ja=Nn("forwardChannelMaxRetries",2,e),this.ma=Nn("forwardChannelRequestTimeoutMs",2e4,e),this.Ka=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new an(e&&e.concurrentRequestLimit),this.ka=new yn,this.da=e&&e.fastHandshake||!1,this.Ga=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&e&&e.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Dn(e){if(Mn(e),3==e.v){var t=e.R++,n=Ft(e.B);zt(n,"SID",e.J),zt(n,"RID",t),zt(n,"TYPE","terminate"),Un(e,n),(t=new mt(e,e.c,t,void 0)).H=2,t.i=Ht(Ft(n)),n=!1,y.navigator&&y.navigator.sendBeacon&&(n=y.navigator.sendBeacon(t.i.toString(),"")),!n&&y.Image&&((new Image).src=t.i,n=!0),n||(t.a=Xn(t.g,null),t.a.ba(t.i)),t.u=I(),Tt(t)}$n(e)}function Ln(e){e.a&&(Hn(e),e.a.cancel(),e.a=null)}function Mn(e){Ln(e),e.j&&(y.clearTimeout(e.j),e.j=null),Wn(e),e.b.cancel(),e.h&&("number"==typeof e.h&&y.clearTimeout(e.h),e.h=null)}function Vn(e,t){e.g.push(new sn(e.La++,t)),3==e.v&&Fn(e)}function Fn(e){ln(e.b)||e.h||(e.h=!0,Ue(e.Ba,e),e.u=0)}function jn(e,t){var n;n=t?t.f:e.R++;var r=Ft(e.B);zt(r,"SID",e.J),zt(r,"RID",n),zt(r,"AID",e.P),Un(e,r),e.i&&e.l&&Pn(r,e.i,e.l),n=new mt(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=qn(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),fn(e.b,n),kt(n,r,t)}function Un(e,t){e.f&&Nt({},(function(e,n){zt(t,n,e)}))}function qn(e,t,n){n=Math.min(e.g.length,n);var r=e.f?S(e.f.Ha,e.f,e):null;e:for(var i=e.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=o))o=Math.max(0,i[u].b-100),a=!1;else try{gn(c,s,"req"+l+"_")}catch(Rr){r&&r(c)}}if(a){r=s.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Bn(e){e.a||e.j||(e.U=1,Ue(e.Aa,e),e.o=0)}function zn(e){return!(e.a||e.j||3<=e.o||(e.U++,e.j=ut(S(e.Aa,e),Qn(e,e.o)),e.o++,0))}function Hn(e){null!=e.s&&(y.clearTimeout(e.s),e.s=null)}function Gn(e){e.a=new mt(e,e.c,"rpc",e.U),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Ft(e.la);zt(t,"RID","rpc"),zt(t,"SID",e.J),zt(t,"CI",e.H?"0":"1"),zt(t,"AID",e.P),Un(e,t),zt(t,"TYPE","xmlhttp"),e.i&&e.l&&Pn(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Ht(Ft(t)),n.j=null,n.I=!0,Ct(n,e)}function Wn(e){null!=e.m&&(y.clearTimeout(e.m),e.m=null)}function Kn(e,t){var n=null;if(e.a==t){Wn(e),Hn(e),e.a=null;var r=2}else{if(!hn(e.b,t))return;n=t.s,dn(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=I()-t.u;var i=e.u;(r=nt()).dispatchEvent(new at(r,n,t,i)),Fn(e)}else Bn(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(cn(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.Ia?0:e.Ja)||(e.h=ut(S(e.Ba,e,t),Qn(e,e.u)),e.u++,0)))}(e,t)||2==r&&zn(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Zn(e,5);break;case 4:Zn(e,10);break;case 3:Zn(e,6);break;default:Zn(e,2)}}function Qn(e,t){var n=e.Fa+Math.floor(Math.random()*e.Ma);return e.f||(n*=2),n*t}function Zn(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=S(e.Xa,e);n||(n=new Vt("//www.google.com/images/cleardot.gif"),y.location&&"http"==y.location.protocol||jt(n,"https"),Ht(n)),function(e,t){var n=new Je;if(y.Image){var r=new Image;r.onload=T(mn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=T(mn,n,r,"TestLoadImage: error",!1,t),r.onabort=T(mn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=T(mn,n,r,"TestLoadImage: timeout",!1,t),y.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else st(2);e.v=0,e.f&&e.f.ra(t),$n(e),Mn(e)}function $n(e){e.v=0,e.I=-1,e.f&&(0==pn(e.b).length&&0==e.g.length||(e.b.c.length=0,R(e.g),e.g.length=0),e.f.qa())}function Yn(e,t,n){var r=function(e){return e instanceof Vt?Ft(e):new Vt(e,void 0)}(n);if(""!=r.c)t&&Ut(r,t+"."+r.c),qt(r,r.h);else{var i=y.location;r=function(e,t,n,r){var i=new Vt(null,void 0);return e&&jt(i,e),t&&Ut(i,t),n&&qt(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.W&&q(e.W,(function(e,t){zt(r,t,e)})),n=e.na,(t=e.A)&&n&&zt(r,t,n),zt(r,"VER",e.ha),Un(e,r),r}function Xn(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new bn(e.Ka)).F=e.C,t}function Jn(){}function er(){if(Z&&!(10<=Number(se)))throw Error("Environmental error: no available transport.")}function tr(e,t){Pe.call(this),this.a=new Rn(t),this.l=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!D(e)&&(this.a.i=e),this.h=t&&t.supportsCrossDomainXhr||!1,this.g=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!D(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new ir(this)}function nr(e){vt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function rr(){yt.call(this),this.status=1}function ir(e){this.a=e}(d=bn.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(e){var t;return(t=e.a)||(t=e.a={}),t}(this.H?this.H:dt),this.a.onreadystatechange=S(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void Sn(this,o)}e=n||"";var i=new Rt(this.headers);r&&Nt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=En,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=y.FormData&&e instanceof y.FormData,!(0<=O(Cn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{An(this),0<this.o&&((this.D=function(e){return Z&&oe(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=S(this.xa,this)):this.m=We(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){Sn(this,o)}},d.xa=function(){void 0!==v&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},d.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),xn(this))},d.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),xn(this,!0)),bn.S.G.call(this)},d.za=function(){this.j||(this.A||this.l||this.g?In(this):this.Ta())},d.Ta=function(){In(this)},d.X=function(){try{return 2<On(this)?this.a.status:-1}catch(K){return-1}},d.$=function(){try{return this.a?this.a.responseText:""}catch(K){return""}},d.Na=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_n(t)}},d.ua=function(){return this.h},d.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(d=Rn.prototype).ha=8,d.v=1,d.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new mt(this,this.c,e,void 0),r=this.l;if(this.O&&(r?H(r=B(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=qn(this,n,t),zt(i=Ft(this.B),"RID",e),zt(i,"CVER",22),this.A&&zt(i,"X-HTTP-Session-Id",this.A),Un(this,i),this.i&&r&&Pn(i,this.i,r),fn(this.b,n),this.Ga&&zt(i,"TYPE","init"),this.da?(zt(i,"$req",t),zt(i,"SID","null"),n.V=!0,kt(n,i,null)):kt(n,i,t),this.v=2}}else 3==this.v&&(e?jn(this,e):0==this.g.length||ln(this.b)||jn(this))},d.Aa=function(){if(this.j=null,Gn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=ut(S(this.Sa,this),e)}},d.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ln(this),Gn(this))},d.Ra=function(){null!=this.m&&(this.m=null,Ln(this),zn(this),st(19))},d.Xa=function(e){e?(this.c.info("Successfully pinged google.com"),st(2)):(this.c.info("Failed to ping google.com"),st(1))},(d=Jn.prototype).ta=function(){},d.sa=function(){},d.ra=function(){},d.qa=function(){},d.Ha=function(){},er.prototype.a=function(e,t){return new tr(e,t)},x(tr,Pe),(d=tr.prototype).addEventListener=function(e,t,n,r){tr.S.addEventListener.call(this,e,t,n,r)},d.removeEventListener=function(e,t,n,r){tr.S.removeEventListener.call(this,e,t,n,r)},d.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var e=this.a,t=this.l,n=this.b||void 0;st(0),e.fa=t,e.W=n||{},e.H=e.T,e.B=Yn(e,null,e.fa),Fn(e)},d.close=function(){Dn(this.a)},d.Pa=function(e){if("string"==typeof e){var t={};t.__data__=e,Vn(this.a,t)}else this.g?((t={}).__data__=Re(e),Vn(this.a,t)):Vn(this.a,e)},d.G=function(){this.a.f=null,delete this.f,Dn(this.a),delete this.a,tr.S.G.call(this)},x(nr,vt),x(rr,yt),x(ir,Jn),ir.prototype.ta=function(){this.a.dispatchEvent("a")},ir.prototype.sa=function(e){this.a.dispatchEvent(new nr(e))},ir.prototype.ra=function(e){this.a.dispatchEvent(new rr(e))},ir.prototype.qa=function(){this.a.dispatchEvent("b")},er.prototype.createWebChannel=er.prototype.a,tr.prototype.send=tr.prototype.Pa,tr.prototype.open=tr.prototype.Oa,tr.prototype.close=tr.prototype.close,lt.NO_ERROR=0,lt.TIMEOUT=8,lt.HTTP_ERROR=6,ct.COMPLETE="complete",ft.EventType=pt,pt.OPEN="a",pt.CLOSE="b",pt.ERROR="c",pt.MESSAGE="d",Pe.prototype.listen=Pe.prototype.va,bn.prototype.listenOnce=bn.prototype.wa,bn.prototype.getLastError=bn.prototype.Qa,bn.prototype.getLastErrorCode=bn.prototype.ua,bn.prototype.getStatus=bn.prototype.X,bn.prototype.getResponseJson=bn.prototype.Na,bn.prototype.getResponseText=bn.prototype.$,bn.prototype.send=bn.prototype.ba;var or=lt,sr=ct,ar=ft,ur=bn,lr=n("/6Yf");n.d(t,"__PRIVATE_registerFirestore",(function(){return Qf}));var cr=function(e,t,n,r,i,o){this.t=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},hr=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),fr=new l.b("@firebase/firestore");function dr(){return fr.logLevel}function pr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(fr.logLevel<=l.a.DEBUG){var r=t.map(gr);fr.debug.apply(fr,a(["Firestore (8.0.2): "+e],r))}}function vr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(fr.logLevel<=l.a.ERROR){var r=t.map(gr);fr.error.apply(fr,a(["Firestore (8.0.2): "+e],r))}}function yr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(fr.logLevel<=l.a.WARN){var r=t.map(gr);fr.warn.apply(fr,a(["Firestore (8.0.2): "+e],r))}}function gr(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function mr(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.0.2) INTERNAL ASSERTION FAILED: "+e;throw vr(t),new Error(t)}function _r(e,t){e||mr()}function br(e,t){return e}function wr(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var kr=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=wr(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Cr(e,t){return e<t?-1:e>t?1:0}function Er(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Sr(e){return e+"\0"}function Tr(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ir(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ar=function(){function e(e,t){this.h=e,this.l=t,this._={}}return e.prototype.get=function(e){var t=this.h(e),n=this._[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.l(o[0],e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.h(e),r=this._[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.l(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this._[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.h(e),n=this._[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.l(n[r][0],e))return 1===n.length?delete this._[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Ir(this._,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}}))},e.prototype.T=function(){return xr(this._)},e}(),Or={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Pr=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i(t,e),t}(Error),Nr=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pr(Or.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pr(Or.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pr(Or.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pr(Or.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.I=function(e){return this.seconds===e.seconds?Cr(this.nanoseconds,e.nanoseconds):Cr(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Rr=function(){function e(e){this.timestamp=e}return e.m=function(t){return new e(t)},e.min=function(){return new e(new Nr(0,0))},e.prototype.A=function(e){return this.timestamp.I(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.R=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.P=function(){return this.timestamp},e}(),Dr=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&mr(),void 0===n?n=e.length-t:n>e.length-t&&mr(),this.segments=e,this.offset=t,this.g=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.g},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.V(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.p(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.v=function(e){return this.p(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.S=function(){return this.p(this.segments,this.offset,this.length-1)},e.prototype.D=function(){return this.segments[this.offset]},e.prototype.C=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.T=function(){return 0===this.length},e.prototype.N=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.F=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.O=function(){return this.segments.slice(this.offset,this.limit())},e.V=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Lr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.p=function(e,n,r){return new t(e,n,r)},t.prototype.M=function(){return this.O().join("/")},t.prototype.toString=function(){return this.M()},t.k=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Pr(Or.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.$=function(){return new t([])},t}(Dr),Mr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.p=function(e,n,r){return new t(e,n,r)},t.L=function(e){return Mr.test(e)},t.prototype.M=function(){return this.O().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.L(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.M()},t.prototype.B=function(){return 1===this.length&&"__name__"===this.get(0)},t.q=function(){return new t(["__name__"])},t.U=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Pr(Or.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<e.length;){var a=e[i];if("\\"===a){if(i+1===e.length)throw new Pr(Or.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Pr(Or.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Pr(Or.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.$=function(){return new t([])},t}(Dr),Fr=function(){function e(e){this.path=e}return e.K=function(t){return new e(Lr.k(t))},e.W=function(t){return new e(Lr.k(t).v(5))},e.prototype.j=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Lr.V(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.V=function(e,t){return Lr.V(e.path,t.path)},e.G=function(e){return e.length%2==0},e.H=function(t){return new e(new Lr(t.slice()))},e}();function jr(e){return null==e}function Ur(e){return 0===e&&1/e==-1/0}function qr(e){return"number"==typeof e&&Number.isInteger(e)&&!Ur(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Br=function(e,t,n,r,i,o,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.J=null};function zr(e,t,n,r,i,o,s){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Br(e,t,n,r,i,o,s)}function Hr(e){var t=br(e);if(null===t.J){var n=t.path.M();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.M()+e.op.toString()+Li(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return(t=e).field.M()+t.dir;var t})).join(","),jr(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Fs(t.startAt)),t.endAt&&(n+="|ub:",n+=Fs(t.endAt)),t.J=n}return t.J}function Gr(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!zs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(o=t.filters[r]).op||!i.field.isEqual(o.field)||!Pi(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Us(e.startAt,t.startAt)&&Us(e.endAt,t.endAt)}function Wr(e){return Fr.G(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Kr=function(){function e(e){this.Y=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.Y)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.Y)},e.prototype.X=function(){return 2*this.Y.length},e.prototype.A=function(e){return Cr(this.Y,e.Y)},e.prototype.isEqual=function(e){return this.Y===e.Y},e}();Kr.Z=new Kr("");var Qr,Zr,$r=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=Rr.min()),void 0===o&&(o=Rr.min()),void 0===s&&(s=Kr.Z),this.target=e,this.targetId=t,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return e.prototype.nt=function(t){return new e(this.target,this.targetId,this.tt,t,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.st=function(t,n){return new e(this.target,this.targetId,this.tt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.it=function(t){return new e(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,t,this.resumeToken)},e}(),Yr=function(e){this.count=e};function Xr(e){switch(e){case Or.OK:return mr();case Or.CANCELLED:case Or.UNKNOWN:case Or.DEADLINE_EXCEEDED:case Or.RESOURCE_EXHAUSTED:case Or.INTERNAL:case Or.UNAVAILABLE:case Or.UNAUTHENTICATED:return!1;case Or.INVALID_ARGUMENT:case Or.NOT_FOUND:case Or.ALREADY_EXISTS:case Or.PERMISSION_DENIED:case Or.FAILED_PRECONDITION:case Or.ABORTED:case Or.OUT_OF_RANGE:case Or.UNIMPLEMENTED:case Or.DATA_LOSS:return!0;default:return mr()}}function Jr(e){if(void 0===e)return vr("GRPC error has no .code"),Or.UNKNOWN;switch(e){case Qr.OK:return Or.OK;case Qr.CANCELLED:return Or.CANCELLED;case Qr.UNKNOWN:return Or.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return Or.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return Or.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return Or.INTERNAL;case Qr.UNAVAILABLE:return Or.UNAVAILABLE;case Qr.UNAUTHENTICATED:return Or.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return Or.INVALID_ARGUMENT;case Qr.NOT_FOUND:return Or.NOT_FOUND;case Qr.ALREADY_EXISTS:return Or.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return Or.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return Or.FAILED_PRECONDITION;case Qr.ABORTED:return Or.ABORTED;case Qr.OUT_OF_RANGE:return Or.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return Or.UNIMPLEMENTED;case Qr.DATA_LOSS:return Or.DATA_LOSS;default:return mr()}}(Zr=Qr||(Qr={}))[Zr.OK=0]="OK",Zr[Zr.CANCELLED=1]="CANCELLED",Zr[Zr.UNKNOWN=2]="UNKNOWN",Zr[Zr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zr[Zr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zr[Zr.NOT_FOUND=5]="NOT_FOUND",Zr[Zr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zr[Zr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zr[Zr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zr[Zr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zr[Zr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zr[Zr.ABORTED=10]="ABORTED",Zr[Zr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zr[Zr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zr[Zr.INTERNAL=13]="INTERNAL",Zr[Zr.UNAVAILABLE=14]="UNAVAILABLE",Zr[Zr.DATA_LOSS=15]="DATA_LOSS";var ei=function(){function e(e,t){this.V=e,this.root=t||ni.EMPTY}return e.prototype.rt=function(t,n){return new e(this.V,this.root.rt(t,n,this.V).copy(null,null,ni.ot,null,null))},e.prototype.remove=function(t){return new e(this.V,this.root.remove(t,this.V).copy(null,null,ni.ot,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.T();){var n=this.V(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.T();){var r=this.V(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.T=function(){return this.root.T()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.at=function(){return this.root.at()},e.prototype.ct=function(){return this.root.ct()},e.prototype.ut=function(e){return this.root.ut(e)},e.prototype.forEach=function(e){this.ut((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.ut((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.ht=function(e){return this.root.ht(e)},e.prototype.lt=function(){return new ti(this.root,null,this.V,!1)},e.prototype._t=function(e){return new ti(this.root,e,this.V,!1)},e.prototype.ft=function(){return new ti(this.root,null,this.V,!0)},e.prototype.dt=function(e){return new ti(this.root,e,this.V,!0)},e}(),ti=function(){function e(e,t,n,r){this.wt=r,this.Tt=[];for(var i=1;!e.T();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.wt?e.left:e.right;else{if(0===i){this.Tt.push(e);break}this.Tt.push(e),e=this.wt?e.right:e.left}}return e.prototype.Et=function(){var e=this.Tt.pop(),t={key:e.key,value:e.value};if(this.wt)for(e=e.left;!e.T();)this.Tt.push(e),e=e.right;else for(e=e.right;!e.T();)this.Tt.push(e),e=e.left;return t},e.prototype.It=function(){return this.Tt.length>0},e.prototype.At=function(){if(0===this.Tt.length)return null;var e=this.Tt[this.Tt.length-1];return{key:e.key,value:e.value}},e}(),ni=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.T=function(){return!1},e.prototype.ut=function(e){return this.left.ut(e)||e(this.key,this.value)||this.right.ut(e)},e.prototype.ht=function(e){return this.right.ht(e)||e(this.key,this.value)||this.left.ht(e)},e.prototype.min=function(){return this.left.T()?this:this.left.min()},e.prototype.at=function(){return this.min().key},e.prototype.ct=function(){return this.right.T()?this.key:this.right.ct()},e.prototype.rt=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.rt(e,t,n))).Rt()},e.prototype.Pt=function(){if(this.left.T())return e.EMPTY;var t=this;return t.left.gt()||t.left.left.gt()||(t=t.Vt()),(t=t.copy(null,null,null,t.left.Pt(),null)).Rt()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.T()||i.left.gt()||i.left.left.gt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.gt()&&(i=i.yt()),i.right.T()||i.right.gt()||i.right.left.gt()||(i=i.vt()),0===n(t,i.key)){if(i.right.T())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.Rt()},e.prototype.gt=function(){return this.color},e.prototype.Rt=function(){var e=this;return e.right.gt()&&!e.left.gt()&&(e=e.bt()),e.left.gt()&&e.left.left.gt()&&(e=e.yt()),e.left.gt()&&e.right.gt()&&(e=e.St()),e},e.prototype.Vt=function(){var e=this.St();return e.right.left.gt()&&(e=(e=(e=e.copy(null,null,null,null,e.right.yt())).bt()).St()),e},e.prototype.vt=function(){var e=this.St();return e.left.left.gt()&&(e=(e=e.yt()).St()),e},e.prototype.bt=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.yt=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.St=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.Dt=function(){var e=this.Ct();return Math.pow(2,e)<=this.size+1},e.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw mr();if(this.right.gt())throw mr();var e=this.left.Ct();if(e!==this.right.Ct())throw mr();return e+(this.gt()?0:1)},e}();ni.EMPTY=null,ni.RED=!0,ni.ot=!1,ni.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw mr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw mr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw mr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw mr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw mr()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.rt=function(e,t,n){return new ni(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.T=function(){return!0},e.prototype.ut=function(e){return!1},e.prototype.ht=function(e){return!1},e.prototype.at=function(){return null},e.prototype.ct=function(){return null},e.prototype.gt=function(){return!1},e.prototype.Dt=function(){return!0},e.prototype.Ct=function(){return 0},e}());var ri=function(){function e(e){this.V=e,this.data=new ei(this.V)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.at()},e.prototype.last=function(){return this.data.ct()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.ut((function(t,n){return e(t),!1}))},e.prototype.Nt=function(e,t){for(var n=this.data._t(e[0]);n.It();){var r=n.Et();if(this.V(r.key,e[1])>=0)return;t(r.key)}},e.prototype.xt=function(e,t){var n;for(n=void 0!==t?this.data._t(t):this.data.lt();n.It();)if(!e(n.Et().key))return},e.prototype.Ft=function(e){var t=this.data._t(e);return t.It()?t.Et().key:null},e.prototype.lt=function(){return new ii(this.data.lt())},e.prototype._t=function(e){return new ii(this.data._t(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).rt(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.T=function(){return this.data.T()},e.prototype.Ot=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.lt(),r=t.data.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(0!==this.V(i,o))return!1}return!0},e.prototype.O=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.V);return n.data=t,n},e}(),ii=function(){function e(e){this.Mt=e}return e.prototype.Et=function(){return this.Mt.Et().key},e.prototype.It=function(){return this.Mt.It()},e}(),oi=new ei(Fr.V);function si(){return oi}function ai(){return si()}var ui=new ei(Fr.V);function li(){return ui}var ci=new ei(Fr.V),hi=new ri(Fr.V);function fi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=hi,r=0,i=e;r<i.length;r++)n=n.add(i[r]);return n}var di=new ri(Cr);function pi(){return di}var vi=function(){function e(e){this.V=e?function(t,n){return e(t,n)||Fr.V(t.key,n.key)}:function(e,t){return Fr.V(e.key,t.key)},this.kt=li(),this.$t=new ei(this.V)}return e.Lt=function(t){return new e(t.V)},e.prototype.has=function(e){return null!=this.kt.get(e)},e.prototype.get=function(e){return this.kt.get(e)},e.prototype.first=function(){return this.$t.at()},e.prototype.last=function(){return this.$t.ct()},e.prototype.T=function(){return this.$t.T()},e.prototype.indexOf=function(e){var t=this.kt.get(e);return t?this.$t.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.$t.ut((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.kt.rt(e.key,e),t.$t.rt(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.kt.remove(e),this.$t.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.$t.lt(),r=t.$t.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.V=this.V,r.kt=t,r.$t=n,r},e}(),yi=function(){function e(){this.Bt=new ei(Fr.V)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Bt.get(t);n?0!==e.type&&3===n.type?this.Bt=this.Bt.rt(t,e):3===e.type&&1!==n.type?this.Bt=this.Bt.rt(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Bt=this.Bt.rt(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Bt=this.Bt.rt(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Bt=this.Bt.remove(t):1===e.type&&2===n.type?this.Bt=this.Bt.rt(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Bt=this.Bt.rt(t,{type:2,doc:e.doc}):mr():this.Bt=this.Bt.rt(t,e)},e.prototype.qt=function(){var e=[];return this.Bt.ut((function(t,n){e.push(n)})),e},e}(),gi=function(){function e(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Kt=s,this.Wt=a}return e.jt=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,vi.Lt(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.Qt.T()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.Kt===e.Kt&&this.Qt.isEqual(e.Qt)&&Cs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.Ut.isEqual(e.Ut)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),mi=function(){function e(e,t,n,r,i){this.et=e,this.Gt=t,this.zt=n,this.Ht=r,this.Jt=i}return e.Yt=function(t,n){var r=new Map;return r.set(t,_i.Xt(t,n)),new e(Rr.min(),r,pi(),si(),fi())},e}(),_i=function(){function e(e,t,n,r,i){this.resumeToken=e,this.Zt=t,this.te=n,this.ee=r,this.ne=i}return e.Xt=function(t,n){return new e(Kr.Z,n,fi(),fi(),fi())},e}(),bi=function(e,t,n,r){this.se=e,this.removedTargetIds=t,this.key=n,this.ie=r},wi=function(e,t){this.targetId=e,this.re=t},ki=function(e,t,n,r){void 0===n&&(n=Kr.Z),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Ci=function(){function e(){this.oe=0,this.ae=Ti(),this.ce=Kr.Z,this.ue=!1,this.he=!0}return Object.defineProperty(e.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),e.prototype.fe=function(e){e.X()>0&&(this.he=!0,this.ce=e)},e.prototype.de=function(){var e=fi(),t=fi(),n=fi();return this.ae.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:mr()}})),new _i(this.ce,this.ue,e,t,n)},e.prototype.we=function(){this.he=!1,this.ae=Ti()},e.prototype.Te=function(e,t){this.he=!0,this.ae=this.ae.rt(e,t)},e.prototype.Ee=function(e){this.he=!0,this.ae=this.ae.remove(e)},e.prototype.Ie=function(){this.oe+=1},e.prototype.me=function(){this.oe-=1},e.prototype.Ae=function(){this.he=!0,this.ue=!0},e}(),Ei=function(){function e(e){this.Re=e,this.Pe=new Map,this.ge=si(),this.Ve=Si(),this.ye=new ri(Cr)}return e.prototype.pe=function(e){for(var t=0,n=e.se;t<n.length;t++){var r=n[t];e.ie instanceof as?this.ve(r,e.ie):e.ie instanceof us&&this.be(r,e.key,e.ie)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.be(o[i],e.key,e.ie)},e.prototype.Se=function(e){var t=this;this.De(e,(function(n){var r=t.Ce(n);switch(e.state){case 0:t.Ne(n)&&r.fe(e.resumeToken);break;case 1:r.me(),r.le||r.we(),r.fe(e.resumeToken);break;case 2:r.me(),r.le||t.removeTarget(n);break;case 3:t.Ne(n)&&(r.Ae(),r.fe(e.resumeToken));break;case 4:t.Ne(n)&&(t.xe(n),r.fe(e.resumeToken));break;default:mr()}}))},e.prototype.De=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Pe.forEach((function(e,r){n.Ne(r)&&t(r)}))},e.prototype.Fe=function(e){var t=e.targetId,n=e.re.count,r=this.Oe(t);if(r){var i=r.target;if(Wr(i))if(0===n){var o=new Fr(i.path);this.be(t,o,new us(o,Rr.min()))}else _r(1===n);else this.Me(t)!==n&&(this.xe(t),this.ye=this.ye.add(t))}},e.prototype.ke=function(e){var t=this,n=new Map;this.Pe.forEach((function(r,i){var o=t.Oe(i);if(o){if(r.Zt&&Wr(o.target)){var s=new Fr(o.target.path);null!==t.ge.get(s)||t.$e(i,s)||t.be(i,s,new us(s,e))}r._e&&(n.set(i,r.de()),r.we())}}));var r=fi();this.Ve.forEach((function(e,n){var i=!0;n.xt((function(e){var n=t.Oe(e);return!n||2===n.tt||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new mi(e,n,this.ye,this.ge,r);return this.ge=si(),this.Ve=Si(),this.ye=new ri(Cr),i},e.prototype.ve=function(e,t){if(this.Ne(e)){var n=this.$e(e,t.key)?2:0;this.Ce(e).Te(t.key,n),this.ge=this.ge.rt(t.key,t),this.Ve=this.Ve.rt(t.key,this.Le(t.key).add(e))}},e.prototype.be=function(e,t,n){if(this.Ne(e)){var r=this.Ce(e);this.$e(e,t)?r.Te(t,1):r.Ee(t),this.Ve=this.Ve.rt(t,this.Le(t).delete(e)),n&&(this.ge=this.ge.rt(t,n))}},e.prototype.removeTarget=function(e){this.Pe.delete(e)},e.prototype.Me=function(e){var t=this.Ce(e).de();return this.Re.Be(e).size+t.te.size-t.ne.size},e.prototype.Ie=function(e){this.Ce(e).Ie()},e.prototype.Ce=function(e){var t=this.Pe.get(e);return t||(t=new Ci,this.Pe.set(e,t)),t},e.prototype.Le=function(e){var t=this.Ve.get(e);return t||(t=new ri(Cr),this.Ve=this.Ve.rt(e,t)),t},e.prototype.Ne=function(e){var t=null!==this.Oe(e);return t||pr("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.Oe=function(e){var t=this.Pe.get(e);return t&&t.le?null:this.Re.qe(e)},e.prototype.xe=function(e){var t=this;this.Pe.set(e,new Ci),this.Re.Be(e).forEach((function(n){t.be(e,n,null)}))},e.prototype.$e=function(e,t){return this.Re.Be(e).has(t)},e}();function Si(){return new ei(Fr.V)}function Ti(){return new ei(Fr.V)}function Ii(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xi(e){var t=Mi(e.mapValue.fields.__local_write_time__.timestampValue);return new Nr(t.seconds,t.nanos)}var Ai=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ii(e)?4:10:mr()}function Pi(e,t){var n=Oi(e);if(n!==Oi(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xi(e).isEqual(xi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Mi(e.timestampValue),r=Mi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Fi(e.bytesValue).isEqual(Fi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Vi(e.geoPointValue.latitude)===Vi(t.geoPointValue.latitude)&&Vi(e.geoPointValue.longitude)===Vi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Vi(e.integerValue)===Vi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Vi(e.doubleValue),r=Vi(t.doubleValue);return n===r?Ur(n)===Ur(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Er(e.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Tr(n)!==Tr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pi(n[i],r[i])))return!1;return!0}(e,t);default:return mr()}}function Ni(e,t){return void 0!==(e.values||[]).find((function(e){return Pi(e,t)}))}function Ri(e,t){var n=Oi(e),r=Oi(t);if(n!==r)return Cr(n,r);switch(n){case 0:return 0;case 1:return Cr(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Vi(e.integerValue||e.doubleValue),r=Vi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Di(e.timestampValue,t.timestampValue);case 4:return Di(xi(e),xi(t));case 5:return Cr(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Fi(e),r=Fi(t);return n.A(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Cr(n[i],r[i]);if(0!==o)return o}return Cr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Cr(Vi(e.latitude),Vi(t.latitude));return 0!==n?n:Cr(Vi(e.longitude),Vi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ri(n[i],r[i]);if(o)return o}return Cr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Cr(r[s],o[s]);if(0!==a)return a;var u=Ri(n[r[s]],i[o[s]]);if(0!==u)return u}return Cr(r.length,o.length)}(e.mapValue,t.mapValue);default:throw mr()}}function Di(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cr(e,t);var n=Mi(e),r=Mi(t),i=Cr(n.seconds,r.seconds);return 0!==i?i:Cr(n.nanos,r.nanos)}function Li(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=Mi(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Fi(t.bytesValue).toBase64():"referenceValue"in t?Fr.W(t.referenceValue).toString():"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+e(t.fields[s])}return n+"}"}(t.mapValue):mr();var n}(e)}function Mi(e){if(_r(!!e),"string"==typeof e){var t=0,n=Ai.exec(e);if(_r(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Vi(e.seconds),nanos:Vi(e.nanos)}}function Vi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Fi(e){return"string"==typeof e?Kr.fromBase64String(e):Kr.fromUint8Array(e)}function ji(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.M()}}function Ui(e){return!!e&&"integerValue"in e}function qi(e){return!!e&&"arrayValue"in e}function Bi(e){return!!e&&"nullValue"in e}function zi(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hi(e){return!!e&&"mapValue"in e}var Gi={asc:"ASCENDING",desc:"DESCENDING"},Wi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ki=function(e,t){this.t=e,this.Ue=t};function Qi(e){return{integerValue:""+e}}function Zi(e,t){if(e.Ue){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ur(t)?"-0":t}}function $i(e,t){return qr(t)?Qi(t):Zi(e,t)}function Yi(e,t){return e.Ue?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xi(e,t){return e.Ue?t.toBase64():t.toUint8Array()}function Ji(e,t){return Yi(e,t.P())}function eo(e){return _r(!!e),Rr.m(function(e){var t=Mi(e);return new Nr(t.seconds,t.nanos)}(e))}function to(e,t){return function(e){return new Lr(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).M()}function no(e){var t=Lr.k(e);return _r(So(t)),t}function ro(e,t){return to(e.t,t.path)}function io(e,t){var n=no(t);if(n.get(1)!==e.t.projectId)throw new Pr(Or.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.t.projectId);if(n.get(3)!==e.t.database)throw new Pr(Or.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.t.database);return new Fr(uo(n))}function oo(e,t){return to(e.t,t)}function so(e){var t=no(e);return 4===t.length?Lr.$():uo(t)}function ao(e){return new Lr(["projects",e.t.projectId,"databases",e.t.database]).M()}function uo(e){return _r(e.length>4&&"documents"===e.get(4)),e.v(5)}function lo(e,t,n){return{name:ro(e,t),fields:n.proto.mapValue.fields}}function co(e,t){var n;if(t instanceof Zo)n={update:lo(e,t.key,t.value)};else if(t instanceof ts)n={delete:ro(e,t.key)};else if(t instanceof $o)n={update:lo(e,t.key,t.data),updateMask:Eo(t.Qe)};else if(t instanceof Xo)n={transform:{document:ro(e,t.key),fieldTransforms:t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Oo)return{fieldPath:t.field.M(),setToServerValue:"REQUEST_TIME"};if(n instanceof Po)return{fieldPath:t.field.M(),appendMissingElements:{values:n.elements}};if(n instanceof Ro)return{fieldPath:t.field.M(),removeAllFromArray:{values:n.elements}};if(n instanceof Lo)return{fieldPath:t.field.M(),increment:n.Ke};throw mr()}(0,e)}))}};else{if(!(t instanceof ns))return mr();n={verify:ro(e,t.key)}}return t.je.We||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ji(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:mr()}(e,t.je)),n}function ho(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?qo.updateTime(eo(e.updateTime)):void 0!==e.exists?qo.exists(e.exists):qo.Ge()}(t.currentDocument):qo.Ge();if(t.update){var r=io(e,t.update.name),i=new rs({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){return new Fo((e.fieldPaths||[]).map((function(e){return Vr.U(e)})))}(t.updateMask);return new $o(r,i,o,n)}return new Zo(r,i,n)}if(t.delete){var s=io(e,t.delete);return new ts(s,n)}if(t.transform){var a=io(e,t.transform.document),u=t.transform.fieldTransforms.map((function(t){return function(e,t){var n=null;"setToServerValue"in t?(_r("REQUEST_TIME"===t.setToServerValue),n=new Oo):"appendMissingElements"in t?n=new Po(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new Ro(t.removeAllFromArray.values||[]):"increment"in t?n=new Lo(e,t.increment):mr();var r=Vr.U(t.fieldPath);return new jo(r,n)}(e,t)}));return _r(!0===n.exists),new Xo(a,u)}if(t.verify){var l=io(e,t.verify);return new ns(l,n)}return mr()}function fo(e,t){return{documents:[oo(e,t.path)]}}function po(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=oo(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=oo(e,r.S()),n.structuredQuery.from=[{collectionId:r.C()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(zi(e.value))return{unaryFilter:{field:bo(e.field),op:"IS_NAN"}};if(Bi(e.value))return{unaryFilter:{field:bo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zi(e.value))return{unaryFilter:{field:bo(e.field),op:"IS_NOT_NAN"}};if(Bi(e.value))return{unaryFilter:{field:bo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(e.field),op:_o(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:bo(e.field),direction:mo(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(e,t){return e.Ue||jr(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=yo(t.startAt)),t.endAt&&(n.structuredQuery.endAt=yo(t.endAt)),n}function vo(e){var t=so(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_r(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=function e(t){return t?void 0!==t.unaryFilter?[Co(t)]:void 0!==t.fieldFilter?[ko(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):mr():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(e){return function(e){return new qs(wo(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return jr(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=go(n.startAt));var c=null;return n.endAt&&(c=go(n.endAt)),hs(t,i,a,s,u,"F",l,c)}function yo(e){return{before:e.before,values:e.position}}function go(e){return new Vs(e.values||[],!!e.before)}function mo(e){return Gi[e]}function _o(e){return Wi[e]}function bo(e){return{fieldPath:e.M()}}function wo(e){return Vr.U(e.fieldPath)}function ko(e){return xs.create(wo(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return mr()}}(e.fieldFilter.op),e.fieldFilter.value)}function Co(e){switch(e.unaryFilter.op){case"IS_NAN":var t=wo(e.unaryFilter.field);return xs.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=wo(e.unaryFilter.field);return xs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=wo(e.unaryFilter.field);return xs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=wo(e.unaryFilter.field);return xs.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return mr()}}function Eo(e){var t=[];return e.fields.forEach((function(e){return t.push(e.M())})),{fieldPaths:t}}function So(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var To=function(){this.ze=void 0};function Io(e,t,n){return e instanceof Oo?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Po?No(e,t):e instanceof Ro?Do(e,t):function(e,t){var n=Ao(e,t),r=Mo(n)+Mo(e.Ke);return Ui(n)&&Ui(e.Ke)?Qi(r):Zi(e.serializer,r)}(e,t)}function xo(e,t,n){return e instanceof Po?No(e,t):e instanceof Ro?Do(e,t):n}function Ao(e,t){return e instanceof Lo?Ui(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Oo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(To),Po=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return i(t,e),t}(To);function No(e,t){for(var n=Vo(t),r=function(e){n.some((function(t){return Pi(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ro=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return i(t,e),t}(To);function Do(e,t){for(var n=Vo(t),r=function(e){n=n.filter((function(t){return!Pi(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Lo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).serializer=t,r.Ke=n,r}return i(t,e),t}(To);function Mo(e){return Vi(e.integerValue||e.doubleValue)}function Vo(e){return qi(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Fo=function(){function e(e){this.fields=e,e.sort(Vr.V)}return e.prototype.He=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].N(e))return!0;return!1},e.prototype.isEqual=function(e){return Er(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),jo=function(e,t){this.field=e,this.transform=t},Uo=function(e,t){this.version=e,this.transformResults=t},qo=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.Ge=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"We",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Bo(e,t){return void 0!==e.updateTime?t instanceof as&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t instanceof as}var zo=function(){};function Ho(e,t,n){return e instanceof Zo?function(e,t,n){return new as(e.key,n.version,e.value,{hasCommittedMutations:!0})}(e,0,n):e instanceof $o?function(e,t,n){if(!Bo(e.je,t))return new ls(e.key,n.version);var r=Yo(e,t);return new as(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):e instanceof Xo?function(e,t,n){if(_r(null!=n.transformResults),!Bo(e.je,t))return new ls(e.key,n.version);var r=Jo(0,t),i=function(e,t,n){var r=[];_r(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,a=null;t instanceof as&&(a=t.field(o.field)),r.push(xo(s,a,n[i]))}return r}(e.fieldTransforms,t,n.transformResults),o=n.version,s=es(e,r.data(),i);return new as(e.key,o,s,{hasCommittedMutations:!0})}(e,t,n):function(e,t,n){return new us(e.key,n.version,{hasCommittedMutations:!0})}(e,0,n)}function Go(e,t,n,r){return e instanceof Zo?function(e,t){if(!Bo(e.je,t))return t;var n=Qo(t);return new as(e.key,n,e.value,{Je:!0})}(e,t):e instanceof $o?function(e,t){if(!Bo(e.je,t))return t;var n=Qo(t),r=Yo(e,t);return new as(e.key,n,r,{Je:!0})}(e,t):e instanceof Xo?function(e,t,n,r){if(!Bo(e.je,t))return t;var i=Jo(0,t),o=function(e,t,n,r){for(var i=[],o=0,s=e;o<s.length;o++){var a=s[o],u=a.transform,l=null;n instanceof as&&(l=n.field(a.field)),null===l&&r instanceof as&&(l=r.field(a.field)),i.push(Io(u,l,t))}return i}(e.fieldTransforms,n,t,r),s=es(e,i.data(),o);return new as(e.key,i.version,s,{Je:!0})}(e,t,r,n):function(e,t){return Bo(e.je,t)?new us(e.key,Rr.min()):t}(e,t)}function Wo(e,t){return e instanceof Xo?function(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t instanceof as?t.field(o.field):void 0,a=Ao(o.transform,s||null);null!=a&&(n=null==n?(new is).set(o.field,a):n.set(o.field,a))}return n?n.Ye():null}(e,t):null}function Ko(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.je.isEqual(t.je)&&(0===e.type?e.value.isEqual(t.value):1===e.type?e.data.isEqual(t.data)&&e.Qe.isEqual(t.Qe):2!==e.type||Er(e.fieldTransforms,e.fieldTransforms,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Po&&t instanceof Po||e instanceof Ro&&t instanceof Ro?Er(e.elements,t.elements,Pi):e instanceof Lo&&t instanceof Lo?Pi(e.Ke,t.Ke):e instanceof Oo&&t instanceof Oo}(e.transform,t.transform)}(e,t)})))}function Qo(e){return e instanceof as?e.version:Rr.min()}var Zo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).key=t,i.value=n,i.je=r,i.type=0,i}return i(t,e),t}(zo),$o=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this)||this).key=t,o.data=n,o.Qe=r,o.je=i,o.type=1,o}return i(t,e),t}(zo);function Yo(e,t){return function(e,t){var n=new is(t);return e.Qe.fields.forEach((function(t){if(!t.T()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.Ye()}(e,t instanceof as?t.data():rs.empty())}var Xo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.fieldTransforms=n,r.type=2,r.je=qo.exists(!0),r}return i(t,e),t}(zo);function Jo(e,t){return t}function es(e,t,n){for(var r=new is(t),i=0;i<e.fieldTransforms.length;i++)r.set(e.fieldTransforms[i].field,n[i]);return r.Ye()}var ts=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.je=n,r.type=3,r}return i(t,e),t}(zo),ns=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.je=n,r.type=4,r}return i(t,e),t}(zo),rs=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.T())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!Hi(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e.C()])||null},e.prototype.isEqual=function(e){return Pi(this.proto,e.proto)},e}(),is=function(){function e(e){void 0===e&&(e=rs.empty()),this.Xe=e,this.Ze=new Map}return e.prototype.set=function(e,t){return this.tn(e,t),this},e.prototype.delete=function(e){return this.tn(e,null),this},e.prototype.tn=function(e,t){for(var n=this.Ze,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Oi(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.C(),t)},e.prototype.Ye=function(){var e=this.en(Vr.$(),this.Ze);return null!=e?new rs(e):this.Xe},e.prototype.en=function(e,t){var n=this,r=!1,i=this.Xe.field(e),o=Hi(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var s=n.en(e.child(i),t);null!=s&&(o[i]=s,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();function os(e){var t=[];return Ir(e.fields||{},(function(e,n){var r=new Vr([e]);if(Hi(n)){var i=os(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,s=i;o<s.length;o++)t.push(r.child(s[o]))}else t.push(r)})),new Fo(t)}var ss=function(e,t){this.key=e,this.version=t},as=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this).nn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return i(t,e),t.prototype.field=function(e){return this.nn.field(e)},t.prototype.data=function(){return this.nn},t.prototype.sn=function(){return this.nn.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.Je===e.Je&&this.hasCommittedMutations===e.hasCommittedMutations&&this.nn.isEqual(e.nn)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(ss),us=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(ss),ls=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(ss),cs=function(e,t,n,r,i,o,s,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.rn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.on=null,this.an=null};function hs(e,t,n,r,i,o,s,a){return new cs(e,t,n,r,i,o,s,a)}function fs(e){return new cs(e)}function ds(e){return!jr(e.limit)&&"F"===e.limitType}function ps(e){return!jr(e.limit)&&"L"===e.limitType}function vs(e){return e.rn.length>0?e.rn[0].field:null}function ys(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.cn())return r.field}return null}function gs(e){return null!==e.collectionGroup}function ms(e){var t=br(e);if(null===t.on){t.on=[];var n=ys(t),r=vs(t);if(null!==n&&null===r)n.B()||t.on.push(new qs(n)),t.on.push(new qs(Vr.q(),"asc"));else{for(var i=!1,o=0,s=t.rn;o<s.length;o++){var a=s[o];t.on.push(a),a.field.B()&&(i=!0)}if(!i){var u=t.rn.length>0?t.rn[t.rn.length-1].dir:"asc";t.on.push(new qs(Vr.q(),u))}}}return t.on}function _s(e){var t=br(e);if(!t.an)if("F"===t.limitType)t.an=zr(t.path,t.collectionGroup,ms(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=ms(t);r<i.length;r++){var o=i[r];n.push(new qs(o.field,"desc"===o.dir?"asc":"desc"))}var s=t.endAt?new Vs(t.endAt.position,!t.endAt.before):null,a=t.startAt?new Vs(t.startAt.position,!t.startAt.before):null;t.an=zr(t.path,t.collectionGroup,n,t.filters,t.limit,s,a)}return t.an}function bs(e,t,n){return new cs(e.path,e.collectionGroup,e.rn.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ws(e,t){return new cs(e.path,e.collectionGroup,e.rn.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}function ks(e,t){return new cs(e.path,e.collectionGroup,e.rn.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}function Cs(e,t){return Gr(_s(e),_s(t))&&e.limitType===t.limitType}function Es(e){return Hr(_s(e))+"|lt:"+e.limitType}function Ss(e){return"Query(target="+function(e){var t=e.path.M();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.M()+" "+t.op+" "+Li(t.value);var t})).join(", ")+"]"),jr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return(t=e).field.M()+" ("+t.dir+")";var t})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Fs(e.startAt)),e.endAt&&(t+=", endAt: "+Fs(e.endAt)),"Target("+t+")"}(_s(e))+"; limitType="+e.limitType+")"}function Ts(e,t){return function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.j(e.collectionGroup)&&e.path.N(n):Fr.G(e.path)?e.path.isEqual(n):e.path.F(n)}(e,t)&&function(e,t){for(var n=0,r=e.rn;n<r.length;n++){var i=r[n];if(!i.field.B()&&null===t.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!js(e.startAt,ms(e),t)||e.endAt&&js(e.endAt,ms(e),t))}(e,t)}function Is(e){return function(t,n){for(var r=!1,i=0,o=ms(e);i<o.length;i++){var s=o[i],a=Bs(s,t,n);if(0!==a)return a;r=r||s.field.B()}return 0}}var xs=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return i(t,e),t.create=function(e,n,r){return e.B()?"in"===n||"not-in"===n?this.un(e,n,r):new As(e,n,r):"array-contains"===n?new Rs(e,r):"in"===n?new Ds(e,r):"not-in"===n?new Ls(e,r):"array-contains-any"===n?new Ms(e,r):new t(e,n,r)},t.un=function(e,t,n){return"in"===t?new Os(e,n):new Ps(e,n)},t.prototype.matches=function(e){var t=e.field(this.field);return"!="===this.op?null!==t&&this.hn(Ri(t,this.value)):null!==t&&Oi(this.value)===Oi(t)&&this.hn(Ri(t,this.value))},t.prototype.hn=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mr()}},t.prototype.cn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),As=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Fr.W(r.referenceValue),i}return i(t,e),t.prototype.matches=function(e){var t=Fr.V(e.key,this.key);return this.hn(t)},t}(xs),Os=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Ns(0,n),r}return i(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(xs),Ps=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Ns(0,n),r}return i(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(xs);function Ns(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Fr.W(e.referenceValue)}))}var Rs=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return i(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return qi(t)&&Ni(t.arrayValue,this.value)},t}(xs),Ds=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return i(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&Ni(this.value.arrayValue,t)},t}(xs),Ls=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return i(t,e),t.prototype.matches=function(e){if(Ni(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.field(this.field);return null!==t&&!Ni(this.value.arrayValue,t)},t}(xs),Ms=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return i(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!qi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ni(t.value.arrayValue,e)}))},t}(xs),Vs=function(e,t){this.position=e,this.before=t};function Fs(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Li(e)})).join(",")}function js(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.B()?Fr.V(Fr.W(s.referenceValue),n.key):Ri(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Us(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Pi(e.position[n],t.position[n]))return!1;return!0}var qs=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Bs(e,t,n){var r=e.field.B()?Fr.V(t.key,n.key):function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?Ri(r,i):mr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return mr()}}function zs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Hs=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Gs=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.ln=e,this._n=t,this.fn=n,this.dn=r,this.wn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}return e.prototype.reset=function(){this.Tn=0},e.prototype.mn=function(){this.Tn=this.wn},e.prototype.An=function(e){var t=this;this.cancel();var n=Math.floor(this.Tn+this.Rn()),r=Math.max(0,Date.now()-this.In),i=Math.max(0,n-r);i>0&&pr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this.ln.Pn(this._n,i,(function(){return t.In=Date.now(),e()})),this.Tn*=this.dn,this.Tn<this.fn&&(this.Tn=this.fn),this.Tn>this.wn&&(this.Tn=this.wn)},e.prototype.gn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},e.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},e.prototype.Rn=function(){return(Math.random()-.5)*this.Tn},e}(),Ws=function(){function e(e){var t=this;this.yn=null,this.pn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.bn=!1,e((function(e){t.vn=!0,t.result=e,t.yn&&t.yn(e)}),(function(e){t.vn=!0,t.error=e,t.pn&&t.pn(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.bn&&mr(),this.bn=!0,this.vn?this.error?this.Sn(n,this.error):this.Dn(t,this.result):new e((function(e,i){r.yn=function(n){r.Dn(t,n).next(e,i)},r.pn=function(t){r.Sn(n,t).next(e,i)}}))},e.prototype.Cn=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.Nn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.Dn=function(t,n){return t?this.Nn((function(){return t(n)})):e.resolve(n)},e.prototype.Sn=function(t,n){return t?this.Nn((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.xn=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.Fn=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.xn(r)},e}(),Ks=function(){function e(t,n,r){this.name=t,this.version=n,this.On=r,12.2===e.Mn(Object(c.g)())&&vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return pr("SimpleDb","Removing database:",e),Js(window.indexedDB.deleteDatabase(e)).Cn()},e.kn=function(){if("undefined"==typeof indexedDB)return!1;if(e.$n())return!0;var t=Object(c.g)(),n=e.Mn(t),r=0<n&&n<10,i=e.Ln(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.$n=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Bn)},e.qn=function(e,t){return e.store(t)},e.Mn=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Ln=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Un=function(e){return o(this,void 0,void 0,(function(){var t,n=this;return s(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(pr("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){t(e.target.result)},i.onblocked=function(){r(new Zs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new Pr(Or.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Zs(e,n))},i.onupgradeneeded=function(e){pr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion),n.On.createOrUpgrade(e.target.result,i.transaction,e.oldVersion,n.version).next((function(){pr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.Qn&&(this.db.onversionchange=function(e){return n.Qn(e)}),this.db)]}}))}))},e.prototype.Kn=function(e){this.Qn=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return o(this,void 0,void 0,(function(){var i,o,a,u,l;return s(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,l,c,h;return s(this,(function(s){switch(s.label){case 0:++o,s.label=1;case 1:return s.trys.push([1,4,,5]),[4,u.Un(e)];case 2:return u.db=s.sent(),t=Ys.open(u.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Ws.reject(e)})).Cn(),l={},a.catch((function(){})),[4,t.Wn];case 3:return[2,(l.value=(s.sent(),a),l)];case 4:return pr("SimpleDb","Transaction failed with error:",(c=s.sent()).message,"Retrying:",h="FirebaseError"!==c.name&&o<3),u.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(l=c.sent()))return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Qs=function(){function e(e){this.jn=e,this.Gn=!1,this.zn=null}return Object.defineProperty(e.prototype,"vn",{get:function(){return this.Gn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Hn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.jn=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Gn=!0},e.prototype.Jn=function(e){this.zn=e},e.prototype.delete=function(){return Js(this.jn.delete())},e}(),Zs=function(e){function t(t,n){var r=this;return(r=e.call(this,Or.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return i(t,e),t}(Pr);function $s(e){return"IndexedDbTransactionError"===e.name}var Ys=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.Yn=new Hs,this.transaction.oncomplete=function(){n.Yn.resolve()},this.transaction.onabort=function(){t.error?n.Yn.reject(new Zs(e,t.error)):n.Yn.resolve()},this.transaction.onerror=function(t){var r=ta(t.target.error);n.Yn.reject(new Zs(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Zs(n,t)}},Object.defineProperty(e.prototype,"Wn",{get:function(){return this.Yn.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.Yn.reject(e),this.aborted||(pr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Xs(t)},e}(),Xs=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(pr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(pr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Js(n)},e.prototype.add=function(e){return pr("SimpleDb","ADD",this.store.name,e,e),Js(this.store.add(e))},e.prototype.get=function(e){var t=this;return Js(this.store.get(e)).next((function(n){return void 0===n&&(n=null),pr("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return pr("SimpleDb","DELETE",this.store.name,e),Js(this.store.delete(e))},e.prototype.count=function(){return pr("SimpleDb","COUNT",this.store.name),Js(this.store.count())},e.prototype.Xn=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Zn(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.ts=function(e,t){pr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.es=!1;var r=this.cursor(n);return this.Zn(r,(function(e,t,n){return n.delete()}))},e.prototype.ns=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Zn(r,t)},e.prototype.ss=function(e){var t=this.cursor({});return new Ws((function(n,r){t.onerror=function(e){var t=ta(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.Zn=function(e,t){var n=[];return new Ws((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Qs(i),s=t(i.primaryKey,i.value,o);if(s instanceof Ws){var a=s.catch((function(e){return o.done(),Ws.reject(e)}));n.push(a)}o.vn?r():null===o.Hn?i.continue():i.continue(o.Hn)}else r()}})).next((function(){return Ws.xn(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.es?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Js(e){return new Ws((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=ta(e.target.error);n(t)}}))}var ea=!1;function ta(e){var t=Ks.Mn(Object(c.g)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Pr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ea||(ea=!0,setTimeout((function(){throw r}),0)),r}}return e}function na(){return"undefined"!=typeof window?window:null}function ra(){return"undefined"!=typeof document?document:null}var ia=function(){function e(e,t,n,r,i){this.rs=e,this._n=t,this.os=n,this.op=r,this.cs=i,this.us=new Hs,this.then=this.us.promise.then.bind(this.us.promise),this.us.promise.catch((function(e){}))}return e.hs=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(e){var t=this;this.ls=setTimeout((function(){return t._s()}),e)},e.prototype.Vn=function(){return this._s()},e.prototype.cancel=function(e){null!==this.ls&&(this.clearTimeout(),this.us.reject(new Pr(Or.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype._s=function(){var e=this;this.rs.fs((function(){return null!==e.ls?(e.clearTimeout(),e.op().then((function(t){return e.us.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.ls&&(this.cs(this),clearTimeout(this.ls),this.ls=null)},e}(),oa=function(){function e(){var e=this;this.ds=Promise.resolve(),this.ws=[],this.Ts=!1,this.Es=[],this.Is=null,this.As=!1,this.Rs=[],this.Ps=new Gs(this,"async_queue_retry"),this.gs=function(){var t=ra();t&&pr("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Ps.gn()};var t=ra();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.gs)}return Object.defineProperty(e.prototype,"Vs",{get:function(){return this.Ts},enumerable:!1,configurable:!0}),e.prototype.fs=function(e){this.enqueue(e)},e.prototype.ys=function(e){this.ps(),this.vs(e)},e.prototype.bs=function(){if(!this.Ts){this.Ts=!0;var e=ra();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.gs)}},e.prototype.enqueue=function(e){return this.ps(),this.Ts?new Promise((function(e){})):this.vs(e)},e.prototype.Ss=function(e){var t=this;this.fs((function(){return t.ws.push(e),t.Ds()}))},e.prototype.Ds=function(){return o(this,void 0,void 0,(function(){var e,t=this;return s(this,(function(n){switch(n.label){case 0:if(0===this.ws.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.ws[0]()];case 2:return n.sent(),this.ws.shift(),this.Ps.reset(),[3,4];case 3:if(!$s(e=n.sent()))throw e;return pr("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.ws.length>0&&this.Ps.An((function(){return t.Ds()})),n.label=5;case 5:return[2]}}))}))},e.prototype.vs=function(e){var t=this,n=this.ds.then((function(){return t.As=!0,e().catch((function(e){throw t.Is=e,t.As=!1,vr("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.As=!1,e}))}));return this.ds=n,n},e.prototype.Pn=function(e,t,n){var r=this;this.ps(),this.Rs.indexOf(e)>-1&&(t=0);var i=ia.hs(this,e,t,n,(function(e){return r.Cs(e)}));return this.Es.push(i),i},e.prototype.ps=function(){this.Is&&mr()},e.prototype.Ns=function(){},e.prototype.xs=function(){return o(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return[4,e=this.ds];case 1:t.sent(),t.label=2;case 2:if(e!==this.ds)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Fs=function(e){for(var t=0,n=this.Es;t<n.length;t++)if(n[t]._n===e)return!0;return!1},e.prototype.Os=function(e){var t=this;return this.xs().then((function(){t.Es.sort((function(e,t){return e.os-t.os}));for(var n=0,r=t.Es;n<r.length;n++){var i=r[n];if(i.Vn(),"all"!==e&&i._n===e)break}return t.xs()}))},e.prototype.Ms=function(e){this.Rs.push(e)},e.prototype.Cs=function(e){var t=this.Es.indexOf(e);this.Es.splice(t,1)},e}();function sa(e,t){if(vr("AsyncQueue",t+": "+e),$s(e))return new Pr(Or.UNAVAILABLE,t+": "+e);throw e}var aa=function(){this.ks=void 0,this.listeners=[]},ua=function(){this.queries=new Ar((function(e){return Es(e)}),Cs),this.onlineState="Unknown",this.$s=new Set};function la(e,t){return o(this,void 0,void 0,(function(){var n,r,i,o,a,u,l;return s(this,(function(s){switch(s.label){case 0:if(n=br(e),i=!1,(o=n.queries.get(r=t.query))||(i=!0,o=new aa),!i)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=o,[4,n.Ls(r)];case 2:return a.ks=s.sent(),[3,4];case 3:return u=s.sent(),l=sa(u,"Initialization of query '"+Ss(t.query)+"' failed"),[2,void t.onError(l)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.Bs(n.onlineState),o.ks&&t.qs(o.ks)&&da(n),[2]}}))}))}function ca(e,t){return o(this,void 0,void 0,(function(){var n,r,i,o,a;return s(this,(function(s){return n=br(e),i=!1,(o=n.queries.get(r=t.query))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Us(r))]:[2]}))}))}function ha(e,t){for(var n=br(e),r=!1,i=0,o=t;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,l=a.listeners;u<l.length;u++)l[u].qs(s)&&(r=!0);a.ks=s}}r&&da(n)}function fa(e,t,n){var r=br(e),i=r.queries.get(t);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(t)}function da(e){e.$s.forEach((function(e){e.next()}))}var pa=function(){function e(e,t,n){this.query=e,this.Qs=t,this.Ks=!1,this.Ws=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.qs=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new gi(e.query,e.docs,e.Ut,t,e.Qt,e.fromCache,e.Kt,!0)}var o=!1;return this.Ks?this.js(e)&&(this.Qs.next(e),o=!0):this.Gs(e,this.onlineState)&&(this.zs(e),o=!0),this.Ws=e,o},e.prototype.onError=function(e){this.Qs.error(e)},e.prototype.Bs=function(e){this.onlineState=e;var t=!1;return this.Ws&&!this.Ks&&this.Gs(this.Ws,e)&&(this.zs(this.Ws),t=!0),t},e.prototype.Gs=function(e,t){return!e.fromCache||!(this.options.Hs&&"Offline"!==t||e.docs.T()&&"Offline"!==t)},e.prototype.js=function(e){return e.docChanges.length>0||!!(e.Kt||this.Ws&&this.Ws.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.zs=function(e){e=gi.jt(e.query,e.docs,e.Qt,e.fromCache),this.Ks=!0,this.Qs.next(e)},e}(),va=function(){function e(e){this.uid=e}return e.prototype.Js=function(){return null!=this.uid},e.prototype.Ys=function(){return this.Js()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();va.UNAUTHENTICATED=new va(null),va.Xs=new va("google-credentials-uid"),va.Zs=new va("first-party-uid");var ya=function(e,t){this.user=t,this.type="OAuth",this.ti={},this.ti.Authorization="Bearer "+e},ga=function(){function e(){this.ei=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.ni=function(){},e.prototype.si=function(e){this.ei=e,e(va.UNAUTHENTICATED)},e.prototype.ii=function(){this.ei=null},e}(),ma=function(){function e(e){var t=this;this.ri=null,this.currentUser=va.UNAUTHENTICATED,this.oi=!1,this.ai=0,this.ei=null,this.forceRefresh=!1,this.ri=function(){t.ai++,t.currentUser=t.ci(),t.oi=!0,t.ei&&t.ei(t.currentUser)},this.ai=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ri):(this.ri(null),e.get().then((function(e){t.auth=e,t.ri&&t.auth.addAuthTokenListener(t.ri)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.ai,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.ai!==t?(pr("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(_r("string"==typeof n.accessToken),new ya(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.ni=function(){this.forceRefresh=!0},e.prototype.si=function(e){this.ei=e,this.oi&&e(this.currentUser)},e.prototype.ii=function(){this.auth&&this.auth.removeAuthTokenListener(this.ri),this.ri=null,this.ei=null},e.prototype.ci=function(){var e=this.auth&&this.auth.getUid();return _r(null===e||"string"==typeof e),new va(e)},e}(),_a=function(){function e(e,t){this.ui=e,this.hi=t,this.type="FirstParty",this.user=va.Zs}return Object.defineProperty(e.prototype,"ti",{get:function(){var e={"X-Goog-AuthUser":this.hi},t=this.ui.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),ba=function(){function e(e,t){this.ui=e,this.hi=t}return e.prototype.getToken=function(){return Promise.resolve(new _a(this.ui,this.hi))},e.prototype.si=function(e){e(va.Zs)},e.prototype.ii=function(){},e.prototype.ni=function(){},e}(),wa=function(){function e(e,t,n,r){this.batchId=e,this.li=t,this.baseMutations=n,this.mutations=r}return e.prototype._i=function(e,t,n){for(var r=n.fi,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=Ho(o,t,r[i]))}return t},e.prototype.di=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(e)&&(t=Go(i,t,t,this.li))}for(var o=t,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(e)&&(t=Go(u,t,o,this.li))}return t},e.prototype.wi=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.di(r.key,e.get(r.key));i&&(n=n.rt(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),fi())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Er(this.mutations,e.mutations,(function(e,t){return Ko(e,t)}))&&Er(this.baseMutations,e.baseMutations,(function(e,t){return Ko(e,t)}))},e}(),ka=function(){function e(e,t,n,r){this.batch=e,this.Ti=t,this.fi=n,this.Ei=r}return e.from=function(t,n,r){_r(t.mutations.length===r.length);for(var i=ci,o=t.mutations,s=0;s<o.length;s++)i=i.rt(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),Ca=function(){function e(){this.Ii=new Ar((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.mi=!1}return e.prototype.Ai=function(e){var t=this.Ii.get(e);return t?t.readTime:Rr.min()},e.prototype.Ri=function(e,t){this.Pi(),this.Ii.set(e.key,{gi:e,readTime:t})},e.prototype.Vi=function(e,t){void 0===t&&(t=null),this.Pi(),this.Ii.set(e,{gi:null,readTime:t})},e.prototype.yi=function(e,t){this.Pi();var n=this.Ii.get(t);return void 0!==n?Ws.resolve(n.gi):this.pi(e,t)},e.prototype.getEntries=function(e,t){return this.vi(e,t)},e.prototype.apply=function(e){return this.Pi(),this.mi=!0,this.bi(e)},e.prototype.Pi=function(){},e}();function Ea(e){return new Ki(e,!0)}function Sa(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Ta="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ia=function(){function e(){this.Si=[]}return e.prototype.Di=function(e){this.Si.push(e)},e.prototype.Ci=function(){this.Si.forEach((function(e){return e()}))},e}(),xa=function(){function e(e,t,n){this.Ni=e,this.xi=t,this.Fi=n}return e.prototype.Oi=function(e,t){var n=this;return this.xi.Mi(e,t).next((function(r){return n.ki(e,t,r)}))},e.prototype.ki=function(e,t,n){return this.Ni.yi(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].di(t,e);return e}))},e.prototype.$i=function(e,t,n){var r=ai();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].di(e,t);r=r.rt(e,t)})),r},e.prototype.Li=function(e,t){var n=this;return this.Ni.getEntries(e,t).next((function(t){return n.Bi(e,t)}))},e.prototype.Bi=function(e,t){var n=this;return this.xi.qi(e,t).next((function(r){var i=n.$i(e,t,r),o=si();return i.forEach((function(e,t){t||(t=new us(e,Rr.min())),o=o.rt(e,t)})),o}))},e.prototype.Ui=function(e,t,n){return function(e){return Fr.G(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qi(e,t.path):gs(t)?this.Ki(e,t,n):this.Wi(e,t,n)},e.prototype.Qi=function(e,t){return this.Oi(e,new Fr(t)).next((function(e){var t=li();return e instanceof as&&(t=t.rt(e.key,e)),t}))},e.prototype.Ki=function(e,t,n){var r=this,i=t.collectionGroup,o=li();return this.Fi.ji(e,i).next((function(s){return Ws.forEach(s,(function(s){var a=function(e,t){return new cs(t,null,e.rn.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return r.Wi(e,a,n).next((function(e){e.forEach((function(e,t){o=o.rt(e,t)}))}))})).next((function(){return o}))}))},e.prototype.Wi=function(e,t,n){var r,i,o=this;return this.Ni.Ui(e,t,n).next((function(n){return r=n,o.xi.Gi(e,t)})).next((function(t){return o.zi(e,i=t,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],s=0,a=o.mutations;s<a.length;s++){var u=a[s],l=u.key,c=r.get(l),h=Go(u,c,c,o.li);r=h instanceof as?r.rt(l,h):r.remove(l)}}))})).next((function(){return r.forEach((function(e,n){Ts(t,n)||(r=r.remove(e))})),r}))},e.prototype.zi=function(e,t,n){for(var r=fi(),i=0,o=t;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof $o&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Ni.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof as&&(l=l.rt(e,t))})),l}))},e}(),Aa=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}return e.Yi=function(t,n){for(var r=fi(),i=fi(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Oa=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.Xi=function(e){return n.Zi(e)},this.tr=function(e){return t.er(e)})}return e.prototype.Zi=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.tr&&this.tr(e),e},e}();function Pa(e,t){var n=e[1],r=t[1],i=Cr(e[0],t[0]);return 0===i?Cr(n,r):i}Oa.nr=-1;var Na=function(){function e(e){this.sr=e,this.buffer=new ri(Pa),this.ir=0}return e.prototype.rr=function(){return++this.ir},e.prototype.ar=function(e){var t=[e,this.rr()];if(this.buffer.size<this.sr)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Pa(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Ra={cr:!1,ur:0,hr:0,lr:0},Da=function(){function e(e,t,n){this._r=e,this.dr=t,this.wr=n}return e.Tr=function(t){return new e(t,e.Er,e.Ir)},e}();Da.Er=10,Da.Ir=1e3,Da.mr=new Da(41943040,Da.Er,Da.Ir),Da.Ar=new Da(-1,0,0);var La=function(){function e(e,t){this.Rr=e,this.rs=t,this.Pr=!1,this.gr=null}return e.prototype.start=function(e){-1!==this.Rr.params._r&&this.Vr(e)},e.prototype.stop=function(){this.gr&&(this.gr.cancel(),this.gr=null)},Object.defineProperty(e.prototype,"yr",{get:function(){return null!==this.gr},enumerable:!1,configurable:!0}),e.prototype.Vr=function(e){var t=this,n=this.Pr?3e5:6e4;pr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.gr=this.rs.Pn("lru_garbage_collection",n,(function(){return o(t,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:this.gr=null,this.Pr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.pr(this.Rr)];case 2:return n.sent(),[3,7];case 3:return $s(t=n.sent())?(pr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,ul(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Vr(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Ma=function(){function e(e,t){this.vr=e,this.params=t}return e.prototype.br=function(e,t){return this.vr.Sr(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.Dr=function(e,t){var n=this;if(0===t)return Ws.resolve(Oa.nr);var r=new Na(t);return this.vr.De(e,(function(e){return r.ar(e.sequenceNumber)})).next((function(){return n.vr.Cr(e,(function(e){return r.ar(e)}))})).next((function(){return r.maxValue}))},e.prototype.Nr=function(e,t,n){return this.vr.Nr(e,t,n)},e.prototype.Fr=function(e,t){return this.vr.Fr(e,t)},e.prototype.Or=function(e,t){var n=this;return-1===this.params._r?(pr("LruGarbageCollector","Garbage collection skipped; disabled"),Ws.resolve(Ra)):this.Mr(e).next((function(r){return r<n.params._r?(pr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params._r),Ra):n.kr(e,t)}))},e.prototype.Mr=function(e){return this.vr.Mr(e)},e.prototype.kr=function(e,t){var n,r,i,o,s,a,u,c=this,h=Date.now();return this.br(e,this.params.dr).next((function(t){return t>c.params.wr?(pr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.wr+" from "+t),r=c.params.wr):r=t,o=Date.now(),c.Dr(e,r)})).next((function(r){return n=r,s=Date.now(),c.Nr(e,n,t)})).next((function(t){return i=t,a=Date.now(),c.Fr(e,n)})).next((function(e){return u=Date.now(),dr()<=l.a.DEBUG&&pr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+e+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-h)+"ms"),Ws.resolve({cr:!0,ur:r,hr:i,lr:e})}))},e}();function Va(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ja(t)),t=Fa(e.get(n),t);return ja(t)}function Fa(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ja(e){return e+"\x01\x01"}function Ua(e){var t=e.length;if(_r(t>=2),2===t)return _r("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Lr.$();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("\x01",o);switch((s<0||s>n)&&mr(),e.charAt(s+1)){case"\x01":var a=e.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=e.substring(o,s),i+="\0";break;case"\x11":i+=e.substring(o,s+1);break;default:mr()}o=s+2}return new Lr(r)}var qa=function(e){this.$r=e};function Ba(e,t){if(t.document)return function(e,t,n){var r=io(e,t.name),i=eo(t.updateTime),o=new rs({mapValue:{fields:t.fields}});return new as(r,i,o,{hasCommittedMutations:!!n})}(e.$r,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Fr.H(t.noDocument.path),r=Ka(t.noDocument.readTime);return new us(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=Fr.H(t.unknownDocument.path),o=Ka(t.unknownDocument.version);return new ls(i,o)}return mr()}function za(e,t,n){var r=Ha(n),i=t.key.path.S().O();if(t instanceof as){var o=function(e,t){return{name:ro(e,t.key),fields:t.sn().mapValue.fields,updateTime:Yi(e,t.version.P())}}(e.$r,t);return new bu(null,null,o,t.hasCommittedMutations,r,i)}if(t instanceof us){var s=t.key.path.O(),a=Wa(t.version),u=t.hasCommittedMutations;return new bu(null,new mu(s,a),null,u,r,i)}if(t instanceof ls){var l=t.key.path.O(),c=Wa(t.version);return new bu(new _u(l,c),null,null,!0,r,i)}return mr()}function Ha(e){var t=e.P();return[t.seconds,t.nanoseconds]}function Ga(e){var t=new Nr(e[0],e[1]);return Rr.m(t)}function Wa(e){var t=e.P();return new du(t.seconds,t.nanoseconds)}function Ka(e){var t=new Nr(e.seconds,e.nanoseconds);return Rr.m(t)}function Qa(e,t){var n=(t.baseMutations||[]).map((function(t){return ho(e.$r,t)})),r=t.mutations.map((function(t){return ho(e.$r,t)})),i=Nr.fromMillis(t.localWriteTimeMs);return new wa(t.batchId,i,n,r)}function Za(e){var t,n,r=Ka(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ka(e.lastLimboFreeSnapshotVersion):Rr.min();return void 0!==e.query.documents?(_r(1===(n=e.query).documents.length),t=_s(fs(so(n.documents[0])))):t=function(e){return _s(vo(e))}(e.query),new $r(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Kr.fromBase64String(e.resumeToken))}function $a(e,t){var n,r=Wa(t.et),i=Wa(t.lastLimboFreeSnapshotVersion);n=Wr(t.target)?fo(e.$r,t.target):po(e.$r,t.target);var o=t.resumeToken.toBase64();return new ku(t.targetId,Hr(t.target),r,o,t.sequenceNumber,i,n)}function Ya(e){var t=vo({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?bs(t,t.limit,"L"):t}var Xa=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.Fi=n,this.Lr=r,this.Br={}}return e.qr=function(t,n,r,i){return _r(""!==t.uid),new e(t.Js()?t.uid:"",n,r,i)},e.prototype.Ur=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tu(e).ns({index:yu.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.Qr=function(e,t,n,r){var i=this,o=nu(e),s=tu(e);return s.add({}).next((function(a){_r("number"==typeof a);for(var u=new wa(a,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return co(e.$r,t)})),i=n.mutations.map((function(t){return co(e.$r,t)}));return new yu(t,n.batchId,n.li.toMillis(),r,i)}(i.serializer,i.userId,u),c=[],h=new ri((function(e,t){return Cr(e.M(),t.M())})),f=0,d=r;f<d.length;f++){var p=d[f],v=gu.key(i.userId,p.key.path,a);h=h.add(p.key.path.S()),c.push(s.put(l)),c.push(o.put(v,gu.PLACEHOLDER))}return h.forEach((function(t){c.push(i.Fi.Kr(e,t))})),e.Di((function(){i.Br[a]=u.keys()})),Ws.xn(c).next((function(){return u}))}))},e.prototype.Wr=function(e,t){var n=this;return tu(e).get(t).next((function(e){return e?(_r(e.userId===n.userId),Qa(n.serializer,e)):null}))},e.prototype.jr=function(e,t){var n=this;return this.Br[t]?Ws.resolve(this.Br[t]):this.Wr(e,t).next((function(e){if(e){var r=e.keys();return n.Br[t]=r,r}return null}))},e.prototype.Gr=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return tu(e).ns({index:yu.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(_r(t.batchId>=r),o=Qa(n.serializer,t)),i.done()})).next((function(){return o}))},e.prototype.zr=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return tu(e).ns({index:yu.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.Hr=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tu(e).Xn(yu.userMutationsIndex,n).next((function(e){return e.map((function(e){return Qa(t.serializer,e)}))}))},e.prototype.Mi=function(e,t){var n=this,r=gu.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return nu(e).ns({range:i},(function(r,i,s){var a=r[0],u=r[2],l=Ua(r[1]);if(a===n.userId&&t.path.isEqual(l))return tu(e).get(u).next((function(e){if(!e)throw mr();_r(e.userId===n.userId),o.push(Qa(n.serializer,e))}));s.done()})).next((function(){return o}))},e.prototype.qi=function(e,t){var n=this,r=new ri(Cr),i=[];return t.forEach((function(t){var o=gu.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(o),a=nu(e).ns({range:s},(function(e,i,o){var s=e[0],a=e[2],u=Ua(e[1]);s===n.userId&&t.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),Ws.xn(i).next((function(){return n.Jr(e,r)}))},e.prototype.Gi=function(e,t){var n=this,r=t.path,i=r.length+1,o=gu.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ri(Cr);return nu(e).ns({range:s},(function(e,t,o){var s=e[0],u=e[2],l=Ua(e[1]);s===n.userId&&r.N(l)?l.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Jr(e,a)}))},e.prototype.Jr=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(tu(e).get(t).next((function(e){if(null===e)throw mr();_r(e.userId===n.userId),r.push(Qa(n.serializer,e))})))})),Ws.xn(i).next((function(){return r}))},e.prototype.Yr=function(e,t){var n=this;return eu(e.Xr,this.userId,t).next((function(r){return e.Di((function(){n.Zr(t.batchId)})),Ws.forEach(r,(function(t){return n.Lr.eo(e,t)}))}))},e.prototype.Zr=function(e){delete this.Br[e]},e.prototype.no=function(e){var t=this;return this.Ur(e).next((function(n){if(!n)return Ws.resolve();var r=IDBKeyRange.lowerBound(gu.prefixForUser(t.userId)),i=[];return nu(e).ns({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Ua(e[1]);i.push(o)}else r.done()})).next((function(){_r(0===i.length)}))}))},e.prototype.so=function(e,t){return Ja(e,this.userId,t)},e.prototype.io=function(e){var t=this;return ru(e).get(this.userId).next((function(e){return e||new vu(t.userId,-1,"")}))},e}();function Ja(e,t,n){var r=gu.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return nu(e).ns({range:o,es:!0},(function(e,n,r){e[0]===t&&e[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function eu(e,t,n){var r=e.store(yu.store),i=e.store(gu.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ns({range:s},(function(e,t,n){return a++,n.delete()}));o.push(u.next((function(){_r(1===a)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=gu.key(t,f.key.path,n.batchId);o.push(i.delete(d)),l.push(f.key)}return Ws.xn(o).next((function(){return l}))}function tu(e){return zu.qn(e,yu.store)}function nu(e){return zu.qn(e,gu.store)}function ru(e){return zu.qn(e,vu.store)}var iu=function(){function e(e,t){this.serializer=e,this.Fi=t}return e.prototype.Ri=function(e,t,n){return au(e).put(uu(t),n)},e.prototype.Vi=function(e,t){var n=au(e),r=uu(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.ro(e,r)}))},e.prototype.yi=function(e,t){var n=this;return au(e).get(uu(t)).next((function(e){return n.oo(e)}))},e.prototype.ao=function(e,t){var n=this;return au(e).get(uu(t)).next((function(e){var t=n.oo(e);return t?{gi:t,size:lu(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=ai();return this.co(e,t,(function(e,t){var i=n.oo(t);r=r.rt(e,i)})).next((function(){return r}))},e.prototype.uo=function(e,t){var n=this,r=ai(),i=new ei(Fr.V);return this.co(e,t,(function(e,t){var o=n.oo(t);o?(r=r.rt(e,o),i=i.rt(e,lu(t))):(r=r.rt(e,null),i=i.rt(e,0))})).next((function(){return{ho:r,lo:i}}))},e.prototype.co=function(e,t,n){if(t.T())return Ws.resolve();var r=IDBKeyRange.bound(t.first().path.O(),t.last().path.O()),i=t.lt(),o=i.Et();return au(e).ns({range:r},(function(e,t,r){for(var s=Fr.H(e);o&&Fr.V(o,s)<0;)n(o,null),o=i.Et();o&&o.isEqual(s)&&(n(o,t),o=i.It()?i.Et():null),o?r.Jn(o.path.O()):r.done()})).next((function(){for(;o;)n(o,null),o=i.It()?i.Et():null}))},e.prototype.Ui=function(e,t,n){var r=this,i=li(),o=t.path.length+1,s={};if(n.isEqual(Rr.min())){var a=t.path.O();s.range=IDBKeyRange.lowerBound(a)}else{var u=t.path.O(),l=Ha(n);s.range=IDBKeyRange.lowerBound([u,l],!0),s.index=bu.collectionReadTimeIndex}return au(e).ns(s,(function(e,n,s){if(e.length===o){var a=Ba(r.serializer,n);t.path.N(a.key.path)?a instanceof as&&Ts(t,a)&&(i=i.rt(a.key,a)):s.done()}})).next((function(){return i}))},e.prototype._o=function(e){return new ou(this,!!e&&e.fo)},e.prototype.wo=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return su(e).get(wu.key).next((function(e){return _r(!!e),e}))},e.prototype.ro=function(e,t){return su(e).put(wu.key,t)},e.prototype.oo=function(e){if(e){var t=Ba(this.serializer,e);return t instanceof us&&t.version.isEqual(Rr.min())?null:t}return null},e}(),ou=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).To=t,r.fo=n,r.Eo=new Ar((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return i(t,e),t.prototype.bi=function(e){var t=this,n=[],r=0,i=new ri((function(e,t){return Cr(e.M(),t.M())}));return this.Ii.forEach((function(o,s){var a=t.Eo.get(o);if(s.gi){var u=za(t.To.serializer,s.gi,t.Ai(o));i=i.add(o.path.S());var l=lu(u);r+=l-a,n.push(t.To.Ri(e,o,u))}else if(r-=a,t.fo){var c=za(t.To.serializer,new us(o,Rr.min()),t.Ai(o));n.push(t.To.Ri(e,o,c))}else n.push(t.To.Vi(e,o))})),i.forEach((function(r){n.push(t.To.Fi.Kr(e,r))})),n.push(this.To.updateMetadata(e,r)),Ws.xn(n)},t.prototype.pi=function(e,t){var n=this;return this.To.ao(e,t).next((function(e){return null===e?(n.Eo.set(t,0),null):(n.Eo.set(t,e.size),e.gi)}))},t.prototype.vi=function(e,t){var n=this;return this.To.uo(e,t).next((function(e){var t=e.ho;return e.lo.forEach((function(e,t){n.Eo.set(e,t)})),t}))},t}(Ca);function su(e){return zu.qn(e,wu.store)}function au(e){return zu.qn(e,bu.store)}function uu(e){return e.path.O()}function lu(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw mr();t=e.noDocument}return JSON.stringify(t).length}var cu=function(){function e(){this.Io=new hu}return e.prototype.Kr=function(e,t){return this.Io.add(t),Ws.resolve()},e.prototype.ji=function(e,t){return Ws.resolve(this.Io.getEntries(t))},e}(),hu=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.C(),n=e.S(),r=this.index[t]||new ri(Lr.V),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.C(),n=e.S(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new ri(Lr.V)).O()},e}(),fu=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;_r(n<r&&n>=0&&r<=11);var o=new Ys("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(pu.store)}(e),function(e){e.createObjectStore(vu.store,{keyPath:vu.keyPath}),e.createObjectStore(yu.store,{keyPath:yu.keyPath,autoIncrement:!0}).createIndex(yu.userMutationsIndex,yu.userMutationsKeyPath,{unique:!0}),e.createObjectStore(gu.store)}(e),Tu(e),function(e){e.createObjectStore(bu.store)}(e));var s=Ws.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Cu.store),e.deleteObjectStore(ku.store),e.deleteObjectStore(Eu.store)}(e),Tu(e)),s=s.next((function(){return function(e){var t=e.store(Eu.store),n=new Eu(0,0,Rr.min().P(),0);return t.put(Eu.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(e,t){return t.store(yu.store).Xn().next((function(n){e.deleteObjectStore(yu.store),e.createObjectStore(yu.store,{keyPath:yu.keyPath,autoIncrement:!0}).createIndex(yu.userMutationsIndex,yu.userMutationsKeyPath,{unique:!0});var r=t.store(yu.store),i=n.map((function(e){return r.put(e)}));return Ws.xn(i)}))}(e,o)}))),s=s.next((function(){!function(e){e.createObjectStore(Iu.store,{keyPath:Iu.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(e){e.createObjectStore(wu.store)}(e),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(e,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(bu.store);t.createIndex(bu.readTimeIndex,bu.readTimeIndexPath,{unique:!1}),t.createIndex(bu.collectionReadTimeIndex,bu.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(e){e.createObjectStore(xu.store,{keyPath:xu.keyPath})}(e),function(e){e.createObjectStore(Au.store,{keyPath:Au.keyPath})}(e)}))),s},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(bu.store).ns((function(e,n){t+=lu(n)})).next((function(){var n=new wu(t);return e.store(wu.store).put(wu.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(vu.store),r=e.store(yu.store);return n.Xn().next((function(n){return Ws.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Xn(yu.userMutationsIndex,i).next((function(r){return Ws.forEach(r,(function(r){_r(r.userId===n.userId);var i=Qa(t.serializer,r);return eu(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(Cu.store),n=e.store(bu.store);return e.store(Eu.store).get(Eu.key).next((function(e){var r=[];return n.ns((function(n,i){var o=new Lr(n),s=function(e){return[0,Va(e)]}(o);r.push(t.get(s).next((function(n){return n?Ws.resolve():function(n){return t.put(new Cu(0,Va(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Ws.xn(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(Su.store,{keyPath:Su.keyPath});var n=t.store(Su.store),r=new hu,i=function(e){if(r.add(e)){var t=e.C(),i=e.S();return n.put({collectionId:t,parent:Va(i)})}};return t.store(bu.store).ns({es:!0},(function(e,t){var n=new Lr(e);return i(n.S())})).next((function(){return t.store(gu.store).ns({es:!0},(function(e,t){var n=Ua(e[1]);return i(n.S())}))}))},e.prototype.rewriteCanonicalIds=function(e){var t=this,n=e.store(ku.store);return n.ns((function(e,r){var i=Za(r),o=$a(t.serializer,i);return n.put(o)}))},e}(),du=function(e,t){this.seconds=e,this.nanoseconds=t},pu=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};pu.store="owner",pu.key="owner";var vu=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};vu.store="mutationQueues",vu.keyPath="userId";var yu=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};yu.store="mutations",yu.keyPath="batchId",yu.userMutationsIndex="userMutationsIndex",yu.userMutationsKeyPath=["userId","batchId"];var gu=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Va(t)]},e.key=function(e,t,n){return[e,Va(t),n]},e}();gu.store="documentMutations",gu.PLACEHOLDER=new gu;var mu=function(e,t){this.path=e,this.readTime=t},_u=function(e,t){this.path=e,this.version=t},bu=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};bu.store="remoteDocuments",bu.readTimeIndex="readTimeIndex",bu.readTimeIndexPath="readTime",bu.collectionReadTimeIndex="collectionReadTimeIndex",bu.collectionReadTimeIndexPath=["parentPath","readTime"];var wu=function(e){this.byteSize=e};wu.store="remoteDocumentGlobal",wu.key="remoteDocumentGlobalKey";var ku=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};ku.store="targets",ku.keyPath="targetId",ku.queryTargetsIndexName="queryTargetsIndex",ku.queryTargetsKeyPath=["canonicalId","targetId"];var Cu=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Cu.store="targetDocuments",Cu.keyPath=["targetId","path"],Cu.documentTargetsIndex="documentTargetsIndex",Cu.documentTargetsKeyPath=["path","targetId"];var Eu=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Eu.key="targetGlobalKey",Eu.store="targetGlobal";var Su=function(e,t){this.collectionId=e,this.parent=t};function Tu(e){e.createObjectStore(Cu.store,{keyPath:Cu.keyPath}).createIndex(Cu.documentTargetsIndex,Cu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ku.store,{keyPath:ku.keyPath}).createIndex(ku.queryTargetsIndexName,ku.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Eu.store)}Su.store="collectionParents",Su.keyPath=["collectionId","parent"];var Iu=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Iu.store="clientMetadata",Iu.keyPath="clientId";var xu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};xu.store="bundles",xu.keyPath="bundleId";var Au=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Au.store="namedQueries",Au.keyPath="name";var Ou=a(a(a(a([vu.store,yu.store,gu.store,bu.store,ku.store,pu.store,Eu.store,Cu.store],[Iu.store]),[wu.store]),[Su.store]),[xu.store,Au.store]),Pu=function(){function e(e){this.serializer=e}return e.prototype.mo=function(e,t){return Nu(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ka(t.createTime),version:t.version};var t}))},e.prototype.Ao=function(e,t){return Nu(e).put({bundleId:(n=t).id,createTime:Wa(eo(n.createTime)),version:n.version});var n},e.prototype.Ro=function(e,t){return Ru(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ya(t.bundledQuery),readTime:Ka(t.readTime)};var t}))},e.prototype.Po=function(e,t){return Ru(e).put(function(e){return{name:e.name,readTime:Wa(eo(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Nu(e){return zu.qn(e,xu.store)}function Ru(e){return zu.qn(e,Au.store)}var Du=function(){function e(){this.Vo=new hu}return e.prototype.Kr=function(e,t){var n=this;if(!this.Vo.has(t)){var r=t.C(),i=t.S();e.Di((function(){n.Vo.add(t)}));var o={collectionId:r,parent:Va(i)};return Lu(e).put(o)}return Ws.resolve()},e.prototype.ji=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Sr(t),""],!1,!0);return Lu(e).Xn(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Ua(o.parent))}return n}))},e}();function Lu(e){return zu.qn(e,Su.store)}var Mu=function(){function e(e){this.yo=e}return e.prototype.next=function(){return this.yo+=2,this.yo},e.po=function(){return new e(0)},e.vo=function(){return new e(-1)},e}(),Vu=function(){function e(e,t){this.Lr=e,this.serializer=t}return e.prototype.bo=function(e){var t=this;return this.So(e).next((function(n){var r=new Mu(n.highestTargetId);return n.highestTargetId=r.next(),t.Do(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.Co=function(e){return this.So(e).next((function(e){return Rr.m(new Nr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.No=function(e){return this.So(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.xo=function(e,t,n){var r=this;return this.So(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.P()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Do(e,i)}))},e.prototype.Fo=function(e,t){var n=this;return this.Oo(e,t).next((function(){return n.So(e).next((function(r){return r.targetCount+=1,n.Mo(t,r),n.Do(e,r)}))}))},e.prototype.ko=function(e,t){return this.Oo(e,t)},e.prototype.$o=function(e,t){var n=this;return this.Lo(e,t.targetId).next((function(){return Fu(e).delete(t.targetId)})).next((function(){return n.So(e)})).next((function(t){return _r(t.targetCount>0),t.targetCount-=1,n.Do(e,t)}))},e.prototype.Nr=function(e,t,n){var r=this,i=0,o=[];return Fu(e).ns((function(s,a){var u=Za(a);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.$o(e,u)))})).next((function(){return Ws.xn(o)})).next((function(){return i}))},e.prototype.De=function(e,t){return Fu(e).ns((function(e,n){var r=Za(n);t(r)}))},e.prototype.So=function(e){return ju(e).get(Eu.key).next((function(e){return _r(null!==e),e}))},e.prototype.Do=function(e,t){return ju(e).put(Eu.key,t)},e.prototype.Oo=function(e,t){return Fu(e).put($a(this.serializer,t))},e.prototype.Mo=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.Bo=function(e){return this.So(e).next((function(e){return e.targetCount}))},e.prototype.qo=function(e,t){var n=Hr(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Fu(e).ns({range:r,index:ku.queryTargetsIndexName},(function(e,n,r){var o=Za(n);Gr(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.Uo=function(e,t,n){var r=this,i=[],o=Uu(e);return t.forEach((function(t){var s=Va(t.path);i.push(o.put(new Cu(n,s))),i.push(r.Lr.Qo(e,n,t))})),Ws.xn(i)},e.prototype.Ko=function(e,t,n){var r=this,i=Uu(e);return Ws.forEach(t,(function(t){var o=Va(t.path);return Ws.xn([i.delete([n,o]),r.Lr.Wo(e,n,t)])}))},e.prototype.Lo=function(e,t){var n=Uu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.jo=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Uu(e),i=fi();return r.ns({range:n,es:!0},(function(e,t,n){var r=Ua(e[1]),o=new Fr(r);i=i.add(o)})).next((function(){return i}))},e.prototype.so=function(e,t){var n=Va(t.path),r=IDBKeyRange.bound([n],[Sr(n)],!1,!0),i=0;return Uu(e).ns({index:Cu.documentTargetsIndex,es:!0,range:r},(function(e,t,n){0!==e[0]&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.qe=function(e,t){return Fu(e).get(t).next((function(e){return e?Za(e):null}))},e}();function Fu(e){return zu.qn(e,ku.store)}function ju(e){return zu.qn(e,Eu.store)}function Uu(e){return zu.qn(e,Cu.store)}var qu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Bu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Xr=t,r.Go=n,r}return i(t,e),t}(Ia),zu=function(){function e(t,n,r,i,o,s,a,u,l,c){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ln=o,this.window=s,this.document=a,this.zo=l,this.Ho=c,this.Jo=null,this.Yo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Xo=null,this.inForeground=!1,this.Zo=null,this.ta=null,this.ea=Number.NEGATIVE_INFINITY,this.na=function(e){return Promise.resolve()},!e.kn())throw new Pr(Or.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Lr=new Wu(this,i),this.sa=n+"main",this.serializer=new qa(u),this.ia=new Ks(this.sa,11,new fu(this.serializer)),this.ra=new Vu(this.Lr,this.serializer),this.Fi=new Du,this.Ni=function(e,t){return new iu(e,t)}(this.serializer,this.Fi),this.oa=new Pu(this.serializer),this.window&&this.window.localStorage?this.aa=this.window.localStorage:(this.aa=null,!1===c&&vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.qn=function(e,t){if(e instanceof Bu)return Ks.qn(e.Xr,t);throw mr()},e.prototype.start=function(){var e=this;return this.ca().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Pr(Or.FAILED_PRECONDITION,qu);return e.ua(),e.ha(),e.la(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ra.No(t)}))})).then((function(t){e.Jo=new Oa(t,e.zo)})).then((function(){e.Yo=!0})).catch((function(t){return e.ia&&e.ia.close(),Promise.reject(t)}))},e.prototype._a=function(e){var t=this;return this.na=function(n){return o(t,void 0,void 0,(function(){return s(this,(function(t){return this.yr?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.fa=function(e){var t=this;this.ia.Kn((function(n){return o(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.da=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ln.fs((function(){return o(t,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this.yr?[4,this.ca()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.ca=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Gu(t).put(new Iu(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.wa(t).next((function(t){t||(e.isPrimary=!1,e.ln.Ss((function(){return e.na(!1)})))}))})).next((function(){return e.Ta(t)})).next((function(n){return e.isPrimary&&!n?e.Ea(t).next((function(){return!1})):!!n&&e.Ia(t).next((function(){return!0}))}))})).catch((function(t){if($s(t))return pr("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return pr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ln.Ss((function(){return e.na(t)})),e.isPrimary=t}))},e.prototype.wa=function(e){var t=this;return Hu(e).get(pu.key).next((function(e){return Ws.resolve(t.ma(e))}))},e.prototype.Aa=function(e){return Gu(e).delete(this.clientId)},e.prototype.Ra=function(){return o(this,void 0,void 0,(function(){var t,n,r,i=this;return s(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.Pa(this.ea,18e5)?[3,2]:(this.ea=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var n=e.qn(t,Iu.store);return n.Xn().next((function(e){var t=i.ga(e,18e5),r=e.filter((function(e){return-1===t.indexOf(e)}));return Ws.forEach(r,(function(e){return n.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.aa)for(n=0,r=t;n<r.length;n++)this.aa.removeItem(this.Va(r[n].clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.la=function(){var e=this;this.ta=this.ln.Pn("client_metadata_refresh",4e3,(function(){return e.ca().then((function(){return e.Ra()})).then((function(){return e.la()}))}))},e.prototype.ma=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ta=function(e){var t=this;return this.Ho?Ws.resolve(!0):Hu(e).get(pu.key).next((function(n){if(null!==n&&t.Pa(n.leaseTimestampMs,5e3)&&!t.ya(n.ownerId)){if(t.ma(n)&&t.networkEnabled)return!0;if(!t.ma(n)){if(!n.allowTabSynchronization)throw new Pr(Or.FAILED_PRECONDITION,qu);return!1}}return!(!t.networkEnabled||!t.inForeground)||Gu(e).Xn().next((function(e){return void 0===t.ga(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&pr("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.pa=function(){return o(this,void 0,void 0,(function(){var e=this;return s(this,(function(t){switch(t.label){case 0:return this.Yo=!1,this.va(),this.ta&&(this.ta.cancel(),this.ta=null),this.ba(),this.Sa(),[4,this.ia.runTransaction("shutdown","readwrite",[pu.store,Iu.store],(function(t){var n=new Bu(t,Oa.nr);return e.Ea(n).next((function(){return e.Aa(n)}))}))];case 1:return t.sent(),this.ia.close(),this.Da(),[2]}}))}))},e.prototype.ga=function(e,t){var n=this;return e.filter((function(e){return n.Pa(e.updateTimeMs,t)&&!n.ya(e.clientId)}))},e.prototype.Ca=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Gu(t).Xn().next((function(t){return e.ga(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"yr",{get:function(){return this.Yo},enumerable:!1,configurable:!0}),e.prototype.Na=function(e){return Xa.qr(e,this.serializer,this.Fi,this.Lr)},e.prototype.xa=function(){return this.ra},e.prototype.Fa=function(){return this.Ni},e.prototype.Oa=function(){return this.Fi},e.prototype.Ma=function(){return this.oa},e.prototype.runTransaction=function(e,t,n){var r,i=this;return pr("IndexedDbPersistence","Starting transaction:",e),this.ia.runTransaction(e,"readonly"===t?"readonly":"readwrite",Ou,(function(o){return r=new Bu(o,i.Jo?i.Jo.next():Oa.nr),"readwrite-primary"===t?i.wa(r).next((function(e){return!!e||i.Ta(r)})).next((function(t){if(!t)throw vr("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.ln.Ss((function(){return i.na(!1)})),new Pr(Or.FAILED_PRECONDITION,Ta);return n(r)})).next((function(e){return i.Ia(r).next((function(){return e}))})):i.ka(r).next((function(){return n(r)}))})).then((function(e){return r.Ci(),e}))},e.prototype.ka=function(e){var t=this;return Hu(e).get(pu.key).next((function(e){if(null!==e&&t.Pa(e.leaseTimestampMs,5e3)&&!t.ya(e.ownerId)&&!t.ma(e)&&!(t.Ho||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Pr(Or.FAILED_PRECONDITION,qu)}))},e.prototype.Ia=function(e){var t=new pu(this.clientId,this.allowTabSynchronization,Date.now());return Hu(e).put(pu.key,t)},e.kn=function(){return Ks.kn()},e.prototype.Ea=function(e){var t=this,n=Hu(e);return n.get(pu.key).next((function(e){return t.ma(e)?(pr("IndexedDbPersistence","Releasing primary lease."),n.delete(pu.key)):Ws.resolve()}))},e.prototype.Pa=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(vr("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.ua=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Zo=function(){e.ln.fs((function(){return e.inForeground="visible"===e.document.visibilityState,e.ca()}))},this.document.addEventListener("visibilitychange",this.Zo),this.inForeground="visible"===this.document.visibilityState)},e.prototype.ba=function(){this.Zo&&(this.document.removeEventListener("visibilitychange",this.Zo),this.Zo=null)},e.prototype.ha=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Xo=function(){t.va(),t.ln.fs((function(){return t.pa()}))},this.window.addEventListener("unload",this.Xo))},e.prototype.Sa=function(){this.Xo&&(this.window.removeEventListener("unload",this.Xo),this.Xo=null)},e.prototype.ya=function(e){var t;try{var n=null!==(null===(t=this.aa)||void 0===t?void 0:t.getItem(this.Va(e)));return pr("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return vr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.va=function(){if(this.aa)try{this.aa.setItem(this.Va(this.clientId),String(Date.now()))}catch(e){vr("Failed to set zombie client id.",e)}},e.prototype.Da=function(){if(this.aa)try{this.aa.removeItem(this.Va(this.clientId))}catch(e){}},e.prototype.Va=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Hu(e){return zu.qn(e,pu.store)}function Gu(e){return zu.qn(e,Iu.store)}var Wu=function(){function e(e,t){this.db=e,this.Rr=new Ma(this,t)}return e.prototype.Sr=function(e){var t=this.$a(e);return this.db.xa().Bo(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.$a=function(e){var t=0;return this.Cr(e,(function(e){t++})).next((function(){return t}))},e.prototype.De=function(e,t){return this.db.xa().De(e,t)},e.prototype.Cr=function(e,t){return this.La(e,(function(e,n){return t(n)}))},e.prototype.Qo=function(e,t,n){return Ku(e,n)},e.prototype.Wo=function(e,t,n){return Ku(e,n)},e.prototype.Nr=function(e,t,n){return this.db.xa().Nr(e,t,n)},e.prototype.eo=function(e,t){return Ku(e,t)},e.prototype.Ba=function(e,t){return function(e,t){var n=!1;return ru(e).ss((function(r){return Ja(e,r,t).next((function(e){return e&&(n=!0),Ws.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.Fr=function(e,t){var n=this,r=this.db.Fa()._o(),i=[],o=0;return this.La(e,(function(s,a){if(a<=t){var u=n.Ba(e,s).next((function(t){if(!t)return o++,r.yi(e,s).next((function(){return r.Vi(s),Uu(e).delete([0,Va(s.path)])}))}));i.push(u)}})).next((function(){return Ws.xn(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.nt(e.Go);return this.db.xa().ko(e,n)},e.prototype.qa=function(e,t){return Ku(e,t)},e.prototype.La=function(e,t){var n,r=Uu(e),i=Oa.nr;return r.ns({index:Cu.documentTargetsIndex},(function(e,r){var o=r.path,s=r.sequenceNumber;0===e[0]?(i!==Oa.nr&&t(new Fr(Ua(n)),i),i=s,n=o):i=Oa.nr})).next((function(){i!==Oa.nr&&t(new Fr(Ua(n)),i)}))},e.prototype.Mr=function(e){return this.db.Fa().wo(e)},e}();function Ku(e,t){return Uu(e).put(function(e,t){return new Cu(0,Va(e.path),t)}(t,e.Go))}function Qu(e,t){var n=e.projectId;return e.o||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Zu=function(){function e(e,t,n,r){this.persistence=e,this.Ua=t,this.serializer=r,this.Qa=new ei(Cr),this.Ka=new Ar((function(e){return Hr(e)}),Gr),this.Wa=Rr.min(),this.xi=e.Na(n),this.ja=e.Fa(),this.ra=e.xa(),this.Ga=new xa(this.ja,this.xi,this.persistence.Oa()),this.oa=e.Ma(),this.Ua.za(this.Ga)}return e.prototype.pr=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.Or(n,t.Qa)}))},e}();function $u(e,t,n,r){return new Zu(e,t,n,r)}function Yu(e,t){return o(this,void 0,void 0,(function(){var n,r,i,o;return s(this,(function(s){switch(s.label){case 0:return n=br(e),r=n.xi,i=n.Ga,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n.xi.Hr(e).next((function(s){return o=s,r=n.persistence.Na(t),i=new xa(n.ja,r,n.persistence.Oa()),r.Hr(e)})).next((function(t){for(var n=[],r=[],s=fi(),a=0,u=o;a<u.length;a++){var l=u[a];n.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++)s=s.add(h[c].key)}for(var f=0,d=t;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)s=s.add(y[v].key)}return i.Li(e,s).next((function(e){return{Ha:e,Ja:n,Ya:r}}))}))}))];case 1:return o=s.sent(),[2,(n.xi=r,n.Ga=i,n.Ua.za(n.Ga),o)]}}))}))}function Xu(e,t){var n=br(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ja._o({fo:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),s=Ws.resolve();return o.forEach((function(e){s=s.next((function(){return r.yi(t,e)})).next((function(t){var o=t,s=n.Ei.get(e);_r(null!==s),(!o||o.version.A(s)<0)&&(o=i._i(e,o,n))&&r.Ri(o,n.Ti)}))})),s.next((function(){return e.xi.Yr(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.xi.no(e)})).next((function(){return n.Ga.Li(e,r)}))}))}function Ju(e){var t=br(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ra.Co(e)}))}function el(e,t){var n=br(e),r=t.et,i=n.Qa;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.ja._o({fo:!0});i=n.Qa;var s=[];t.Gt.forEach((function(t,o){var a=i.get(o);if(a){s.push(n.ra.Ko(e,t.ne,o).next((function(){return n.ra.Uo(e,t.te,o)})));var u=t.resumeToken;if(u.X()>0){var l=a.st(u,r).nt(e.Go);i=i.rt(o,l),function(e,t,n){return _r(t.resumeToken.X()>0),0===e.resumeToken.X()||t.et.R()-e.et.R()>=3e8||n.te.size+n.ee.size+n.ne.size>0}(a,l,t)&&s.push(n.ra.ko(e,l))}}}));var a=si();if(t.Ht.forEach((function(r,i){t.Jt.has(r)&&s.push(n.persistence.Lr.qa(e,r))})),s.push(function(e,t,n,r,i){var o=fi();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var i=si();return n.forEach((function(n,o){var s=e.get(n),a=r;o instanceof us&&o.version.isEqual(Rr.min())?(t.Vi(n,a),i=i.rt(n,o)):null==s||o.version.A(s.version)>0||0===o.version.A(s.version)&&s.hasPendingWrites?(t.Ri(o,a),i=i.rt(n,o)):pr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),i}))}(e,o,t.Ht,r).next((function(e){a=e}))),!r.isEqual(Rr.min())){var u=n.ra.Co(e).next((function(t){return n.ra.xo(e,e.Go,r)}));s.push(u)}return Ws.xn(s).next((function(){return o.apply(e)})).next((function(){return n.Ga.Bi(e,a)}))})).then((function(e){return n.Qa=i,e}))}function tl(e,t){var n=br(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.xi.Gr(e,t)}))}function nl(e,t){var n=br(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ra.qo(e,t).next((function(i){return i?Ws.resolve(r=i):n.ra.bo(e).next((function(i){return r=new $r(t,i,0,e.Go),n.ra.Fo(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Qa.get(e.targetId);return(null===r||e.et.A(r.et)>0)&&(n.Qa=n.Qa.rt(e.targetId,e),n.Ka.set(t,e.targetId)),e}))}function rl(e,t,n){return o(this,void 0,void 0,(function(){var r,i,o,a;return s(this,(function(s){switch(s.label){case 0:r=br(e),i=r.Qa.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.Lr.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!$s(a=s.sent()))throw a;return pr("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Qa=r.Qa.remove(t),r.Ka.delete(i.target),[2]}}))}))}function il(e,t,n){var r=br(e),i=Rr.min(),o=fi();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=br(e),i=r.Ka.get(n);return void 0!==i?Ws.resolve(r.Qa.get(i)):r.ra.qo(t,n)}(r,e,_s(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ra.jo(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Ua.Ui(e,t,n?i:Rr.min(),n?o:fi())})).next((function(e){return{documents:e,Xa:o}}))}))}function ol(e,t){var n=br(e),r=br(n.ra),i=n.Qa.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.qe(e,t).next((function(e){return e?e.target:null}))}))}function sl(e){var t=br(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=br(e),i=si(),o=Ha(n),s=au(t),a=IDBKeyRange.lowerBound(o,!0);return s.ns({index:bu.readTimeIndex,range:a},(function(e,t){var n=Ba(r.serializer,t);i=i.rt(n.key,n),o=t.readTime})).next((function(){return{Za:i,readTime:Ga(o)}}))}(t.ja,e,t.Wa)})).then((function(e){var n=e.Za;return t.Wa=e.readTime,n}))}function al(e){return o(this,void 0,void 0,(function(){var t;return s(this,(function(n){return[2,(t=br(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=au(e),n=Rr.min();return t.ns({index:bu.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Ga(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.Wa=e}))]}))}))}function ul(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){if(e.code!==Or.FAILED_PRECONDITION||e.message!==Ta)throw e;return pr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var ll=function(){function e(e,t,n,r,i,o){this.ln=e,this.tc=n,this.ec=r,this.nc=i,this.listener=o,this.state=0,this.sc=0,this.ic=null,this.stream=null,this.Ps=new Gs(e,t)}return e.prototype.rc=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.oc=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.ac()},e.prototype.stop=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this.rc()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.cc=function(){this.state=0,this.Ps.reset()},e.prototype.uc=function(){var e=this;this.oc()&&null===this.ic&&(this.ic=this.ln.Pn(this.tc,6e4,(function(){return e.hc()})))},e.prototype.lc=function(e){this._c(),this.stream.send(e)},e.prototype.hc=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){return this.oc()?[2,this.close(0)]:[2]}))}))},e.prototype._c=function(){this.ic&&(this.ic.cancel(),this.ic=null)},e.prototype.close=function(e,t){return o(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return this._c(),this.Ps.cancel(),this.sc++,3!==e?this.Ps.reset():t&&t.code===Or.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.Ps.mn()):t&&t.code===Or.UNAUTHENTICATED&&this.nc.ni(),null!==this.stream&&(this.fc(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.dc(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.fc=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.wc(this.sc),n=this.sc;this.nc.getToken().then((function(t){e.sc===n&&e.Tc(t)}),(function(n){t((function(){var t=new Pr(Or.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ec(t)}))}))},e.prototype.Tc=function(e){var t=this,n=this.wc(this.sc);this.stream=this.Ic(e),this.stream.mc((function(){n((function(){return t.state=2,t.listener.mc()}))})),this.stream.dc((function(e){n((function(){return t.Ec(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.ac=function(){var e=this;this.state=4,this.Ps.An((function(){return o(e,void 0,void 0,(function(){return s(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.Ec=function(e){return pr("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.wc=function(e){var t=this;return function(n){t.ln.fs((function(){return t.sc===e?n():(pr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),cl=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return i(t,e),t.prototype.Ic=function(e){return this.ec.Ac("Listen",e)},t.prototype.onMessage=function(e){this.Ps.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:mr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.Ue?(_r(void 0===t||"string"==typeof t),Kr.fromBase64String(t||"")):(_r(void 0===t||t instanceof Uint8Array),Kr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){var t=void 0===e.code?Or.UNKNOWN:Jr(e.code);return new Pr(t,e.message||"")}(s);n=new ki(r,i,o,a||null)}else if("documentChange"in t){var u=t.documentChange,l=io(e,u.document.name),c=eo(u.document.updateTime),h=new rs({mapValue:{fields:u.document.fields}}),f=new as(l,c,h,{});n=new bi(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){var d=t.documentDelete,p=io(e,d.document),v=d.readTime?eo(d.readTime):Rr.min(),y=new us(p,v);n=new bi([],d.removedTargetIds||[],y.key,y)}else if("documentRemove"in t){var g=t.documentRemove,m=io(e,g.document);n=new bi([],g.removedTargetIds||[],m,null)}else{if(!("filter"in t))return mr();var _=t.filter,b=new Yr(_.count||0);n=new wi(_.targetId,b)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Rr.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Rr.min():t.readTime?eo(t.readTime):Rr.min()}(e);return this.listener.Rc(t,n)},t.prototype.Pc=function(e){var t={};t.database=ao(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=Wr(r)?{documents:fo(e,r)}:{query:po(e,r)}).targetId=t.targetId,t.resumeToken.X()>0?n.resumeToken=Xi(e,t.resumeToken):t.et.A(Rr.min())>0&&(n.readTime=Yi(e,t.et.P())),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mr()}}(0,t.tt);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.lc(t)},t.prototype.gc=function(e){var t={};t.database=ao(this.serializer),t.removeTarget=e,this.lc(t)},t}(ll),hl=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Vc=!1,s}return i(t,e),Object.defineProperty(t.prototype,"yc",{get:function(){return this.Vc},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.Vc=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.fc=function(){this.Vc&&this.vc([])},t.prototype.Ic=function(e){return this.ec.Ac("Write",e)},t.prototype.onMessage=function(e){if(_r(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vc){this.Ps.reset();var t=function(e,t){return e&&e.length>0?(_r(void 0!==t),e.map((function(e){return function(e,t){var n=eo(e.updateTime?e.updateTime:t);n.isEqual(Rr.min())&&(n=eo(t));var r=null;return e.transformResults&&e.transformResults.length>0&&(r=e.transformResults),new Uo(n,r)}(e,t)}))):[]}(e.writeResults,e.commitTime),n=eo(e.commitTime);return this.listener.bc(n,t)}return _r(!e.writeResults||0===e.writeResults.length),this.Vc=!0,this.listener.Sc()},t.prototype.Dc=function(){var e={};e.database=ao(this.serializer),this.lc(e)},t.prototype.vc=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return co(t.serializer,e)}))};this.lc(n)},t}(ll),fl=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.ec=n,i.serializer=r,i.Cc=!1,i}return i(t,e),t.prototype.Nc=function(){if(this.Cc)throw new Pr(Or.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.xc=function(e,t,n){var r=this;return this.Nc(),this.credentials.getToken().then((function(i){return r.ec.xc(e,t,n,i)})).catch((function(e){throw e.code===Or.UNAUTHENTICATED&&r.credentials.ni(),e}))},t.prototype.Fc=function(e,t,n){var r=this;return this.Nc(),this.credentials.getToken().then((function(i){return r.ec.Fc(e,t,n,i)})).catch((function(e){throw e.code===Or.UNAUTHENTICATED&&r.credentials.ni(),e}))},t.prototype.terminate=function(){this.Cc=!1},t}((function(){})),dl=function(){function e(e,t){this.rs=e,this.Oc=t,this.state="Unknown",this.Mc=0,this.kc=null,this.$c=!0}return e.prototype.Lc=function(){var e=this;0===this.Mc&&(this.Bc("Unknown"),this.kc=this.rs.Pn("online_state_timeout",1e4,(function(){return e.kc=null,e.qc("Backend didn't respond within 10 seconds."),e.Bc("Offline"),Promise.resolve()})))},e.prototype.Uc=function(e){"Online"===this.state?this.Bc("Unknown"):(this.Mc++,this.Mc>=1&&(this.Qc(),this.qc("Connection failed 1 times. Most recent error: "+e.toString()),this.Bc("Offline")))},e.prototype.set=function(e){this.Qc(),this.Mc=0,"Online"===e&&(this.$c=!1),this.Bc(e)},e.prototype.Bc=function(e){e!==this.state&&(this.state=e,this.Oc(e))},e.prototype.qc=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.$c?(vr(t),this.$c=!1):pr("OnlineStateTracker",t)},e.prototype.Qc=function(){null!==this.kc&&(this.kc.cancel(),this.kc=null)},e}(),pl=function(e,t,n,r,i){var a=this;this.Kc=e,this.Wc=t,this.rs=n,this.jc={},this.Gc=[],this.zc=new Map,this.Hc=new Set,this.Jc=[],this.Yc=i,this.Yc.Xc((function(e){n.fs((function(){return o(a,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return Cl(this)?(pr("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return o(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return(t=br(e)).Hc.add(4),[4,yl(t)];case 1:return n.sent(),t.Zc.set("Unknown"),t.Hc.delete(4),[4,vl(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Zc=new dl(n,r)};function vl(e){return o(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:if(!Cl(e))return[3,4];t=0,n=e.Jc,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function yl(e){return o(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:t=0,n=e.Jc,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function gl(e,t){var n=br(e);n.zc.has(t.targetId)||(n.zc.set(t.targetId,t),kl(n)?wl(n):Fl(n).oc()&&_l(n,t))}function ml(e,t){var n=br(e),r=Fl(n);n.zc.delete(t),r.oc()&&bl(n,t),0===n.zc.size&&(r.oc()?r.uc():Cl(n)&&n.Zc.set("Unknown"))}function _l(e,t){e.tu.Ie(t.targetId),Fl(e).Pc(t)}function bl(e,t){e.tu.Ie(t),Fl(e).gc(t)}function wl(e){e.tu=new Ei({Be:function(t){return e.jc.Be(t)},qe:function(t){return e.zc.get(t)||null}}),Fl(e).start(),e.Zc.Lc()}function kl(e){return Cl(e)&&!Fl(e).rc()&&e.zc.size>0}function Cl(e){return 0===br(e).Hc.size}function El(e){e.tu=void 0}function Sl(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){return e.zc.forEach((function(t,n){_l(e,t)})),[2]}))}))}function Tl(e,t){return o(this,void 0,void 0,(function(){return s(this,(function(n){return El(e),kl(e)?(e.Zc.Uc(t),wl(e)):e.Zc.set("Unknown"),[2]}))}))}function Il(e,t,n){return o(this,void 0,void 0,(function(){var r,i,a;return s(this,(function(u){switch(u.label){case 0:if(e.Zc.set("Online"),!(t instanceof ki&&2===t.state&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(e,t){return o(this,void 0,void 0,(function(){var n,r,i,o;return s(this,(function(s){switch(s.label){case 0:n=t.cause,r=0,i=t.targetIds,s.label=1;case 1:return r<i.length?e.zc.has(o=i[r])?[4,e.jc.eu(o,n)]:[3,3]:[3,5];case 2:s.sent(),e.zc.delete(o),e.tu.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),pr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,xl(e,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof bi?e.tu.pe(t):t instanceof wi?e.tu.Fe(t):e.tu.Se(t),n.isEqual(Rr.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,Ju(e.Kc)];case 8:return i=u.sent(),n.A(i)>=0?[4,function(e,t){var n=e.tu.ke(t);return n.Gt.forEach((function(n,r){if(n.resumeToken.X()>0){var i=e.zc.get(r);i&&e.zc.set(r,i.st(n.resumeToken,t))}})),n.zt.forEach((function(t){var n=e.zc.get(t);if(n){e.zc.set(t,n.st(Kr.Z,n.et)),bl(e,t);var r=new $r(n.target,t,1,n.sequenceNumber);_l(e,r)}})),e.jc.nu(n)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return pr("RemoteStore","Failed to raise snapshot:",a=u.sent()),[4,xl(e,a)];case 12:return u.sent(),[3,13];case 13:return[2]}}))}))}function xl(e,t,n){return o(this,void 0,void 0,(function(){var r=this;return s(this,(function(i){switch(i.label){case 0:if(!$s(t))throw t;return e.Hc.add(1),[4,yl(e)];case 1:return i.sent(),e.Zc.set("Offline"),n||(n=function(){return Ju(e.Kc)}),e.rs.Ss((function(){return o(r,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return pr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Hc.delete(1),[4,vl(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Al(e,t){return t().catch((function(n){return xl(e,n,t)}))}function Ol(e){return o(this,void 0,void 0,(function(){var t,n,r,i,o;return s(this,(function(s){switch(s.label){case 0:t=br(e),n=jl(t),r=t.Gc.length>0?t.Gc[t.Gc.length-1].batchId:-1,s.label=1;case 1:if(!function(e){return Cl(e)&&e.Gc.length<10}(t))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,tl(t.Kc,r)];case 3:return null===(i=s.sent())?(0===t.Gc.length&&n.uc(),[3,7]):(r=i.batchId,function(e,t){e.Gc.push(t);var n=jl(e);n.oc()&&n.yc&&n.vc(t.mutations)}(t,i),[3,6]);case 4:return o=s.sent(),[4,xl(t,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Pl(t)&&Nl(t),[2]}}))}))}function Pl(e){return Cl(e)&&!jl(e).rc()&&e.Gc.length>0}function Nl(e){jl(e).start()}function Rl(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){return jl(e).Dc(),[2]}))}))}function Dl(e){return o(this,void 0,void 0,(function(){var t,n,r;return s(this,(function(i){for(t=jl(e),n=0,r=e.Gc;n<r.length;n++)t.vc(r[n].mutations);return[2]}))}))}function Ll(e,t,n){return o(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:return r=e.Gc.shift(),i=ka.from(r,t,n),[4,Al(e,(function(){return e.jc.su(i)}))];case 1:return o.sent(),[4,Ol(e)];case 2:return o.sent(),[2]}}))}))}function Ml(e,t){return o(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return t&&jl(e).yc?[4,function(e,t){return o(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return Xr(r=t.code)&&r!==Or.ABORTED?(n=e.Gc.shift(),jl(e).cc(),[4,Al(e,(function(){return e.jc.iu(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Ol(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Pl(e)&&Nl(e),[2]}}))}))}function Vl(e,t){return o(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return n=br(e),t?(n.Hc.delete(2),[4,vl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Hc.add(2),[4,yl(n)]);case 3:r.sent(),n.Zc.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Fl(e){var t=this;return e.ru||(e.ru=function(e,t,n){var r=br(e);return r.Nc(),new cl(t,r.ec,r.credentials,r.serializer,n)}(e.Wc,e.rs,{mc:Sl.bind(null,e),dc:Tl.bind(null,e),Rc:Il.bind(null,e)}),e.Jc.push((function(n){return o(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return n?(e.ru.cc(),kl(e)?wl(e):e.Zc.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.ru.stop()];case 2:t.sent(),El(e),t.label=3;case 3:return[2]}}))}))}))),e.ru}function jl(e){var t=this;return e.ou||(e.ou=function(e,t,n){var r=br(e);return r.Nc(),new hl(t,r.ec,r.credentials,r.serializer,n)}(e.Wc,e.rs,{mc:Rl.bind(null,e),dc:Ml.bind(null,e),Sc:Dl.bind(null,e),bc:Ll.bind(null,e)}),e.Jc.push((function(n){return o(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return n?(e.ou.cc(),[4,Ol(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.ou.stop()];case 3:t.sent(),e.Gc.length>0&&(pr("RemoteStore","Stopping write stream with "+e.Gc.length+" pending writes"),e.Gc=[]),t.label=4;case 4:return[2]}}))}))}))),e.ou}var Ul=function(){function e(){this.au=new ri(ql.cu),this.uu=new ri(ql.hu)}return e.prototype.T=function(){return this.au.T()},e.prototype.Qo=function(e,t){var n=new ql(e,t);this.au=this.au.add(n),this.uu=this.uu.add(n)},e.prototype.lu=function(e,t){var n=this;e.forEach((function(e){return n.Qo(e,t)}))},e.prototype.Wo=function(e,t){this._u(new ql(e,t))},e.prototype.fu=function(e,t){var n=this;e.forEach((function(e){return n.Wo(e,t)}))},e.prototype.du=function(e){var t=this,n=new Fr(new Lr([])),r=new ql(n,e),i=new ql(n,e+1),o=[];return this.uu.Nt([r,i],(function(e){t._u(e),o.push(e.key)})),o},e.prototype.wu=function(){var e=this;this.au.forEach((function(t){return e._u(t)}))},e.prototype._u=function(e){this.au=this.au.delete(e),this.uu=this.uu.delete(e)},e.prototype.Tu=function(e){var t=new Fr(new Lr([])),n=new ql(t,e),r=new ql(t,e+1),i=fi();return this.uu.Nt([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.so=function(e){var t=new ql(e,0),n=this.au.Ft(t);return null!==n&&e.isEqual(n.key)},e}(),ql=function(){function e(e,t){this.key=e,this.Eu=t}return e.cu=function(e,t){return Fr.V(e.key,t.key)||Cr(e.Eu,t.Eu)},e.hu=function(e,t){return Cr(e.Eu,t.Eu)||Fr.V(e.key,t.key)},e}();function Bl(e,t){return"firestore_clients_"+e+"_"+t}function zl(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.Js()&&(r+="_"+t.uid),r}function Hl(e,t){return"firestore_targets_"+e+"_"+t}var Gl=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Iu=function(t,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Pr(i.error.code,i.error.message)),o?new e(t,n,i.state,s):(vr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.mu=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Wl=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Iu=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Pr(r.error.code,r.error.message)),i?new e(t,r.state,o):(vr("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.mu=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Kl=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Iu=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=pi(),s=0;i&&s<r.activeTargetIds.length;++s)i=qr(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(vr("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Ql=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Iu=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(vr("SharedClientState","Failed to parse online state: "+t),null)},e}(),Zl=function(){function e(){this.activeTargetIds=pi()}return e.prototype.Au=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Ru=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.mu=function(){var e={activeTargetIds:this.activeTargetIds.O(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),$l=function(){function e(e,t,n,r,i){this.window=e,this.ln=t,this.persistenceKey=n,this.Pu=r,this.gu=null,this.Oc=null,this.Xi=null,this.Vu=this.yu.bind(this),this.pu=new ei(Cr),this.yr=!1,this.vu=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.bu=Bl(this.persistenceKey,this.Pu),this.Su=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.pu=this.pu.rt(this.Pu,new Zl),this.Du=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Cu=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Nu=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.xu=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Fu=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.Vu)}return e.kn=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,u,l,c,h=this;return s(this,(function(s){switch(s.label){case 0:return[4,this.gu.Ca()];case 1:for(e=s.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Pu&&(i=this.getItem(Bl(this.persistenceKey,r)))&&(o=Kl.Iu(r,i))&&(this.pu=this.pu.rt(o.clientId,o));for(this.Ou(),(a=this.storage.getItem(this.xu))&&(u=this.Mu(a))&&this.ku(u),l=0,c=this.vu;l<c.length;l++)this.yu(c[l]);return this.vu=[],this.window.addEventListener("unload",(function(){return h.pa()})),this.yr=!0,[2]}}))}))},e.prototype.er=function(e){this.setItem(this.Su,JSON.stringify(e))},e.prototype.$u=function(){return this.Lu(this.pu)},e.prototype.Bu=function(e){var t=!1;return this.pu.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.qu=function(e){this.Uu(e,"pending")},e.prototype.Qu=function(e,t,n){this.Uu(e,t,n),this.Ku(e)},e.prototype.Wu=function(e){var t="not-current";if(this.Bu(e)){var n=this.storage.getItem(Hl(this.persistenceKey,e));if(n){var r=Wl.Iu(e,n);r&&(t=r.state)}}return this.ju.Au(e),this.Ou(),t},e.prototype.Gu=function(e){this.ju.Ru(e),this.Ou()},e.prototype.zu=function(e){return this.ju.activeTargetIds.has(e)},e.prototype.Hu=function(e){this.removeItem(Hl(this.persistenceKey,e))},e.prototype.Ju=function(e,t,n){this.Yu(e,t,n)},e.prototype.Xu=function(e,t,n){var r=this;t.forEach((function(e){r.Ku(e)})),this.currentUser=e,n.forEach((function(e){r.qu(e)}))},e.prototype.Zu=function(e){this.th(e)},e.prototype.eh=function(){this.nh()},e.prototype.pa=function(){this.yr&&(this.window.removeEventListener("storage",this.Vu),this.removeItem(this.bu),this.yr=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return pr("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){pr("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){pr("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.yu=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(pr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.bu)return void vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ln.Ss((function(){return o(t,void 0,void 0,(function(){var e,t,r,i,o,a;return s(this,(function(s){if(this.yr){if(null!==n.key)if(this.Du.test(n.key)){if(null==n.newValue)return e=this.sh(n.key),[2,this.ih(e,null)];if(t=this.rh(n.key,n.newValue))return[2,this.ih(t.clientId,t)]}else if(this.Cu.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.ah(r)]}else if(this.Nu.test(n.key)){if(null!==n.newValue&&(i=this.uh(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xu){if(null!==n.newValue&&(o=this.Mu(n.newValue)))return[2,this.ku(o)]}else if(n.key===this.Su)(a=function(e){var t=Oa.nr;if(null!=e)try{var n=JSON.parse(e);_r("number"==typeof n),t=n}catch(e){vr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Oa.nr&&this.Xi(a);else if(n.key===this.Fu)return[2,this.gu.lh()]}else this.vu.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"ju",{get:function(){return this.pu.get(this.Pu)},enumerable:!1,configurable:!0}),e.prototype.Ou=function(){this.setItem(this.bu,this.ju.mu())},e.prototype.Uu=function(e,t,n){var r=new Gl(this.currentUser,e,t,n),i=zl(this.persistenceKey,this.currentUser,e);this.setItem(i,r.mu())},e.prototype.Ku=function(e){var t=zl(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.th=function(e){this.storage.setItem(this.xu,JSON.stringify({clientId:this.Pu,onlineState:e}))},e.prototype.Yu=function(e,t,n){var r=Hl(this.persistenceKey,e),i=new Wl(e,t,n);this.setItem(r,i.mu())},e.prototype.nh=function(){this.setItem(this.Fu,"value-not-used")},e.prototype.sh=function(e){var t=this.Du.exec(e);return t?t[1]:null},e.prototype.rh=function(e,t){var n=this.sh(e);return Kl.Iu(n,t)},e.prototype.oh=function(e,t){var n=this.Cu.exec(e),r=Number(n[1]);return Gl.Iu(new va(void 0!==n[2]?n[2]:null),r,t)},e.prototype.uh=function(e,t){var n=this.Nu.exec(e),r=Number(n[1]);return Wl.Iu(r,t)},e.prototype.Mu=function(e){return Ql.Iu(e)},e.prototype.ah=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.gu._h(e.batchId,e.state,e.error)]:(pr("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.hh=function(e){return this.gu.fh(e.targetId,e.state,e.error)},e.prototype.ih=function(e,t){var n=this,r=t?this.pu.rt(e,t):this.pu.remove(e),i=this.Lu(this.pu),o=this.Lu(r),s=[],a=[];return o.forEach((function(e){i.has(e)||s.push(e)})),i.forEach((function(e){o.has(e)||a.push(e)})),this.gu.dh(s,a).then((function(){n.pu=r}))},e.prototype.ku=function(e){this.pu.get(e.clientId)&&this.Oc(e.onlineState)},e.prototype.Lu=function(e){var t=pi();return e.forEach((function(e,n){t=t.Ot(n.activeTargetIds)})),t},e}(),Yl=function(){function e(){this.wh=new Zl,this.Th={},this.Oc=null,this.Xi=null}return e.prototype.qu=function(e){},e.prototype.Qu=function(e,t,n){},e.prototype.Wu=function(e){return this.wh.Au(e),this.Th[e]||"not-current"},e.prototype.Ju=function(e,t,n){this.Th[e]=t},e.prototype.Gu=function(e){this.wh.Ru(e)},e.prototype.zu=function(e){return this.wh.activeTargetIds.has(e)},e.prototype.Hu=function(e){delete this.Th[e]},e.prototype.$u=function(){return this.wh.activeTargetIds},e.prototype.Bu=function(e){return this.wh.activeTargetIds.has(e)},e.prototype.start=function(){return this.wh=new Zl,Promise.resolve()},e.prototype.Xu=function(e,t,n){},e.prototype.Zu=function(e){},e.prototype.pa=function(){},e.prototype.er=function(e){},e.prototype.eh=function(){},e}(),Xl=function(e){this.key=e},Jl=function(e){this.key=e},ec=function(){function e(e,t){this.query=e,this.Eh=t,this.Ih=null,this.Zt=!1,this.mh=fi(),this.Qt=fi(),this.Ah=Is(e),this.Rh=new vi(this.Ah)}return Object.defineProperty(e.prototype,"Ph",{get:function(){return this.Eh},enumerable:!1,configurable:!0}),e.prototype.gh=function(e,t){var n=this,r=t?t.Vh:new yi,i=t?t.Rh:this.Rh,o=t?t.Qt:this.Qt,s=i,a=!1,u=ds(this.query)&&i.size===this.query.limit?i.last():null,l=ps(this.query)&&i.size===this.query.limit?i.first():null;if(e.ut((function(e,t){var c=i.get(e),h=t instanceof as?t:null;h&&(h=Ts(n.query,h)?h:null);var f=!!c&&n.Qt.has(c.key),d=!!h&&(h.Je||n.Qt.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yh(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ah(h,u)>0||l&&n.Ah(h,l)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(e):o.delete(e)):(s=s.delete(e),o=o.delete(e)))})),ds(this.query)||ps(this.query))for(;s.size>this.query.limit;){var c=ds(this.query)?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Rh:s,Vh:r,ph:a,Qt:o}},e.prototype.yh=function(e,t){return e.Je&&t.hasCommittedMutations&&!t.Je},e.prototype.bi=function(e,t,n){var r=this,i=this.Rh;this.Rh=e.Rh,this.Qt=e.Qt;var o=e.Vh.qt();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mr()}};return n(e)-n(t)}(e.type,t.type)||r.Ah(e.doc,t.doc)})),this.bh(n);var s=t?this.Sh():[],a=0===this.mh.size&&this.Zt?1:0,u=a!==this.Ih;return this.Ih=a,0!==o.length||u?{snapshot:new gi(this.query,e.Rh,i,o,e.Qt,0===a,u,!1),Dh:s}:{Dh:s}},e.prototype.Bs=function(e){return this.Zt&&"Offline"===e?(this.Zt=!1,this.bi({Rh:this.Rh,Vh:new yi,Qt:this.Qt,ph:!1},!1)):{Dh:[]}},e.prototype.Ch=function(e){return!this.Eh.has(e)&&!!this.Rh.has(e)&&!this.Rh.get(e).Je},e.prototype.bh=function(e){var t=this;e&&(e.te.forEach((function(e){return t.Eh=t.Eh.add(e)})),e.ee.forEach((function(e){})),e.ne.forEach((function(e){return t.Eh=t.Eh.delete(e)})),this.Zt=e.Zt)},e.prototype.Sh=function(){var e=this;if(!this.Zt)return[];var t=this.mh;this.mh=fi(),this.Rh.forEach((function(t){e.Ch(t.key)&&(e.mh=e.mh.add(t.key))}));var n=[];return t.forEach((function(t){e.mh.has(t)||n.push(new Jl(t))})),this.mh.forEach((function(e){t.has(e)||n.push(new Xl(e))})),n},e.prototype.Nh=function(e){this.Eh=e.Xa,this.mh=fi();var t=this.gh(e.documents);return this.bi(t,!0)},e.prototype.xh=function(){return gi.jt(this.query,this.Rh,this.Qt,0===this.Ih)},e}(),tc=function(e,t,n){this.query=e,this.targetId=t,this.view=n},nc=function(e){this.key=e,this.Fh=!1},rc=function(){function e(e,t,n,r,i,o){this.Kc=e,this.Oh=t,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=o,this.Lh={},this.Bh=new Ar((function(e){return Es(e)}),Cs),this.qh=new Map,this.Uh=[],this.Qh=new ei(Fr.V),this.Kh=new Map,this.Wh=new Ul,this.jh={},this.Gh=new Map,this.zh=Mu.vo(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(e.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),e}();function ic(e,t){return o(this,void 0,void 0,(function(){var n,r,i,o,a;return s(this,(function(s){switch(s.label){case 0:return n=Rc(e),(i=n.Bh.get(t))?(n.kh.Wu(i.targetId),r=i.view.xh(),[3,4]):[3,1];case 1:return[4,nl(n.Kc,_s(t))];case 2:return o=s.sent(),a=n.kh.Wu(o.targetId),[4,oc(n,t,o.targetId,"current"===a)];case 3:r=s.sent(),n.Jh&&gl(n.Oh,o),s.label=4;case 4:return[2,r]}}))}))}function oc(e,t,n,r){return o(this,void 0,void 0,(function(){var i,a,u,l,c,h;return s(this,(function(f){switch(f.label){case 0:return e.Yh=function(t,n,r){return function(e,t,n,r){return o(this,void 0,void 0,(function(){var i,o,a;return s(this,(function(s){switch(s.label){case 0:return(i=t.view.gh(n)).ph?[4,il(e.Kc,t.query,!1).then((function(e){return t.view.gh(e.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.Gt.get(t.targetId),a=t.view.bi(i,e.Jh,o),[2,(mc(e,t.targetId,a.Dh),a.snapshot)]}}))}))}(e,t,n,r)},[4,il(e.Kc,t,!0)];case 1:return i=f.sent(),a=new ec(t,i.Xa),u=a.gh(i.documents),l=_i.Xt(n,r&&"Offline"!==e.onlineState),c=a.bi(u,e.Jh,l),mc(e,n,c.Dh),h=new tc(t,n,a),[2,(e.Bh.set(t,h),e.qh.has(n)?e.qh.get(n).push(t):e.qh.set(n,[t]),c.snapshot)]}}))}))}function sc(e,t){return o(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:return n=br(e),r=n.Bh.get(t),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter((function(e){return!Cs(e,t)}))),void n.Bh.delete(t))]:n.Jh?(n.kh.Gu(r.targetId),n.kh.Bu(r.targetId)?[3,2]:[4,rl(n.Kc,r.targetId,!1).then((function(){n.kh.Hu(r.targetId),ml(n.Oh,r.targetId),yc(n,r.targetId)})).catch(ul)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return yc(n,r.targetId),[4,rl(n.Kc,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function ac(e,t,n){return o(this,void 0,void 0,(function(){var r,i,o,a;return s(this,(function(s){switch(s.label){case 0:r=Dc(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=br(e),i=Nr.now(),o=t.reduce((function(e,t){return e.add(t.key)}),fi());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Ga.Li(e,o).next((function(o){n=o;for(var s=[],a=0,u=t;a<u.length;a++){var l=u[a],c=Wo(l,n.get(l.key));null!=c&&s.push(new $o(l.key,c,os(c.proto.mapValue),qo.exists(!0)))}return r.xi.Qr(e,i,s,t)}))})).then((function(e){var t=e.wi(n);return{batchId:e.batchId,Ii:t}}))}(r.Kc,t)];case 2:return i=s.sent(),r.kh.qu(i.batchId),function(e,t,n){var r=e.jh[e.currentUser.Ys()];r||(r=new ei(Cr)),r=r.rt(t,n),e.jh[e.currentUser.Ys()]=r}(r,i.batchId,n),[4,wc(r,i.Ii)];case 3:return s.sent(),[4,Ol(r.Oh)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=sa(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function uc(e,t){return o(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:n=br(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,el(n.Kc,t)];case 2:return r=i.sent(),t.Gt.forEach((function(e,t){var r=n.Kh.get(t);r&&(_r(e.te.size+e.ee.size+e.ne.size<=1),e.te.size>0?r.Fh=!0:e.ee.size>0?_r(r.Fh):e.ne.size>0&&(_r(r.Fh),r.Fh=!1))})),[4,wc(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,ul(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function lc(e,t,n){var r=br(e);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach((function(e,n){var r=n.view.Bs(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=br(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Bs(t)&&(r=!0)})),r&&da(n)}(r.Mh,t),i.length&&r.Lh.Rc(i),r.onlineState=t,r.Jh&&r.kh.Zu(t)}}function cc(e,t,n){return o(this,void 0,void 0,(function(){var r,i,o,a,u,l;return s(this,(function(s){switch(s.label){case 0:return(r=br(e)).kh.Ju(t,"rejected",n),i=r.Kh.get(t),(o=i&&i.key)?(a=(a=new ei(Fr.V)).rt(o,new us(o,Rr.min())),u=fi().add(o),l=new mi(Rr.min(),new Map,new ri(Cr),a,u),[4,uc(r,l)]):[3,2];case 1:return s.sent(),r.Qh=r.Qh.remove(o),r.Kh.delete(t),bc(r),[3,4];case 2:return[4,rl(r.Kc,t,!1).then((function(){return yc(r,t,n)})).catch(ul)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}function hc(e,t){return o(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:n=br(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Xu(n.Kc,t)];case 2:return i=o.sent(),vc(n,r,null),pc(n,r),n.kh.Qu(r,"acknowledged"),[4,wc(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ul(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function fc(e,t,n){return o(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:r=br(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=br(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.xi.Wr(e,t).next((function(t){return _r(null!==t),r=t.keys(),n.xi.Yr(e,t)})).next((function(){return n.xi.no(e)})).next((function(){return n.Ga.Li(e,r)}))}))}(r.Kc,t)];case 2:return i=o.sent(),vc(r,t,n),pc(r,t),r.kh.Qu(t,"rejected",n),[4,wc(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ul(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function dc(e,t){return o(this,void 0,void 0,(function(){var n,r,i,o,a;return s(this,(function(s){switch(s.label){case 0:Cl((n=br(e)).Oh)||pr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=br(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.xi.zr(e)}))}(n.Kc)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Gh.get(r)||[]).push(t),n.Gh.set(r,i),[3,4]);case 3:return o=s.sent(),a=sa(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function pc(e,t){(e.Gh.get(t)||[]).forEach((function(e){e.resolve()})),e.Gh.delete(t)}function vc(e,t,n){var r=br(e),i=r.jh[r.currentUser.Ys()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.jh[r.currentUser.Ys()]=i}}function yc(e,t,n){void 0===n&&(n=null),e.kh.Gu(t);for(var r=0,i=e.qh.get(t);r<i.length;r++){var o=i[r];e.Bh.delete(o),n&&e.Lh.Xh(o,n)}e.qh.delete(t),e.Jh&&e.Wh.du(t).forEach((function(t){e.Wh.so(t)||gc(e,t)}))}function gc(e,t){var n=e.Qh.get(t);null!==n&&(ml(e.Oh,n),e.Qh=e.Qh.remove(t),e.Kh.delete(n),bc(e))}function mc(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Xl?(e.Wh.Qo(o.key,t),_c(e,o)):o instanceof Jl?(pr("SyncEngine","Document no longer in limbo: "+o.key),e.Wh.Wo(o.key,t),e.Wh.so(o.key)||gc(e,o.key)):mr()}}function _c(e,t){var n=t.key;e.Qh.get(n)||(pr("SyncEngine","New document in limbo: "+n),e.Uh.push(n),bc(e))}function bc(e){for(;e.Uh.length>0&&e.Qh.size<e.$h;){var t=e.Uh.shift(),n=e.zh.next();e.Kh.set(n,new nc(t)),e.Qh=e.Qh.rt(t,n),gl(e.Oh,new $r(_s(fs(t.path)),n,2,Oa.nr))}}function wc(e,t,n){return o(this,void 0,void 0,(function(){var r,i,a,u;return s(this,(function(l){switch(l.label){case 0:return r=br(e),i=[],a=[],u=[],r.Bh.T()?[3,3]:(r.Bh.forEach((function(e,o){u.push(r.Yh(o,t,n).then((function(e){if(e){r.Jh&&r.kh.Ju(o.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Aa.Yi(o.targetId,e);a.push(t)}})))})),[4,Promise.all(u)]);case 1:return l.sent(),r.Lh.Rc(i),[4,function(e,t){return o(this,void 0,void 0,(function(){var n,r,i,o,a,u,l,c;return s(this,(function(s){switch(s.label){case 0:n=br(e),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ws.forEach(t,(function(t){return Ws.forEach(t.Hi,(function(r){return n.persistence.Lr.Qo(e,t.targetId,r)})).next((function(){return Ws.forEach(t.Ji,(function(r){return n.persistence.Lr.Wo(e,t.targetId,r)}))}))}))}))];case 2:return s.sent(),[3,4];case 3:if(!$s(r=s.sent()))throw r;return pr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)u=(a=o[i]).targetId,a.fromCache||(l=n.Qa.get(u),c=l.it(l.et),n.Qa=n.Qa.rt(u,c));return[2]}}))}))}(r.Kc,a)];case 2:l.sent(),l.label=3;case 3:return[2]}}))}))}function kc(e,t){return o(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return(n=br(e)).currentUser.isEqual(t)?[3,3]:(pr("SyncEngine","User change. New user:",t.Ys()),[4,Yu(n.Kc,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Gh.forEach((function(e){e.forEach((function(e){e.reject(new Pr(Or.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Gh.clear()}(n),n.kh.Xu(t,r.Ja,r.Ya),[4,wc(n,r.Ha)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Cc(e,t){var n=br(e),r=n.Kh.get(t);if(r&&r.Fh)return fi().add(r.key);var i=fi(),o=n.qh.get(t);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Bh.get(a[s]);i=i.Ot(u.view.Ph)}return i}function Ec(e,t){return o(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:return[4,il((n=br(e)).Kc,t.query,!0)];case 1:return r=o.sent(),i=t.view.Nh(r),[2,(n.Jh&&mc(n,t.targetId,i.Dh),i)]}}))}))}function Sc(e){return o(this,void 0,void 0,(function(){var t;return s(this,(function(n){return[2,sl((t=br(e)).Kc).then((function(e){return wc(t,e)}))]}))}))}function Tc(e,t,n,r){return o(this,void 0,void 0,(function(){var i,o;return s(this,(function(s){switch(s.label){case 0:return[4,function(e,t){var n=br(e),r=br(n.xi);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jr(e,t).next((function(t){return t?n.Ga.Li(e,t):Ws.resolve(null)}))}))}((i=br(e)).Kc,t)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ol(i.Oh)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(vc(i,t,r||null),pc(i,t),function(e,t){br(br(e).xi).Zr(t)}(i.Kc,t)):mr(),s.label=4;case 4:return[4,wc(i,o)];case 5:return s.sent(),[3,7];case 6:pr("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}}))}))}function Ic(e,t){return o(this,void 0,void 0,(function(){var n,r,i,o,a,u,l;return s(this,(function(s){switch(s.label){case 0:return Rc(n=br(e)),Dc(n),!0!==t||!0===n.Hh?[3,3]:(r=n.kh.$u(),[4,xc(n,r.O())]);case 1:return i=s.sent(),n.Hh=!0,[4,Vl(n.Oh,!0)];case 2:for(s.sent(),o=0,a=i;o<a.length;o++)gl(n.Oh,a[o]);return[3,7];case 3:return!1!==t||!1===n.Hh?[3,7]:(u=[],l=Promise.resolve(),n.qh.forEach((function(e,t){n.kh.zu(t)?u.push(t):l=l.then((function(){return yc(n,t),rl(n.Kc,t,!0)})),ml(n.Oh,t)})),[4,l]);case 4:return s.sent(),[4,xc(n,u)];case 5:return s.sent(),function(e){var t=br(e);t.Kh.forEach((function(e,n){ml(t.Oh,n)})),t.Wh.wu(),t.Kh=new Map,t.Qh=new ei(Fr.V)}(n),n.Hh=!1,[4,Vl(n.Oh,!1)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))}function xc(e,t,n){return o(this,void 0,void 0,(function(){var n,r,i,o,a,u,l,c,h,f,d,p,v;return s(this,(function(s){switch(s.label){case 0:n=br(e),r=[],i=[],o=0,a=t,s.label=1;case 1:return o<a.length?(l=void 0,(c=n.qh.get(u=a[o]))&&0!==c.length?[4,nl(n.Kc,_s(c[0]))]:[3,7]):[3,13];case 2:l=s.sent(),h=0,f=c,s.label=3;case 3:return h<f.length?(d=n.Bh.get(f[h]),[4,Ec(n,d)]):[3,6];case 4:(p=s.sent()).snapshot&&i.push(p.snapshot),s.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,ol(n.Kc,u)];case 8:return v=s.sent(),[4,nl(n.Kc,v)];case 9:return l=s.sent(),[4,oc(n,Ac(v),u,!1)];case 10:s.sent(),s.label=11;case 11:r.push(l),s.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Lh.Rc(i),r)]}}))}))}function Ac(e){return hs(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Oc(e){var t=br(e);return br(br(t.Kc).persistence).Ca()}function Pc(e,t,n,r){return o(this,void 0,void 0,(function(){var i,o,a;return s(this,(function(s){switch(s.label){case 0:return(i=br(e)).Hh?(pr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,sl(i.Kc)];case 3:return o=s.sent(),a=mi.Yt(t,"current"===n),[4,wc(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,rl(i.Kc,t,!0)];case 6:return s.sent(),yc(i,t,r),[3,8];case 7:mr(),s.label=8;case 8:return[2]}}))}))}function Nc(e,t,n){return o(this,void 0,void 0,(function(){var r,i,o,a,u,l,c,h,f;return s(this,(function(d){switch(d.label){case 0:if(!(r=Rc(e)).Hh)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?r.qh.has(a=o[i])?(pr("SyncEngine","Adding an already active target "+a),[3,5]):[4,ol(r.Kc,a)]:[3,6];case 2:return u=d.sent(),[4,nl(r.Kc,u)];case 3:return l=d.sent(),[4,oc(r,Ac(u),l.targetId,!1)];case 4:d.sent(),gl(r.Oh,l),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return s(this,(function(t){switch(t.label){case 0:return r.qh.has(e)?[4,rl(r.Kc,e,!1).then((function(){ml(r.Oh,e),yc(r,e)})).catch(ul)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?[5,c(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Rc(e){var t=br(e);return t.Oh.jc.nu=uc.bind(null,t),t.Oh.jc.Be=Cc.bind(null,t),t.Oh.jc.eu=cc.bind(null,t),t.Lh.Rc=ha.bind(null,t.Mh),t.Lh.Xh=fa.bind(null,t.Mh),t}function Dc(e){var t=br(e);return t.Oh.jc.su=hc.bind(null,t),t.Oh.jc.iu=fc.bind(null,t),t}var Lc=function(){function e(){}return e.prototype.za=function(e){this.Zh=e},e.prototype.Ui=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.rn.length||1===e.rn.length&&e.rn[0].field.B())}(t)||n.isEqual(Rr.min())?this.tl(e,t):this.Zh.Li(e,r).next((function(o){var s=i.el(t,o);return(ds(t)||ps(t))&&i.ph(t.limitType,s,r,n)?i.tl(e,t):(dr()<=l.a.DEBUG&&pr("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ss(t)),i.Zh.Ui(e,t,n).next((function(e){return s.forEach((function(t){e=e.rt(t.key,t)})),e})))}))},e.prototype.el=function(e,t){var n=new ri(Is(e));return t.forEach((function(t,r){r instanceof as&&Ts(e,r)&&(n=n.add(r))})),n},e.prototype.ph=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.A(r)>0)},e.prototype.tl=function(e,t){return dr()<=l.a.DEBUG&&pr("IndexFreeQueryEngine","Using full collection scan to execute query:",Ss(t)),this.Zh.Ui(e,t,Rr.min())},e}(),Mc=function(){function e(e,t){this.Fi=e,this.Lr=t,this.xi=[],this.nl=1,this.sl=new ri(ql.cu)}return e.prototype.Ur=function(e){return Ws.resolve(0===this.xi.length)},e.prototype.Qr=function(e,t,n,r){var i=this.nl;this.nl++;var o=new wa(i,t,n,r);this.xi.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.sl=this.sl.add(new ql(u.key,i)),this.Fi.Kr(e,u.key.path.S())}return Ws.resolve(o)},e.prototype.Wr=function(e,t){return Ws.resolve(this.il(t))},e.prototype.Gr=function(e,t){var n=this.rl(t+1),r=n<0?0:n;return Ws.resolve(this.xi.length>r?this.xi[r]:null)},e.prototype.zr=function(){return Ws.resolve(0===this.xi.length?-1:this.nl-1)},e.prototype.Hr=function(e){return Ws.resolve(this.xi.slice())},e.prototype.Mi=function(e,t){var n=this,r=new ql(t,0),i=new ql(t,Number.POSITIVE_INFINITY),o=[];return this.sl.Nt([r,i],(function(e){var t=n.il(e.Eu);o.push(t)})),Ws.resolve(o)},e.prototype.qi=function(e,t){var n=this,r=new ri(Cr);return t.forEach((function(e){var t=new ql(e,0),i=new ql(e,Number.POSITIVE_INFINITY);n.sl.Nt([t,i],(function(e){r=r.add(e.Eu)}))})),Ws.resolve(this.ol(r))},e.prototype.Gi=function(e,t){var n=t.path,r=n.length+1,i=n;Fr.G(i)||(i=i.child(""));var o=new ql(new Fr(i),0),s=new ri(Cr);return this.sl.xt((function(e){var t=e.key.path;return!!n.N(t)&&(t.length===r&&(s=s.add(e.Eu)),!0)}),o),Ws.resolve(this.ol(s))},e.prototype.ol=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.il(e);null!==r&&n.push(r)})),n},e.prototype.Yr=function(e,t){var n=this;_r(0===this.al(t.batchId,"removed")),this.xi.shift();var r=this.sl;return Ws.forEach(t.mutations,(function(i){var o=new ql(i.key,t.batchId);return r=r.delete(o),n.Lr.eo(e,i.key)})).next((function(){n.sl=r}))},e.prototype.Zr=function(e){},e.prototype.so=function(e,t){var n=new ql(t,0),r=this.sl.Ft(n);return Ws.resolve(t.isEqual(r&&r.key))},e.prototype.no=function(e){return Ws.resolve()},e.prototype.al=function(e,t){return this.rl(e)},e.prototype.rl=function(e){return 0===this.xi.length?0:e-this.xi[0].batchId},e.prototype.il=function(e){var t=this.rl(e);return t<0||t>=this.xi.length?null:this.xi[t]},e}(),Vc=function(){function e(e,t){this.Fi=e,this.cl=t,this.docs=new ei(Fr.V),this.size=0}return e.prototype.Ri=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.cl(t);return this.docs=this.docs.rt(r,{gi:t,size:s,readTime:n}),this.size+=s-o,this.Fi.Kr(e,r.path.S())},e.prototype.Vi=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.yi=function(e,t){var n=this.docs.get(t);return Ws.resolve(n?n.gi:null)},e.prototype.getEntries=function(e,t){var n=this,r=ai();return t.forEach((function(e){var t=n.docs.get(e);r=r.rt(e,t?t.gi:null)})),Ws.resolve(r)},e.prototype.Ui=function(e,t,n){for(var r=li(),i=new Fr(t.path.child("")),o=this.docs._t(i);o.It();){var s=o.Et(),a=s.value,u=a.gi,l=a.readTime;if(!t.path.N(s.key.path))break;l.A(n)<=0||u instanceof as&&Ts(t,u)&&(r=r.rt(u.key,u))}return Ws.resolve(r)},e.prototype.ul=function(e,t){return Ws.forEach(this.docs,(function(e){return t(e)}))},e.prototype._o=function(e){return new Fc(this)},e.prototype.wo=function(e){return Ws.resolve(this.size)},e}(),Fc=function(e){function t(t){var n=this;return(n=e.call(this)||this).To=t,n}return i(t,e),t.prototype.bi=function(e){var t=this,n=[];return this.Ii.forEach((function(r,i){i&&i.gi?n.push(t.To.Ri(e,i.gi,t.Ai(r))):t.To.Vi(r)})),Ws.xn(n)},t.prototype.pi=function(e,t){return this.To.yi(e,t)},t.prototype.vi=function(e,t){return this.To.getEntries(e,t)},t}(Ca),jc=function(){function e(e){this.persistence=e,this.hl=new Ar((function(e){return Hr(e)}),Gr),this.lastRemoteSnapshotVersion=Rr.min(),this.highestTargetId=0,this.ll=0,this._l=new Ul,this.targetCount=0,this.fl=Mu.po()}return e.prototype.De=function(e,t){return this.hl.forEach((function(e,n){return t(n)})),Ws.resolve()},e.prototype.Co=function(e){return Ws.resolve(this.lastRemoteSnapshotVersion)},e.prototype.No=function(e){return Ws.resolve(this.ll)},e.prototype.bo=function(e){return this.highestTargetId=this.fl.next(),Ws.resolve(this.highestTargetId)},e.prototype.xo=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ll&&(this.ll=t),Ws.resolve()},e.prototype.Oo=function(e){this.hl.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.fl=new Mu(t),this.highestTargetId=t),e.sequenceNumber>this.ll&&(this.ll=e.sequenceNumber)},e.prototype.Fo=function(e,t){return this.Oo(t),this.targetCount+=1,Ws.resolve()},e.prototype.ko=function(e,t){return this.Oo(t),Ws.resolve()},e.prototype.$o=function(e,t){return this.hl.delete(t.target),this._l.du(t.targetId),this.targetCount-=1,Ws.resolve()},e.prototype.Nr=function(e,t,n){var r=this,i=0,o=[];return this.hl.forEach((function(s,a){a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r.hl.delete(s),o.push(r.Lo(e,a.targetId)),i++)})),Ws.xn(o).next((function(){return i}))},e.prototype.Bo=function(e){return Ws.resolve(this.targetCount)},e.prototype.qo=function(e,t){var n=this.hl.get(t)||null;return Ws.resolve(n)},e.prototype.Uo=function(e,t,n){return this._l.lu(t,n),Ws.resolve()},e.prototype.Ko=function(e,t,n){this._l.fu(t,n);var r=this.persistence.Lr,i=[];return r&&t.forEach((function(t){i.push(r.eo(e,t))})),Ws.xn(i)},e.prototype.Lo=function(e,t){return this._l.du(t),Ws.resolve()},e.prototype.jo=function(e,t){var n=this._l.Tu(t);return Ws.resolve(n)},e.prototype.so=function(e,t){return Ws.resolve(this._l.so(t))},e}(),Uc=function(){function e(e){this.serializer=e,this.dl=new Map,this.wl=new Map}return e.prototype.mo=function(e,t){return Ws.resolve(this.dl.get(t))},e.prototype.Ao=function(e,t){var n;return this.dl.set(t.id,{id:(n=t).id,version:n.version,createTime:eo(n.createTime)}),Ws.resolve()},e.prototype.Ro=function(e,t){return Ws.resolve(this.wl.get(t))},e.prototype.Po=function(e,t){var n;return this.wl.set(t.name,{name:(n=t).name,query:Ya(n.bundledQuery),readTime:eo(n.readTime)}),Ws.resolve()},e}(),qc=function(){function e(e,t){var n=this;this.Tl={},this.Jo=new Oa(0),this.Yo=!1,this.Yo=!0,this.Lr=e(this),this.ra=new jc(this),this.Fi=new cu,this.Ni=function(e,t){return new Vc(e,(function(e){return n.Lr.El(e)}))}(this.Fi),this.serializer=new qa(t),this.oa=new Uc(this.serializer)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.pa=function(){return this.Yo=!1,Promise.resolve()},Object.defineProperty(e.prototype,"yr",{get:function(){return this.Yo},enumerable:!1,configurable:!0}),e.prototype.fa=function(){},e.prototype.da=function(){},e.prototype.Oa=function(){return this.Fi},e.prototype.Na=function(e){var t=this.Tl[e.Ys()];return t||(t=new Mc(this.Fi,this.Lr),this.Tl[e.Ys()]=t),t},e.prototype.xa=function(){return this.ra},e.prototype.Fa=function(){return this.Ni},e.prototype.Ma=function(){return this.oa},e.prototype.runTransaction=function(e,t,n){var r=this;pr("MemoryPersistence","Starting transaction:",e);var i=new Bc(this.Jo.next());return this.Lr.Il(),n(i).next((function(e){return r.Lr.ml(i).next((function(){return e}))})).Cn().then((function(e){return i.Ci(),e}))},e.prototype.Al=function(e,t){return Ws.Fn(Object.values(this.Tl).map((function(n){return function(){return n.so(e,t)}})))},e}(),Bc=function(e){function t(t){var n=this;return(n=e.call(this)||this).Go=t,n}return i(t,e),t}(Ia),zc=function(){function e(e){this.persistence=e,this.Rl=new Ul,this.Pl=null}return e.gl=function(t){return new e(t)},Object.defineProperty(e.prototype,"Vl",{get:function(){if(this.Pl)return this.Pl;throw mr()},enumerable:!1,configurable:!0}),e.prototype.Qo=function(e,t,n){return this.Rl.Qo(n,t),this.Vl.delete(n.toString()),Ws.resolve()},e.prototype.Wo=function(e,t,n){return this.Rl.Wo(n,t),this.Vl.add(n.toString()),Ws.resolve()},e.prototype.eo=function(e,t){return this.Vl.add(t.toString()),Ws.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.Rl.du(t.targetId).forEach((function(e){return n.Vl.add(e.toString())}));var r=this.persistence.xa();return r.jo(e,t.targetId).next((function(e){e.forEach((function(e){return n.Vl.add(e.toString())}))})).next((function(){return r.$o(e,t)}))},e.prototype.Il=function(){this.Pl=new Set},e.prototype.ml=function(e){var t=this,n=this.persistence.Fa()._o();return Ws.forEach(this.Vl,(function(r){var i=Fr.K(r);return t.yl(e,i).next((function(e){e||n.Vi(i)}))})).next((function(){return t.Pl=null,n.apply(e)}))},e.prototype.qa=function(e,t){var n=this;return this.yl(e,t).next((function(e){e?n.Vl.delete(t.toString()):n.Vl.add(t.toString())}))},e.prototype.El=function(e){return 0},e.prototype.yl=function(e,t){var n=this;return Ws.Fn([function(){return Ws.resolve(n.Rl.so(t))},function(){return n.persistence.xa().so(e,t)},function(){return n.persistence.Al(e,t)}])},e}(),Hc=function(){function e(e){this.pl=e.pl,this.vl=e.vl}return e.prototype.mc=function(e){this.bl=e},e.prototype.dc=function(e){this.Sl=e},e.prototype.onMessage=function(e){this.Dl=e},e.prototype.close=function(){this.vl()},e.prototype.send=function(e){this.pl(e)},e.prototype.Cl=function(){this.bl()},e.prototype.Nl=function(e){this.Sl(e)},e.prototype.xl=function(e){this.Dl(e)},e}(),Gc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Wc=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.i=t.i,n}return i(t,e),t.prototype.Ll=function(e,t,n,r){return new Promise((function(i,o){var s=new ur;s.listenOnce(sr.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case or.NO_ERROR:var t=s.getResponseJson();pr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case or.TIMEOUT:pr("Connection",'RPC "'+e+'" timed out'),o(new Pr(Or.DEADLINE_EXCEEDED,"Request time out"));break;case or.HTTP_ERROR:var n=s.getStatus();if(pr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(e){var t=e.toLowerCase().replace("_","-");return Object.values(Or).indexOf(t)>=0?t:Or.UNKNOWN}(r.status);o(new Pr(a,r.message))}else o(new Pr(Or.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Pr(Or.UNAVAILABLE,"Connection failed."));break;default:mr()}}finally{pr("Connection",'RPC "'+e+'" completed.')}}));var a=JSON.stringify(r);s.send(t,"POST",a,n,15)}))},t.prototype.Ac=function(e,t){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new er,i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(i.initMessageHeaders,t),Object(c.l)()||Object(c.n)()||Object(c.j)()||Object(c.k)()||Object(c.o)()||Object(c.i)()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");pr("Connection","Creating WebChannel: "+o,i);var s=r.createWebChannel(o,i),a=!1,u=!1,l=new Hc({pl:function(e){u?pr("Connection","Not sending because WebChannel is closed:",e):(a||(pr("Connection","Opening WebChannel transport."),s.open(),a=!0),pr("Connection","WebChannel sending:",e),s.send(e))},vl:function(){return s.close()}}),h=function(e,t){s.listen(e,(function(e){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(ar.EventType.OPEN,(function(){u||pr("Connection","WebChannel transport opened.")})),h(ar.EventType.CLOSE,(function(){u||(u=!0,pr("Connection","WebChannel transport closed"),l.Nl())})),h(ar.EventType.ERROR,(function(e){u||(u=!0,yr("Connection","WebChannel transport errored:",e),l.Nl(new Pr(Or.UNAVAILABLE,"The operation could not be completed")))})),h(ar.EventType.MESSAGE,(function(e){var t;if(!u){var n=e.data[0];_r(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){pr("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=Qr[e];if(void 0!==t)return Jr(t)}(i),a=r.message;void 0===o&&(o=Or.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),u=!0,l.Nl(new Pr(o,a)),s.close()}else pr("Connection","WebChannel received:",n),l.xl(n)}})),setTimeout((function(){l.Cl()}),0),l},t}(function(){function e(e){this.Fl=e,this.t=e.t,this.Ol=(e.ssl?"https":"http")+"://"+e.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return e.prototype.xc=function(e,t,n,r){var i=this.kl(e,t);pr("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(e,i,o,n).then((function(e){return pr("RestConnection","Received: ",e),e}),(function(t){throw yr("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Fc=function(e,t,n,r){return this.xc(e,t,n,r)},e.prototype.$l=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.0.2",e["Content-Type"]="text/plain",t)for(var n in t.ti)t.ti.hasOwnProperty(n)&&(e[n]=t.ti[n])},e.prototype.kl=function(e,t){return this.Ol+"/v1/"+t+":"+Gc[e]},e}()),Kc=function(){function e(){var e=this;this.Bl=function(){return e.ql()},this.Ul=function(){return e.Ql()},this.Kl=[],this.Wl()}return e.prototype.Xc=function(e){this.Kl.push(e)},e.prototype.pa=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},e.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},e.prototype.ql=function(){pr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.Kl;e<t.length;e++)(0,t[e])(0)},e.prototype.Ql=function(){pr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.Kl;e<t.length;e++)(0,t[e])(1)},e.kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Qc=function(){function e(){}return e.prototype.Xc=function(e){},e.prototype.pa=function(){},e}(),Zc=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.serializer=Ea(e.Fl.t),this.kh=this.jl(e),this.persistence=this.Gl(e),[4,this.persistence.start()];case 1:return t.sent(),this.zl=this.Hl(e),this.Kc=this.Jl(e),[2]}}))}))},e.prototype.Hl=function(e){return null},e.prototype.Jl=function(e){return $u(this.persistence,new Lc,e.Yl,this.serializer)},e.prototype.Gl=function(e){return new qc(zc.gl,this.serializer)},e.prototype.jl=function(e){return new Yl},e.prototype.terminate=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.pa()];case 1:return e.sent(),[4,this.persistence.pa()];case 2:return e.sent(),[2]}}))}))},e}(),$c=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Xl=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return i(t,e),t.prototype.initialize=function(t){return o(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,al(this.Kc)];case 2:return n.sent(),[4,this.Xl.initialize(this,t)];case 3:return n.sent(),[4,Dc(this.Xl.gu)];case 4:return n.sent(),[4,Ol(this.Xl.Oh)];case 5:return n.sent(),[2]}}))}))},t.prototype.Jl=function(e){return $u(this.persistence,new Lc,e.Yl,this.serializer)},t.prototype.Hl=function(e){return new La(this.persistence.Lr.Rr,e.rs)},t.prototype.Gl=function(e){var t=Qu(e.Fl.t,e.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?Da.Tr(this.cacheSizeBytes):Da.mr;return new zu(this.synchronizeTabs,t,e.clientId,n,e.rs,na(),ra(),this.serializer,this.kh,!!this.forceOwnership)},t.prototype.jl=function(e){return new Yl},t}(Zc),Yc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Xl=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return i(t,e),t.prototype.initialize=function(t){return o(this,void 0,void 0,(function(){var n,r=this;return s(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Xl.gu,this.kh instanceof $l?(this.kh.gu={_h:Tc.bind(null,n),fh:Pc.bind(null,n),dh:Nc.bind(null,n),Ca:Oc.bind(null,n),lh:Sc.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence._a((function(e){return o(r,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,Ic(this.Xl.gu,e)];case 1:return t.sent(),this.zl&&(e&&!this.zl.yr?this.zl.start(this.Kc):e||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.jl=function(e){var t=na();if(!$l.kn(t))throw new Pr(Or.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Qu(e.Fl.t,e.Fl.persistenceKey);return new $l(t,e.rs,n,e.clientId,e.Yl)},t}($c),Xc=function(){function e(){}return e.prototype.initialize=function(e,t){return o(this,void 0,void 0,(function(){var n=this;return s(this,(function(r){switch(r.label){case 0:return this.Kc?[3,2]:(this.Kc=e.Kc,this.kh=e.kh,this.Wc=this.Zl(t),this.Oh=this.t_(t),this.Mh=this.e_(t),this.gu=this.n_(t,!e.synchronizeTabs),this.kh.Oc=function(e){return lc(n.gu,e,1)},this.Oh.jc.s_=kc.bind(null,this.gu),[4,Vl(this.Oh,this.gu.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.e_=function(e){return new ua},e.prototype.Zl=function(e){var t=Ea(e.Fl.t),n=new Wc(e.Fl);return function(e,t,n){return new fl(e,t,n)}(e.credentials,n,t)},e.prototype.t_=function(e){var t,n,r,i,o,s=this;return t=this.Kc,n=this.Wc,r=e.rs,i=function(e){return lc(s.gu,e,0)},o=Kc.kn()?new Kc:new Qc,new pl(t,n,r,i,o)},e.prototype.n_=function(e,t){return function(e,t,n,r,i,o,s){var a=new rc(e,t,n,r,i,o);return s&&(a.Hh=!0),a}(this.Kc,this.Oh,this.Mh,this.kh,e.Yl,e.$h,t)},e.prototype.terminate=function(){return function(e){return o(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return t=br(e),pr("RemoteStore","RemoteStore shutting down."),t.Hc.add(5),[4,yl(t)];case 1:return n.sent(),t.Yc.pa(),t.Zc.set("Unknown"),[2]}}))}))}(this.Oh)},e}(),Jc=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.i_(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.i_(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.r_=function(){this.muted=!0},e.prototype.i_=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),eh=function(e){this.o_=e};function th(e,t,n){if(!n)throw new Pr(Or.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function nh(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Pr(Or.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function rh(e,t,n,r){if(!0===t&&!0===r)throw new Pr(Or.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function ih(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":mr()}function oh(e,t){if(e instanceof eh&&(e=e.o_),!(e instanceof t)){if(t.name===e.constructor.name)throw new Pr(Or.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ih(e);throw new Pr(Or.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function sh(e,t){if(t<=0)throw new Pr(Or.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var ah=function(e){this.a_=e},uh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.c_=function(e){if(2!==e.u_)throw e.h_(1===e.u_?this.a_+"() can only appear at the top level of your update data":this.a_+"() cannot be used with set() unless you pass {merge:true}");return e.Qe.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(ah);function lh(e,t,n){return new Lh({u_:3,l_:t.settings.l_,methodName:e.a_,__:n},t.t,t.serializer,t.ignoreUndefinedProperties)}var ch=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.c_=function(e){return new jo(e.path,new Oo)},t.prototype.isEqual=function(e){return e instanceof t},t}(ah),hh=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).f_=n,r}return i(t,e),t.prototype.c_=function(e){var t=lh(this,e,!0),n=this.f_.map((function(e){return qh(e,t)})),r=new Po(n);return new jo(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(ah),fh=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).f_=n,r}return i(t,e),t.prototype.c_=function(e){var t=lh(this,e,!0),n=this.f_.map((function(e){return qh(e,t)})),r=new Ro(n);return new jo(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(ah),dh=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).d_=n,r}return i(t,e),t.prototype.c_=function(e){var t=new Lo(e.serializer,$i(e.serializer,this.d_));return new jo(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(ah),ph=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pr(Or.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pr(Or.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this.w_=e,this.T_=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.T_},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.w_===e.w_&&this.T_===e.T_},e.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.T_}},e.prototype.I=function(e){return Cr(this.w_,e.w_)||Cr(this.T_,e.T_)},e}(),vh=function(){function e(e){this.E_=e}return e.fromBase64String=function(t){try{return new e(Kr.fromBase64String(t))}catch(t){throw new Pr(Or.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Kr.fromUint8Array(t))},e.prototype.toBase64=function(){return this.E_.toBase64()},e.prototype.toUint8Array=function(){return this.E_.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this.E_.isEqual(e.E_)},e}(),yh=new Map,gh=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Pr(Or.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pr(Or.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,rh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}();function mh(){if("undefined"==typeof Uint8Array)throw new Pr(Or.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function _h(){if("undefined"==typeof atob)throw new Pr(Or.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var bh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.fromBase64String=function(e){_h();try{return new t(Kr.fromBase64String(e))}catch(e){throw new Pr(Or.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){return mh(),new t(Kr.fromUint8Array(e))},t.prototype.toBase64=function(){return _h(),e.prototype.toBase64.call(this)},t.prototype.toUint8Array=function(){return mh(),e.prototype.toUint8Array.call(this)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(vh),wh=function(){function e(){}return e.prototype.I_=function(e,t){switch(void 0===t&&(t="none"),Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vi(e.integerValue||e.doubleValue);case 3:return this.m_(e.timestampValue);case 4:return this.A_(e,t);case 5:return e.stringValue;case 6:return this.R_(Fi(e.bytesValue));case 7:return this.P_(e.referenceValue);case 8:return this.g_(e.geoPointValue);case 9:return this.V_(e.arrayValue,t);case 10:return this.y_(e.mapValue,t);default:throw mr()}},e.prototype.y_=function(e,t){var n=this,r={};return Ir(e.fields||{},(function(e,i){r[e]=n.I_(i,t)})),r},e.prototype.g_=function(e){return new ph(Vi(e.latitude),Vi(e.longitude))},e.prototype.V_=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.I_(e,t)}))},e.prototype.A_=function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return Ii(n)?e(n):n}(e);return null==n?null:this.I_(n,t);case"estimate":return this.m_(xi(e));default:return null}},e.prototype.m_=function(e){var t=Mi(e);return new Nr(t.seconds,t.nanos)},e.prototype.p_=function(e,t){var n=Lr.k(e);_r(So(n));var r=new hr(n.get(1),n.get(3)),i=new Fr(n.v(5));return r.isEqual(t)||vr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}(),kh=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return i(t,e),t.prototype.R_=function(e){return new bh(e)},t.prototype.P_=function(e){var t=this.p_(e,this.firestore.v_);return Of.b_(t,this.firestore,null)},t}(wh),Ch=function(){function e(e,t,n,r,i){this.S_=e,this.D_=t,this.C_=n,this.N_=r,this.x_=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ih(this.S_,this.x_,this.C_)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this.N_},e.prototype.data=function(){if(this.N_){if(this.x_){var e=new Eh(this.S_,this.D_,this.C_,this.N_,null);return this.x_.fromFirestore(e)}return this.D_.I_(this.N_.sn())}},e.prototype.get=function(e){if(this.N_){var t=this.N_.data().field(Sh("DocumentSnapshot.get",e));if(null!==t)return this.D_.I_(t)}},e}(),Eh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Ch);function Sh(e,t){return"string"==typeof t?Kh(e,t):t instanceof eh?t.o_.F_:t.F_}var Th=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Pr(Or.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.F_=new Vr(e)}return e.prototype.isEqual=function(e){return this.F_.isEqual(e.F_)},e}(),Ih=function(){function e(e,t,n){this.x_=t,this.C_=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"O_",{get:function(){return this.C_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.M()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ah(this.firestore,this.x_,this.C_.path.S())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.C_)},e}(),xh=function(){function e(e,t,n){this.x_=t,this.M_=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this.M_)},e}(),Ah=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,fs(r))||this).firestore=t,i.O_=r,i.type="collection",i}return i(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.M_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.M_.path.M()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this.O_.S();return e.T()?null:new Ih(this.firestore,null,new Fr(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.O_)},t}(xh);function Oh(e){var t=e.k_(),n=Ea(e.v_);return new Mh(e.v_,!!t.ignoreUndefinedProperties,n)}var Ph=/^__.*__$/,Nh=function(){function e(e,t,n){this.data=e,this.Qe=t,this.fieldTransforms=n}return e.prototype.L_=function(e,t){var n=[];return n.push(null!==this.Qe?new $o(e,this.data,this.Qe,t):new Zo(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new Xo(e,this.fieldTransforms)),n},e}(),Rh=function(){function e(e,t,n){this.data=e,this.Qe=t,this.fieldTransforms=n}return e.prototype.L_=function(e,t){var n=[new $o(e,this.data,this.Qe,t)];return this.fieldTransforms.length>0&&n.push(new Xo(e,this.fieldTransforms)),n},e}();function Dh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mr()}}var Lh=function(){function e(e,t,n,r,i,o){this.settings=e,this.t=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.B_(),this.fieldTransforms=i||[],this.Qe=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),e.prototype.q_=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},e.prototype.U_=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.q_({path:n,__:!1});return r.Q_(e),r},e.prototype.K_=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.q_({path:n,__:!1});return r.B_(),r},e.prototype.W_=function(e){return this.q_({path:void 0,__:!0})},e.prototype.h_=function(e){return Qh(e,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.l_)},e.prototype.contains=function(e){return void 0!==this.Qe.find((function(t){return e.N(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.N(t.field)}))},e.prototype.B_=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Q_(this.path.get(e))},e.prototype.Q_=function(e){if(0===e.length)throw this.h_("Document fields must not be empty");if(Dh(this.u_)&&Ph.test(e))throw this.h_('Document fields cannot begin and end with "__"')},e}(),Mh=function(){function e(e,t,n){this.t=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ea(e)}return e.prototype.G_=function(e,t,n,r){return void 0===r&&(r=!1),new Lh({u_:e,methodName:t,l_:n,path:Vr.$(),__:!1,j_:r},this.t,this.serializer,this.ignoreUndefinedProperties)},e}();function Vh(e,t,n,r,i,o){void 0===o&&(o={});var s=e.G_(o.merge||o.mergeFields?2:0,t,n,i);Hh("Data must be an object, but it was:",s,r);var a,u,l=Bh(r,s);if(o.merge)a=new Fo(s.Qe),u=s.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Gh(t,f[h],n);if(!s.contains(d))throw new Pr(Or.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Zh(c,d)||c.push(d)}a=new Fo(c),u=s.fieldTransforms.filter((function(e){return a.He(e.field)}))}else a=null,u=s.fieldTransforms;return new Nh(new rs(l),a,u)}function Fh(e,t,n,r){var i=e.G_(1,t,n);Hh("Data must be an object, but it was:",i,r);var o=[],s=new is;Ir(r,(function(e,r){var a=Kh(t,e,n);r instanceof eh&&(r=r.o_);var u=i.K_(a);if(r instanceof uh)o.push(a);else{var l=qh(r,u);null!=l&&(o.push(a),s.set(a,l))}}));var a=new Fo(o);return new Rh(s.Ye(),a,i.fieldTransforms)}function jh(e,t,n,r,i,o){var s=e.G_(1,t,n),a=[Gh(t,r,n)],u=[i];if(o.length%2!=0)throw new Pr(Or.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)a.push(Gh(t,o[l])),u.push(o[l+1]);for(var c=[],h=new is,f=a.length-1;f>=0;--f)if(!Zh(c,a[f])){var d=a[f],p=u[f];p instanceof eh&&(p=p.o_);var v=s.K_(d);if(p instanceof uh)c.push(d);else{var y=qh(p,v);null!=y&&(c.push(d),h.set(d,y))}}var g=new Fo(c);return new Rh(h.Ye(),g,s.fieldTransforms)}function Uh(e,t,n,r){return void 0===r&&(r=!1),qh(n,e.G_(r?4:3,t))}function qh(e,t){if(e instanceof eh&&(e=e.o_),zh(e))return Hh("Unsupported field value:",t,e),Bh(e,t);if(e instanceof ah)return function(e,t){if(!Dh(t.u_))throw t.h_(e.a_+"() can only be used with update() and set()");if(!t.path)throw t.h_(e.a_+"() is not currently supported inside arrays");var n=e.c_(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(t.path&&t.Qe.push(t.path),e instanceof Array){if(t.settings.__&&4!==t.u_)throw t.h_("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var s=qh(o[i],t.W_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(e instanceof eh&&(e=e.o_),null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $i(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Nr.fromDate(e);return{timestampValue:Yi(t.serializer,n)}}if(e instanceof Nr){var r=new Nr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yi(t.serializer,r)}}if(e instanceof ph)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vh)return{bytesValue:Xi(t.serializer,e.E_)};if(e instanceof Ih){var i=t.t,o=e.firestore.v_;if(!o.isEqual(i))throw t.h_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:to(e.firestore.v_||t.t,e.C_.path)}}if(void 0===e&&t.ignoreUndefinedProperties)return null;throw t.h_("Unsupported field value: "+ih(e))}(e,t)}function Bh(e,t){var n={};return xr(e)?t.path&&t.path.length>0&&t.Qe.push(t.path):Ir(e,(function(e,r){var i=qh(r,t.U_(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zh(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Nr||e instanceof ph||e instanceof vh||e instanceof Ih||e instanceof ah)}function Hh(e,t,n){if(!zh(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ih(n);throw t.h_("an object"===r?e+" a custom object":e+" "+r)}}function Gh(e,t,n){if(t instanceof eh&&(t=t.o_),t instanceof Th)return t.F_;if("string"==typeof t)return Kh(e,t);throw Qh("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Wh=new RegExp("[~\\*/\\[\\]]");function Kh(e,t,n){if(t.search(Wh)>=0)throw Qh("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Th.bind.apply(Th,a([void 0],t.split("."))))).F_}catch(r){throw Qh("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Qh(e,t,n,r,i){var o=r&&!r.T(),s=void 0!==i,a="Function "+t+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Pr(Or.INVALID_ARGUMENT,(a+=". ")+e+u)}function Zh(e,t){return e.some((function(e){return e.isEqual(t)}))}var $h=function(){function e(e){this.Wc=e,this.z_=new Map,this.mutations=[],this.H_=!1,this.J_=null,this.Y_=new Set}return e.prototype.X_=function(e){return o(this,void 0,void 0,(function(){var t,n=this;return s(this,(function(r){switch(r.label){case 0:if(this.Z_(),this.mutations.length>0)throw new Pr(Or.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return o(this,void 0,void 0,(function(){var n,r,i,o,a,u;return s(this,(function(s){switch(s.label){case 0:return n=br(e),r=ao(n.serializer)+"/documents",i={documents:t.map((function(e){return ro(n.serializer,e)}))},[4,n.Fc("BatchGetDocuments",r,i)];case 1:return o=s.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){_r(!!t.found);var n=io(e,t.found.name),r=eo(t.found.updateTime),i=new rs({mapValue:{fields:t.found.fields}});return new as(n,r,i,{})}(e,t):"missing"in t?function(e,t){_r(!!t.missing),_r(!!t.readTime);var n=io(e,t.missing),r=eo(t.readTime);return new us(n,r)}(e,t):mr()}(n.serializer,e);a.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=a.get(e.toString());_r(!!t),u.push(t)})),u)]}}))}))}(this.Wc,e)];case 1:return[2,((t=r.sent()).forEach((function(e){e instanceof us||e instanceof as?n.tf(e):mr()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.L_(e,this.je(e))),this.Y_.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.L_(e,this.ef(e)))}catch(e){this.J_=e}this.Y_.add(e.toString())},e.prototype.delete=function(e){this.write([new ts(e,this.je(e))]),this.Y_.add(e.toString())},e.prototype.commit=function(){return o(this,void 0,void 0,(function(){var e,t=this;return s(this,(function(n){switch(n.label){case 0:if(this.Z_(),this.J_)throw this.J_;return e=this.z_,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Fr.K(n);t.mutations.push(new ns(r,t.je(r)))})),[4,function(e,t){return o(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:return n=br(e),r=ao(n.serializer)+"/documents",i={writes:t.map((function(e){return co(n.serializer,e)}))},[4,n.xc("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Wc,this.mutations)];case 1:return n.sent(),this.H_=!0,[2]}}))}))},e.prototype.tf=function(e){var t;if(e instanceof as)t=e.version;else{if(!(e instanceof us))throw mr();t=Rr.min()}var n=this.z_.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Pr(Or.ABORTED,"Document version changed between two reads.")}else this.z_.set(e.key.toString(),t)},e.prototype.je=function(e){var t=this.z_.get(e.toString());return!this.Y_.has(e.toString())&&t?qo.updateTime(t):qo.Ge()},e.prototype.ef=function(e){var t=this.z_.get(e.toString());if(!this.Y_.has(e.toString())&&t){if(t.isEqual(Rr.min()))throw new Pr(Or.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qo.updateTime(t)}return qo.exists(!0)},e.prototype.write=function(e){this.Z_(),this.mutations=this.mutations.concat(e)},e.prototype.Z_=function(){},e}(),Yh=function(){function e(e,t,n,r){this.rs=e,this.Wc=t,this.updateFunction=n,this.us=r,this.nf=5,this.Ps=new Gs(this.rs,"transaction_retry")}return e.prototype.run=function(){this.sf()},e.prototype.sf=function(){var e=this;this.Ps.An((function(){return o(e,void 0,void 0,(function(){var e,t,n=this;return s(this,(function(r){return e=new $h(this.Wc),(t=this.rf(e))&&t.then((function(t){n.rs.fs((function(){return e.commit().then((function(){n.us.resolve(t)})).catch((function(e){n.af(e)}))}))})).catch((function(e){n.af(e)})),[2]}))}))}))},e.prototype.rf=function(e){try{var t=this.updateFunction(e);return!jr(t)&&t.catch&&t.then?t:(this.us.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.us.reject(e),null}},e.prototype.af=function(e){var t=this;this.nf>0&&this.cf(e)?(this.nf-=1,this.rs.fs((function(){return t.sf(),Promise.resolve()}))):this.us.reject(e)},e.prototype.cf=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Xr(t)}return!1},e}(),Xh=function(){function e(e,t,n){var r=this;this.credentials=e,this.rs=t,this.Fl=n,this.user=va.UNAUTHENTICATED,this.clientId=kr.u(),this.uf=function(){},this.oi=new Hs,this.credentials.si((function(e){pr("FirestoreClient","Received user=",e.uid),r.user.isEqual(e)||(r.user=e,r.uf(e)),r.oi.resolve()}))}return e.prototype.getConfiguration=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.oi.promise];case 1:return[2,(e.sent(),{rs:this.rs,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}}))}))},e.prototype.hf=function(e){var t=this;this.uf=e,this.oi.promise.then((function(){return t.uf(t.user)}))},e.prototype.lf=function(){if(this.rs.Vs)throw new Pr(Or.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.rs.bs();var t=new Hs;return this.rs.ys((function(){return o(e,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this._f?[4,this._f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.ff?[4,this.ff.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.ii(),t.resolve(),[3,6];case 5:return e=r.sent(),n=sa(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Jh(e,t){return o(this,void 0,void 0,(function(){var n,r=this;return s(this,(function(i){switch(i.label){case 0:return e.rs.Ns(),pr("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=i.sent(),[4,t.initialize(n)];case 2:return i.sent(),e.hf((function(n){return e.rs.Ss((function(){return o(r,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,Yu(t.Kc,n)];case 1:return e.sent(),[2]}}))}))}))})),t.persistence.fa((function(){return e.terminate()})),e.ff=t,[2]}}))}))}function ef(e,t){return o(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return e.rs.Ns(),[4,tf(e)];case 1:return n=i.sent(),pr("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.hf((function(n){return e.rs.Ss((function(){return function(e,t){return o(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return(n=br(e)).rs.Ns(),pr("RemoteStore","RemoteStore received new credentials"),r=Cl(n),n.Hc.add(3),[4,yl(n)];case 1:return i.sent(),r&&n.Zc.set("Unknown"),[4,n.jc.s_(t)];case 2:return i.sent(),n.Hc.delete(3),[4,vl(n)];case 3:return i.sent(),[2]}}))}))}(t.Oh,n)}))})),e._f=t,[2]}}))}))}function tf(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return e.ff?[3,2]:(pr("FirestoreClient","Using default OfflineComponentProvider"),[4,Jh(e,new Zc)]);case 1:t.sent(),t.label=2;case 2:return[2,e.ff]}}))}))}function nf(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return e._f?[3,2]:(pr("FirestoreClient","Using default OnlineComponentProvider"),[4,ef(e,new Xc)]);case 1:t.sent(),t.label=2;case 2:return[2,e._f]}}))}))}function rf(e){return tf(e).then((function(e){return e.persistence}))}function of(e){return tf(e).then((function(e){return e.Kc}))}function sf(e){return nf(e).then((function(e){return e.Oh}))}function af(e){return nf(e).then((function(e){return e.gu}))}function uf(e){return o(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return[4,nf(e)];case 1:return t=r.sent(),[2,((n=t.Mh).Ls=ic.bind(null,t.gu),n.Us=sc.bind(null,t.gu),n)]}}))}))}function lf(e,t){var n=this,r=new Hs;return e.rs.fs((function(){return o(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return n=ac,[4,af(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}function cf(e,t,n){return o(this,void 0,void 0,(function(){var r,i,o;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(e,t){var n=br(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Ga.Oi(e,t)}))}(e,t)];case 1:return(r=s.sent())instanceof as?n.resolve(r):r instanceof us?n.resolve(null):n.reject(new Pr(Or.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=s.sent(),o=sa(i,"Failed to get document '"+t+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))}function hf(e,t,n,r,i){var o=new Jc({next:function(o){t.fs((function(){return ca(e,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Pr(Or.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Pr(Or.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),s=new pa(fs(n.path),o,{includeMetadataChanges:!0,Hs:!0});return la(e,s)}var ff=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).yf=new oa,r.df="name"in t?t.name:"[DEFAULT]",r}return i(t,e),t.prototype.Vf=function(){return this.pf||If(this),this.pf.terminate()},t}(function(){function e(e,t){this.df="(lite)",this.wf=new gh({}),this.Tf=!1,e instanceof hr?(this.v_=e,this.Ef=new ga):(this.If=e,this.v_=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Pr(Or.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hr(e.options.projectId)}(e),this.Ef=new ma(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this.If)throw new Pr(Or.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.If},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mf",{get:function(){return this.Tf},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Af",{get:function(){return void 0!==this.Rf},enumerable:!1,configurable:!0}),e.prototype.Pf=function(e){if(this.Tf)throw new Pr(Or.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.wf=new gh(e),void 0!==e.credentials&&(this.Ef=function(e){if(!e)return new ga;switch(e.type){case"gapi":var t=e.client;return _r(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ba(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new Pr(Or.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype.gf=function(){return this.wf},e.prototype.k_=function(){return this.Tf=!0,this.wf},e.prototype._delete=function(){return this.Rf||(this.Rf=this.Vf()),this.Rf},e.prototype.Vf=function(){return function(e){var t=yh.get(e);t&&(pr("ComponentProvider","Removing Datastore"),yh.delete(e),t.terminate())}(this),Promise.resolve()},e}());function df(e,t,n){var r=this,i=new Hs;return e.rs.enqueue((function(){return o(r,void 0,void 0,(function(){var r;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Jh(e,n)];case 1:return o.sent(),[4,ef(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Or.FAILED_PRECONDITION||e.code===Or.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function pf(e){if(e.mf||e.Af)throw new Pr(Or.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var vf=function(e){function t(t,n,r,i,o,s){var a=this;return(a=e.call(this,t,n,r,i,s)||this).S_=t,a.vf=t,a.metadata=o,a}return i(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this.N_){if(this.x_){var t=new yf(this.S_,this.D_,this.C_,this.N_,this.metadata,null);return this.x_.fromFirestore(t,e)}return this.D_.I_(this.N_.sn(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this.N_){var n=this.N_.data().field(Sh("DocumentSnapshot.get",e));if(null!==n)return this.D_.I_(n,t.serverTimestamps)}},t}(Ch),yf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(vf),gf=function(){function e(e,t,n,r){this.S_=e,this.D_=t,this.bf=r,this.metadata=new Nf(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.bf.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this.bf.docs.forEach((function(r){e.call(t,new yf(n.S_,n.D_,r.key,r,new Nf(n.bf.Qt.has(r.key),n.bf.fromCache),n.query.x_))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this.bf.Wt)throw new Pr(Or.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Sf&&this.Df===t||(this.Sf=function(e,t){if(e.bf.Ut.T()){var n=0;return e.bf.docChanges.map((function(t){return{type:"added",doc:new yf(e.S_,e.D_,t.doc.key,t.doc,new Nf(e.bf.Qt.has(t.doc.key),e.bf.fromCache),e.query.x_),oldIndex:-1,newIndex:n++}}))}var r=e.bf.Ut;return e.bf.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new yf(e.S_,e.D_,t.doc.key,t.doc,new Nf(e.bf.Qt.has(t.doc.key),e.bf.fromCache),e.query.x_),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:mf(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this.Df=t),this.Sf},e}();function mf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mr()}}function _f(e,t){return e instanceof vf&&t instanceof vf?e.S_===t.S_&&e.C_.isEqual(t.C_)&&(null===e.N_?null===t.N_:e.N_.isEqual(t.N_))&&e.x_===t.x_:e instanceof gf&&t instanceof gf&&e.S_===t.S_&&function(e,t){return e instanceof xh&&t instanceof xh&&e.firestore===t.firestore&&Cs(e.M_,t.M_)&&e.x_===t.x_}(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e.bf.isEqual(t.bf)}var bf=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return i(t,e),t.prototype.R_=function(e){return new vh(e)},t.prototype.P_=function(e){var t=this.p_(e,this.firestore.v_);return new Ih(this.firestore,null,t)},t}(wh);function wf(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=oh(e.firestore,ff),s=Oh(o);return t instanceof eh&&(t=t.o_),kf(o,("string"==typeof t||t instanceof Th?jh(s,"updateDoc",e.C_,t,n,r):Fh(s,"updateDoc",e.C_,t)).L_(e.C_,qo.exists(!0)))}function kf(e,t){return lf(Tf(e),t)}function Cf(e,t,n){var r=n.docs.get(t.C_),i=new bf(e);return new vf(e,i,t.C_,r,new Nf(n.hasPendingWrites,n.fromCache),t.x_)}var Ef=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){pf(e);var n=Tf(e),r=e.k_(),i=new Xc;return df(n,i,new $c(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e.o_,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){pf(e);var t=Tf(e),n=e.k_(),r=new Xc;return df(t,r,new Yc(r,n.cacheSizeBytes))}(e.o_)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e.mf&&!e.Af)throw new Pr(Or.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Hs;return e.yf.ys((function(){return o(t,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return Ks.kn()?[4,Ks.delete(e+"main")]:[2,Promise.resolve()];case 1:return t.sent(),[2]}}))}))}(Qu(e.v_,e.df))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e.o_)},e}(),Sf=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n)||this).Cf=r,i.INTERNAL={delete:function(){return i.terminate()}},t instanceof hr||(i.Nf=t),i}return i(t,e),Object.defineProperty(t.prototype,"v_",{get:function(){return this.o_.v_},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this.o_.gf()),e)).merge,this.o_.Pf(e)},t.prototype.useEmulator=function(e,t){"firestore.googleapis.com"!==this.o_.gf().host&&yr("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:e+":"+t,ssl:!1,merge:!0})},t.prototype.enableNetwork=function(){return function(e){var t=this;return e.rs.enqueue((function(){return o(t,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return[4,rf(e)];case 1:return t=r.sent(),[4,sf(e)];case 2:return n=r.sent(),[2,(t.da(!0),function(e){var t=br(e);return t.Hc.delete(0),vl(t)}(n))]}}))}))}))}(Tf(this.o_))},t.prototype.disableNetwork=function(){return function(e){var t=this;return e.rs.enqueue((function(){return o(t,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return[4,rf(e)];case 1:return t=r.sent(),[4,sf(e)];case 2:return n=r.sent(),[2,(t.da(!1),function(e){return o(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return(t=br(e)).Hc.add(0),[4,yl(t)];case 1:return n.sent(),t.Zc.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Tf(this.o_))},t.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&rh("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Cf.enableMultiTabIndexedDbPersistence(this):this.Cf.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Cf.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Hs;return e.rs.fs((function(){return o(t,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:return t=dc,[4,af(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Tf(this.o_))},t.prototype.onSnapshotsInSync=function(e){return function(e,t){var n=this,r=Tf(e),i=Sa(t)?t:{next:t},a=new Jc(i);return e.yf.fs((function(){return o(n,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=function(e,t){br(e).$s.add(t),t.next()},[4,uf(r)];case 1:return e.apply(void 0,[t.sent(),a]),[2]}}))}))})),function(){a.r_(),e.yf.fs((function(){return o(n,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=function(e,t){br(e).$s.delete(t)},[4,uf(r)];case 1:return e.apply(void 0,[t.sent(),a]),[2]}}))}))}))}}(this.o_,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Nf)throw new Pr(Or.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Nf},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){return th("Firestore.collection","path",e),Tf(this.o_),new Bf(Lr.k(e),this,null)},t.prototype.doc=function(e){return th("Firestore.doc","path",e),Tf(this.o_),Of.xf(Lr.k(e),this,null)},t.prototype.collectionGroup=function(e){if(th("Firestore.collectionGroup","collectionId",e),e.indexOf("/")>=0)throw new Pr(Or.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return Tf(this.o_),new jf(function(e){return new cs(Lr.$(),e)}(e),this,null)},t.prototype.runTransaction=function(e){var t=this;return function(e,t){var n=this,r=new Hs;return e.rs.fs((function(){return o(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return[4,function(e){return nf(e).then((function(e){return e.Wc}))}(e)];case 1:return n=i.sent(),new Yh(e.rs,n,t,r).run(),[2]}}))}))})),r.promise}(Tf(this.o_),(function(n){return e(new xf(t,n))}))},t.prototype.batch=function(){return Tf(this.o_),new Af(this)},t}(eh);function Tf(e){return e.pf||If(e),e.pf.lf(),e.pf}function If(e){var t=e.k_(),n=function(e,t,n){return new cr(e,t,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(e.v_,e.df,t);e.pf=new Xh(e.Ef,e.yf,n)}var xf=function(){function e(e,t){this.S_=e,this.Ff=t,this.Of=Oh(this.S_.o_)}return e.prototype.get=function(e){var t=this,n=zf(0,e,this.S_),r=new kh(this.S_);return this.Ff.X_([n.C_]).then((function(e){if(!e||1!==e.length)return mr();var i=e[0];if(i instanceof us)return new Rf(t.S_,new vf(t.S_.o_,r,n.C_,null,new Nf(!1,!1),n.x_));if(i instanceof as)return new Rf(t.S_,new vf(t.S_.o_,r,n.C_,i,new Nf(!1,!1),n.x_));throw mr()}))},e.prototype.set=function(e,t,n){var r=zf(0,e,this.S_);n=nh("Transaction.set",n);var i=Hf(r.x_,t,n),o=Vh(this.Of,"Transaction.set",r.C_,i,null!==r.x_,n);return this.Ff.set(r.C_,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=zf(0,e,this.S_);return t instanceof eh&&(t=t.o_),o="string"==typeof t||t instanceof Th?jh(this.Of,"Transaction.update",s.C_,t,n,r):Fh(this.Of,"Transaction.update",s.C_,t),this.Ff.update(s.C_,o),this},e.prototype.delete=function(e){var t=zf(0,e,this.S_);return this.Ff.delete(t.C_),this},e}(),Af=function(){function e(e){this.S_=e,this.Mf=[],this.kf=!1,this.Of=Oh(this.S_.o_)}return e.prototype.set=function(e,t,n){this.$f();var r=zf(0,e,this.S_);n=nh("WriteBatch.set",n);var i=Hf(r.x_,t,n),o=Vh(this.Of,"WriteBatch.set",r.C_,i,null!==r.x_,n);return this.Mf=this.Mf.concat(o.L_(r.C_,qo.Ge())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.$f();var o,s=zf(0,e,this.S_);return t instanceof eh&&(t=t.o_),o="string"==typeof t||t instanceof Th?jh(this.Of,"WriteBatch.update",s.C_,t,n,r):Fh(this.Of,"WriteBatch.update",s.C_,t),this.Mf=this.Mf.concat(o.L_(s.C_,qo.exists(!0))),this},e.prototype.delete=function(e){this.$f();var t=zf(0,e,this.S_);return this.Mf=this.Mf.concat(new ts(t.C_,qo.Ge())),this},e.prototype.commit=function(){return this.$f(),this.kf=!0,this.Mf.length>0?lf(Tf(this.S_.o_),this.Mf):Promise.resolve()},e.prototype.$f=function(){if(this.kf)throw new Pr(Or.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Of=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).firestore=t,r.D_=new kh(t),r}return i(t,e),t.xf=function(e,n,r){if(e.length%2!=0)throw new Pr(Or.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.M()+" has "+e.length);return new t(n,new Ih(n.o_,r,new Fr(e)))},t.b_=function(e,n,r){return new t(n,new Ih(n.o_,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Bf(this.o_.O_.S(),this.firestore,this.o_.x_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){if(th("DocumentReference.collection","path",e),!e)throw new Pr(Or.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=Lr.k(e);return new Bf(this.o_.O_.child(t),this.firestore,null)},t.prototype.isEqual=function(e){return e instanceof eh&&(e=e.o_),e instanceof Ih&&(n=e,((t=this.o_)instanceof Ih||t instanceof Ah)&&(n instanceof Ih||n instanceof Ah)&&t.firestore===n.firestore&&t.path===n.path&&t.x_===n.x_);var t,n},t.prototype.set=function(e,t){t=nh("DocumentReference.set",t);try{return function(e,t,n){var r=oh(e.firestore,ff),i=Hf(e.x_,t,n);return kf(r,Vh(Oh(r),"setDoc",e.C_,i,null!==e.x_,n).L_(e.C_,qo.Ge()))}(this.o_,e,t)}catch(e){throw Pf(e,"setDoc","DocumentReference.set")}},t.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?wf(this.o_,e):wf.apply(void 0,a([this.o_,e,t],n))}catch(e){throw Pf(e,"updateDoc","DocumentReference.update")}},t.prototype.delete=function(){return kf(oh((e=this.o_).firestore,ff),[new ts(e.C_,qo.Ge())]);var e},t.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Sa(r))return r}return{}}(t),i=function(t,n){var r,i,o;return{next:function(t){o.next&&o.next(function(t){return new Rf(e.firestore,new vf(e.firestore.o_,e.D_,t.C_,t.N_,t.metadata,e.o_.x_))}(t))},error:null===(r=(o=Sa(t[0])?t[0]:Sa(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===r?void 0:r.bind(o),complete:null===(i=o.complete)||void 0===i?void 0:i.bind(o)}}(t);return function(e){for(var t,n,r,i=this,a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];var l={includeMetadataChanges:!1},c=0;"object"!=typeof a[c]||Sa(a[c])||(l=a[c],c++);var h,f,d,p={includeMetadataChanges:l.includeMetadataChanges};if(Sa(a[c])){var v=a[c];a[c]=null===(t=v.next)||void 0===t?void 0:t.bind(v),a[c+1]=null===(n=v.error)||void 0===n?void 0:n.bind(v),a[c+2]=null===(r=v.complete)||void 0===r?void 0:r.bind(v)}if(e instanceof Ih)f=oh(e.firestore,ff),d=fs(e.C_.path),h={next:function(t){a[c]&&a[c](Cf(f,e,t))},error:a[c+1],complete:a[c+2]};else{f=oh(e.firestore,ff),d=e.M_;var y=new bf(f);h={next:function(t){a[c]&&a[c](new gf(f,y,e,t))},error:a[c+1],complete:a[c+2]},Ff(e.M_)}var g=Tf(f),m=new Jc(h),_=new pa(d,m,p);return f.yf.fs((function(){return o(i,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=la,[4,uf(g)];case 1:return[2,e.apply(void 0,[t.sent(),_])]}}))}))})),function(){m.r_(),f.yf.fs((function(){return o(i,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=ca,[4,uf(g)];case 1:return[2,e.apply(void 0,[t.sent(),_])]}}))}))}))}}(this.o_,r,i)},t.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){var t=this,n=oh(e.firestore,ff),r=Tf(n),i=new bf(n),a=new Hs;return n.yf.fs((function(){return o(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,of(r)];case 1:return[4,cf(t.sent(),e.C_,a)];case 2:return t.sent(),[2]}}))}))})),a.promise.then((function(t){return new vf(n,i,e.C_,t,new Nf(t instanceof as&&t.Je,!0),e.x_)}))}(this.o_):"server"===(null==e?void 0:e.source)?function(e){var t=this,n=oh(e.firestore,ff),r=Tf(n),i=new Hs;return n.yf.fs((function(){return o(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,uf(r)];case 1:return[4,hf(t.sent(),n.yf,e.C_,{source:"server"},i)];case 2:return t.sent(),[2]}}))}))})),i.promise.then((function(t){return Cf(n,e,t)}))}(this.o_):function(e){var t=this,n=oh(e.firestore,ff),r=Tf(n),i=new Hs;return n.yf.fs((function(){return o(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,uf(r)];case 1:return[4,hf(t.sent(),n.yf,e.C_,{source:"default"},i)];case 2:return t.sent(),[2]}}))}))})),i.promise.then((function(t){return Cf(n,e,t)}))}(this.o_)).then((function(e){return new Rf(t.firestore,new vf(t.firestore.o_,t.D_,e.C_,e.N_,e.metadata,t.o_.x_))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this.o_.withConverter(e))},t}(eh);function Pf(e,t,n){return e.message=e.message.replace(t+"()",n+"()"),e}var Nf=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Rf=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).S_=t,r}return i(t,e),Object.defineProperty(t.prototype,"ref",{get:function(){return new Of(this.S_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this.o_.data(e)},t.prototype.get=function(e,t){return this.o_.get(e,t)},t.prototype.isEqual=function(e){return _f(this.o_,e.o_)},t}(eh),Df=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.data=function(e){return this.o_.data(e)},t}(Rf);function Lf(e,t,n){if(n instanceof eh&&(n=n.o_),"string"==typeof n){if(""===n)throw new Pr(Or.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!gs(t)&&-1!==n.indexOf("/"))throw new Pr(Or.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Lr.k(n));if(!Fr.G(r))throw new Pr(Or.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ji(e,new Fr(r))}if(n instanceof Ih)return ji(e,n.C_);throw new Pr(Or.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ih(n)+".")}function Mf(e,t){if(!Array.isArray(e)||0===e.length)throw new Pr(Or.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Pr(Or.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Vf(e,t,n){if(!n.isEqual(t))throw new Pr(Or.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Ff(e){if(ps(e)&&0===e.rn.length)throw new Pr(Or.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jf=function(){function e(e,t,n){this.M_=e,this.firestore=t,this.x_=n,this.Lf=Oh(t.o_),this.D_=new kh(t)}return e.prototype.where=function(t,n,r){var i=Gh("Query.where",t),o=function(e,t,n,r,i,o,s){var a;if(i.B()){if("array-contains"===o||"array-contains-any"===o)throw new Pr(Or.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Mf(s,o);for(var u=[],l=0,c=s;l<c.length;l++)u.push(Lf(r,e,c[l]));a={arrayValue:{values:u}}}else a=Lf(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Mf(s,o),a=Uh(n,"Query.where",s,"in"===o||"not-in"===o);var h=xs.create(i,o,a);return function(e,t){if(t.cn()){var n=ys(e);if(null!==n&&!n.isEqual(t.field))throw new Pr(Or.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=vs(e);null!==r&&Vf(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new Pr(Or.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(this.M_,0,this.Lf,this.firestore.v_,i,n,r);return new e(function(e,t){var n=e.filters.concat([t]);return new cs(e.path,e.collectionGroup,e.rn.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(this.M_,o),this.firestore,this.x_)},e.prototype.orderBy=function(t,n){var r;if(void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new Pr(Or.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Gh("Query.orderBy",t),o=function(e,t,n){if(null!==e.startAt)throw new Pr(Or.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Pr(Or.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qs(t,n);return function(e,t){if(null===vs(e)){var n=ys(e);null!==n&&Vf(0,n,t.field)}}(e,r),r}(this.M_,i,r);return new e(function(e,t){var n=e.rn.concat([t]);return new cs(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(this.M_,o),this.firestore,this.x_)},e.prototype.limit=function(t){return sh("Query.limit",t),new e(bs(this.M_,t,"F"),this.firestore,this.x_)},e.prototype.limitToLast=function(t){return sh("Query.limitToLast",t),new e(bs(this.M_,t,"L"),this.firestore,this.x_)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.startAt",t,n,!0);return new e(ws(this.M_,i),this.firestore,this.x_)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.startAfter",t,n,!1);return new e(ws(this.M_,i),this.firestore,this.x_)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.endBefore",t,n,!0);return new e(ks(this.M_,i),this.firestore,this.x_)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.endAt",t,n,!1);return new e(ks(this.M_,i),this.firestore,this.x_)},e.prototype.isEqual=function(t){return t instanceof e&&this.firestore===t.firestore&&Cs(this.M_,t.M_)&&this.x_===t.x_},e.prototype.withConverter=function(t){return new e(this.M_,this.firestore,t)},e.prototype.Bf=function(e,t,n,r){if(t instanceof Rf)return function(e,t,n,r,i){if(!r)throw new Pr(Or.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=ms(e);s<a.length;s++){var u=a[s];if(u.field.B())o.push(ji(t,r.key));else{var l=r.field(u.field);if(Ii(l))throw new Pr(Or.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.M();throw new Pr(Or.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}o.push(l)}}return new Vs(o,i)}(this.M_,this.firestore.v_,e,t.o_.N_,r);var i=[t].concat(n);return function(e,t,n,r,i,o){var s=e.rn;if(i.length>s.length)throw new Pr(Or.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var l=i[u];if(s[u].field.B()){if("string"!=typeof l)throw new Pr(Or.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!gs(e)&&-1!==l.indexOf("/"))throw new Pr(Or.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var c=e.path.child(Lr.k(l));if(!Fr.G(c))throw new Pr(Or.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new Fr(c);a.push(ji(t,h))}else{var f=Uh(n,r,l);a.push(f)}}return new Vs(a,o)}(this.M_,this.firestore.v_,this.Lf,e,i,r)},e.prototype.onSnapshot=function(){for(var e,t,n,r=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var u={},l=0;if("object"!=typeof i[l]||Sa(i[l])||(u=i[l],l++),Sa(i[l])){var c=i[l];i[l]=null===(e=c.next)||void 0===e?void 0:e.bind(c),i[l+1]=null===(t=c.error)||void 0===t?void 0:t.bind(c),i[l+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}var h={next:function(e){i[l]&&i[l](new qf(r.firestore,new gf(r.firestore.o_,r.D_,new xh(r.firestore.o_,r.x_,r.M_),e)))},error:i[l+1],complete:i[l+2]};return Ff(this.M_),function(e,t,n,r){var i=this,a=new Jc(r),u=new pa(t,a,n);return e.rs.fs((function(){return o(i,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return t=la,[4,uf(e)];case 1:return[2,t.apply(void 0,[n.sent(),u])]}}))}))})),function(){a.r_(),e.rs.fs((function(){return o(i,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return t=ca,[4,uf(e)];case 1:return[2,t.apply(void 0,[n.sent(),u])]}}))}))}))}}(Tf(this.firestore.o_),this.M_,u,h)},e.prototype.get=function(e){var t=this;Ff(this.M_);var n=Tf(this.firestore.o_);return(e&&"cache"===e.source?function(e,t){var n=this,r=new Hs;return e.rs.fs((function(){return o(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return o(this,void 0,void 0,(function(){var r,i,o,a,u,l;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,il(e,t,!0)];case 1:return r=s.sent(),i=new ec(t,r.Xa),o=i.gh(r.documents),a=i.bi(o,!1),n.resolve(a.snapshot),[3,3];case 2:return u=s.sent(),l=sa(u,"Failed to execute query '"+t+" against cache"),n.reject(l),[3,3];case 3:return[2]}}))}))},[4,of(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,this.M_):function(e,t,n){var r=this;void 0===n&&(n={});var i=new Hs;return e.rs.fs((function(){return o(r,void 0,void 0,(function(){var r;return s(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Jc({next:function(n){t.fs((function(){return ca(e,s)})),n.fromCache&&"server"===r.source?i.reject(new Pr(Or.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),s=new pa(n,o,{includeMetadataChanges:!0,Hs:!0});return la(e,s)},[4,uf(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.rs,t,n,i])]}}))}))})),i.promise}(n,this.M_,e)).then((function(e){return new qf(t.firestore,new gf(t.firestore.o_,t.D_,new xh(t.firestore.o_,t.x_,t.M_),e))}))},e}(),Uf=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).S_=t,r}return i(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Df(this.S_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),t}(eh),qf=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).S_=t,r}return i(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return new jf(this.o_.query.M_,this.S_,this.o_.query.x_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this.o_.docs.map((function(t){return new Df(e.S_,t)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var t=this;return this.o_.docChanges(e).map((function(e){return new Uf(t.S_,e)}))},t.prototype.forEach=function(e,t){var n=this;this.o_.forEach((function(r){e.call(t,new Df(n.S_,r))}))},t.prototype.isEqual=function(e){return _f(this.o_,e.o_)},t}(eh),Bf=function(e){function t(t,n,r){var i=this;if((i=e.call(this,fs(t),n,r)||this).O_=t,t.length%2!=1)throw new Pr(Or.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.M()+" has "+t.length);return i}return i(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.M_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this.M_.path.S();return e.T()?null:Of.xf(e,this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.M_.path.M()},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){0===arguments.length&&(e=kr.u()),th("CollectionReference.doc","path",e);var t=Lr.k(e);return Of.xf(this.M_.path.child(t),this.firestore,this.x_)},t.prototype.add=function(e){var t=this.x_?this.x_.toFirestore(e):e,n=this.doc();return Of.b_(n.o_.C_,this.firestore,null).set(t).then((function(){return n}))},t.prototype.withConverter=function(e){return new t(this.O_,this.firestore,e)},t}(jf);function zf(e,t,n){var r=oh(t,Ih);if(r.firestore!==n.o_)throw new Pr(Or.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Hf(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Gf=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,new(Th.bind.apply(Th,a([void 0],t))))||this}return i(t,e),t.documentId=function(){return new t(Vr.q().M())},t.prototype.isEqual=function(e){return e instanceof eh&&(e=e.o_),e instanceof Th&&this.o_.F_.isEqual(e.F_)},t}(eh),Wf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.serverTimestamp=function(){var e=new ch("serverTimestamp");return e.a_="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new uh("deleteField");return e.a_="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new hh("arrayUnion",e)}).apply(void 0,e);return r.a_="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new fh("arrayRemove",e)}).apply(void 0,e);return r.a_="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(e){return new dh("increment",e)}(e);return n.a_="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this.o_.isEqual(e.o_)},t}(eh),Kf={Firestore:Sf,GeoPoint:ph,Timestamp:Nr,Blob:bh,Transaction:xf,WriteBatch:Af,DocumentReference:Of,DocumentSnapshot:Rf,Query:jf,QueryDocumentSnapshot:Df,QuerySnapshot:qf,CollectionReference:Bf,FieldPath:Gf,FieldValue:Wf,setLogLevel:function(e){fr.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};function Qf(e){!function(e,t){e.INTERNAL.registerComponent(new lr.a("firestore",(function(e){return function(e,t){return new Sf(e,new ff(e,t),new Ef)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Kf)))}(e),e.registerVersion("@firebase/firestore","2.0.2")}Qf(u.a)},zIRd:function(e,t,n){"use strict";var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,s,a=n("qOnz"),u=n("/6Yf"),l=n("q/0M"),c=((o={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",o["bad-app-name"]="Illegal App name: '{$appName}",o["duplicate-app"]="Firebase App named '{$appName}' already exists",o["app-deleted"]="Firebase App named '{$appName}' already deleted",o["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",o["invalid-log-argument"]="First argument to `onLog` must be null or a function.",o),h=new a.b("app","Firebase",c),f="[DEFAULT]",d=((s={})["@firebase/app"]="fire-core",s["@firebase/analytics"]="fire-analytics",s["@firebase/auth"]="fire-auth",s["@firebase/database"]="fire-rtdb",s["@firebase/functions"]="fire-fn",s["@firebase/installations"]="fire-iid",s["@firebase/messaging"]="fire-fcm",s["@firebase/performance"]="fire-perf",s["@firebase/remote-config"]="fire-rc",s["@firebase/storage"]="fire-gcs",s["@firebase/firestore"]="fire-fst",s["fire-js"]="fire-js",s["firebase-wrapper"]="fire-js-all",s),p=new l.b("@firebase/app"),v=function(){function e(e,t,n){var r,o,s=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a.e)(e),this.container=new u.b(t.name),this._addComponent(new u.a("app",(function(){return s}),"PUBLIC"));try{for(var l=i(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=f),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw h.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var y=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw h.create("bad-app-name",{appName:String(s)});if(Object(a.c)(t,s))throw h.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:o,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var l=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&l.push("and"),a&&l.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(l.join(" "))}s(new u.a(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:l.c,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw h.create("invalid-log-argument",{appName:name});Object(l.d)(e,t)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:s,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function o(e){if(e=e||f,!Object(a.c)(t,e))throw h.create("no-app",{appName:e});return t[e]}function s(s){var u,l,c=s.name;if(n.has(c))return p.debug("There were multiple attempts to register component "+c+"."),"PUBLIC"===s.type?r[c]:null;if(n.set(c,s),"PUBLIC"===s.type){var f=function(e){if(void 0===e&&(e=o()),"function"!=typeof e[c])throw h.create("invalid-app-argument",{appName:c});return e[c]()};void 0!==s.serviceProps&&Object(a.f)(f,s.serviceProps),r[c]=f,e.prototype[c]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,c);return n.apply(this,s.multipleInstances?e:[])}}try{for(var d=i(Object.keys(t)),v=d.next();!v.done;v=d.next())t[v.value]._addComponent(s)}catch(y){u={error:y}}finally{try{v&&!v.done&&(l=d.return)&&l.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[c]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),o.App=e,r}(v);return t.INTERNAL=r(r({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(a.f)(t,e)},createSubscribe:a.d,ErrorFactory:a.b,deepExtend:a.f}),t}(),g=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(a.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=y.initializeApp;y.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,e)};var b,w=y;(b=w).INTERNAL.registerComponent(new u.a("platform-logger",(function(e){return new g(e)}),"PRIVATE")),b.registerVersion("@firebase/app","0.6.13",void 0),b.registerVersion("fire-js",""),t.a=w},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function s(e){setTimeout((function(){throw e}))}var a={closed:!0,next:function(e){},error:function(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete:function(){}},u=Array.isArray||function(e){return e&&"number"==typeof e.length};function l(e){return null!==e&&"object"==typeof e}function c(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);var h,f=c,d=((h=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var e,t=!1;if(!this.closed){var n=this._parent,i=this._parents,o=this._unsubscribe,s=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var a=-1,c=i?i.length:0;n;)n.remove(this),n=++a<c&&i[a]||null;if(r(o))try{o.call(this)}catch(d){t=!0,e=d instanceof f?p(d.errors):[d]}if(u(s))for(a=-1,c=s.length;++a<c;){var h=s[a];if(l(h))try{h.unsubscribe()}catch(d){t=!0,e=e||[],d instanceof f?e=e.concat(p(d.errors)):e.push(d)}}if(t)throw new f(e)}}},{key:"add",value:function(t){var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}},{key:"_addParent",value:function(e){var t=this._parent,n=this._parents;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new h),h);function p(e){return e.reduce((function(e,t){return e.concat(t instanceof f?t.errors:t)}),[])}var v="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),y=function(e){function t(e,n,r){var i;switch(_classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=a;break;case 1:if(!e){i.destination=a;break}if("object"==typeof e){e instanceof t?(i.syncErrorThrowable=e.syncErrorThrowable,i.destination=e,e.add(_assertThisInitialized(i))):(i.syncErrorThrowable=!0,i.destination=new g(_assertThisInitialized(i),e));break}default:i.syncErrorThrowable=!0,i.destination=new g(_assertThisInitialized(i),e,n,r)}return i}return _inherits(t,e),_createClass(t,[{key:v,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(t.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}],[{key:"create",value:function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i}}]),t}(d),g=function(e){function t(e,n,i,o){var s,u;_classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parentSubscriber=e;var l=_assertThisInitialized(s);return r(n)?u=n:n&&(u=n.next,i=n.error,o=n.complete,n!==a&&(r((l=Object.create(n)).unsubscribe)&&s.add(l.unsubscribe.bind(l)),l.unsubscribe=s.unsubscribe.bind(_assertThisInitialized(s)))),s._context=l,s._next=u,s._error=i,s._complete=o,s}return _inherits(t,e),_createClass(t,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;s(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(s(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),t}(y),m="function"==typeof Symbol&&Symbol.observable||"@@observable";function _(){}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w(t)}function w(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:_}var k,C=((k=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof y)return e;if(e[v])return e[v]()}return e||t||n?new y(e,t,n):new y(a)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof y?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=E(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:m,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:w(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=E(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new k(e)},k);function E(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function S(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}S.prototype=Object.create(Error.prototype);var T,I=S,x=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).subject=e,r.subscriber=n,r.closed=!1,r}return _inherits(t,e),_createClass(t,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),t}(d),A=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).destination=e,n}return _inherits(t,e),t}(y),O=((T=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _inherits(t,e),_createClass(t,[{key:v,value:function(){return new A(this)}},{key:"lift",value:function(e){var t=new P(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new I;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new I;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new I;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new I;return _get(_getPrototypeOf(t.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new I;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new x(this,e))}},{key:"asObservable",value:function(){var e=new C;return e.source=this,e}}]),t}(C)).create=function(e,t){return new P(e,t)},T),P=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).destination=e,r.source=n,r}return _inherits(t,e),_createClass(t,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):d.EMPTY}}]),t}(O);function N(e){return e&&"function"==typeof e.schedule}var R=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),t}(y),D=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}},L=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,s),t}};var M="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",V=function(e){return function(t){for(var n=e[M]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}},F=function(e){return function(t){var n=e[m]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},j=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function U(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var q=function(e){if(e instanceof C)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[m])return F(e);if(j(e))return D(e);if(U(e))return L(e);if(e&&"function"==typeof e[M])return V(e);var t=l(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(t," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function B(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new R(e,n,r);if(!i.closed)return q(t)(i)}var z=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),t}(y);function H(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new G(e,t))}}var G=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new W(e,this.project,this.thisArg))}}]),e}(),W=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,i.count=0,i.thisArg=r||_assertThisInitialized(i),i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),t}(y);function K(e,t){return new C(t?function(n){var r=new d,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:D(e))}function Q(e,t){if(!t)return e instanceof C?e:new C(q(e));if(null!=e){if(function(e){return e&&"function"==typeof e[m]}(e))return function(e,t){return new C(t?function(n){var r=new d;return r.add(t.schedule((function(){var i=e[m]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}:F(e))}(e,t);if(U(e))return function(e,t){return new C(t?function(n){var r=new d;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}:L(e))}(e,t);if(j(e))return K(e,t);if(function(e){return e&&"function"==typeof e[M]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new C(t?function(n){var r,i=new d;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[M](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}:V(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(Z((function(n,r){return Q(e(n,r)).pipe(H((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new $(e,n))})}var $=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Y(e,this.project,this.concurrent))}}]),e}(),Y=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,r.concurrent=i,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new R(this,void 0,void 0);this.destination.add(r),B(this,e,t,n,r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),t}(z);function X(e){return e}function J(){return Z(X,arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY)}function ee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return N(o)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof o&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof C?t[0]:J(r)(K(t,i))}function te(){return function(e){return e.lift(new ne(e))}}var ne=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new re(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),re=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).connectable=n,r}return _inherits(t,e),_createClass(t,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),t}(y),ie=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return _inherits(t,e),_createClass(t,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d).add(this.source.subscribe(new se(this.getSubject(),this))),e.closed?(this._connection=null,e=d.EMPTY):this._connection=e),e}},{key:"refCount",value:function(){return te()(this)}}]),t}(C).prototype,oe={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ie._subscribe},_isComplete:{value:ie._isComplete,writable:!0},getSubject:{value:ie.getSubject},connect:{value:ie.connect},refCount:{value:ie.refCount}},se=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).connectable=n,r}return _inherits(t,e),_createClass(t,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(t.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(t.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),t}(A);function ae(){return new O}var ue="__parameters__";function le(e,t,n){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return s.annotation=o,s;function s(e,t,n){for(var r=e.hasOwnProperty(ue)?e[ue]:Object.defineProperty(e,ue,{value:[]})[ue];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}var ce=le("Inject",(function(e){return{token:e}})),he=le("Optional"),fe=le("Self"),de=le("SkipSelf"),pe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ve(e){for(var t in e)if(e[t]===ve)return t;throw Error("Could not find renamed property on target object.")}function ye(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ge(e){var t=e[me];return t&&t.token===e?t:null}var me=ve({ngInjectableDef:ve});function _e(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(_e).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}var be=ve({__forward_ref__:ve});function we(e){return e.__forward_ref__=we,e.toString=function(){return _e(this())},e}function ke(e){var t=e;return"function"==typeof t&&t.hasOwnProperty(be)&&t.__forward_ref__===we?t():e}var Ce,Ee="undefined"!=typeof globalThis&&globalThis,Se="undefined"!=typeof window&&window,Te="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ie="undefined"!=typeof global&&global,xe=Ee||Ie||Se||Te,Ae=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=ye({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),Oe=new Ae("INJECTOR",-1),Pe=new Object,Ne=/\n/gm,Re="\u0275",De="__source",Le=ve({provide:String,useValue:ve}),Me=void 0;function Ve(e){var t=Me;return Me=e,t}function Fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe.Default;if(void 0===Me)throw new Error("inject() must be called from an injection context");return null===Me?function(e,t,n){var r=ge(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&pe.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(_e(e),"]"))}(e,0,t):Me.get(e,t&pe.Optional?null:void 0,t)}function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe.Default;return(Ce||Fe)(e,t)}var Ue=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe;if(t===Pe){var n=new Error("NullInjectorError: No provider for ".concat(_e(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}();function qe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Re?e.substr(2):e;var i=_e(t);if(t instanceof Array)i=t.map(_e).join(" -> ");else if("object"==typeof t){var o=[];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):_e(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(Ne,"\n  "))}var Be=function e(){_classCallCheck(this,e)},ze=function e(){_classCallCheck(this,e)};function He(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ge(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var We=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Ke=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(xe),Qe="ngDebugContext",Ze="ngOriginalError",$e="ngErrorLogger";function Ye(e){return e[Qe]}function Xe(e){return e[Ze]}function Je(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var et=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[$e]||Je}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Ye(e)?Ye(e):this._findContext(Xe(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Xe(e);t&&Xe(t);)t=Xe(t);return t}}]),e}(),tt=!0,nt=!1;function rt(){return nt=!0,tt}var it=function(){function e(t){if(_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),this.inertBodyElement=this.inertDocument.createElement("body"),n.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),ot=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,st=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function at(e){return(e=String(e)).match(ot)||e.match(st)?e:(rt()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function ut(e){var t={},n=!0,r=!1,i=void 0;try{for(var o,s=e.split(",")[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){t[o.value]=!0}}catch(a){r=!0,i=a}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return t}function lt(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];for(var a in s)s.hasOwnProperty(a)&&(e[a]=!0)}return e}var ct,ht=ut("area,br,col,hr,img,wbr"),ft=ut("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dt=ut("rp,rt"),pt=lt(dt,ft),vt=lt(ht,lt(ft,ut("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lt(dt,ut("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pt),yt=ut("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gt=ut("srcset"),mt=lt(yt,gt,ut("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ut("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_t=ut("script,style,template"),bt=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!vt.hasOwnProperty(t))return this.sanitizedSomething=!0,!_t.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var o=r.item(i),s=o.name,a=s.toLowerCase();if(mt.hasOwnProperty(a)){var u=o.value;yt[a]&&(u=at(u)),gt[a]&&(n=u,u=(n=String(n)).split(",").map((function(e){return at(e.trim())})).join(", ")),this.buf.push(" ",s,'="',Ct(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();vt.hasOwnProperty(t)&&!ht.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(Ct(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),wt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kt=/([^\#-~ |!])/g;function Ct(e){return e.replace(/&/g,"&amp;").replace(wt,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(kt,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Et(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var St=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),Tt=function e(){_classCallCheck(this,e)},It=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),xt=/^url\(([^)]+)\)$/;function At(e){var t;return t=e.replace(/[$@]/g,"_"),"ng-reflect-".concat(e=t.replace(Ot,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"-"+t[1].toLowerCase()})))}var Ot=/([A-Z])/g;function Pt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}var Nt=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Rt()},e}(),Rt=function(){},Dt=new Ae("The presence of this token marks an injector as being the root injector."),Lt=function(e,t,n){return new qt(e,t,n)},Mt=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Lt(e,t,""):Lt(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Pe,e.NULL=new Ue,e.ngInjectableDef=ye({token:e,providedIn:"any",factory:function(){return je(Oe)}}),e.__NG_ELEMENT_ID__=-1,e}(),Vt=function(e){return e},Ft=[],jt=Vt,Ut=function(){return Array.prototype.slice.call(arguments)},qt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt.NULL,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,e),this.parent=n,this.source=r;var i=this._records=new Map;i.set(Mt,{token:Mt,fn:Vt,deps:Ft,value:this,useNew:!1}),i.set(Oe,{token:Oe,fn:Vt,deps:Ft,value:this,useNew:!1}),function e(t,n){if(n)if((n=ke(n))instanceof Array)for(var r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw zt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw zt("Unexpected provider",n);var i=ke(n.provide),o=function(e){var t=function(e){var t=Ft,n=e.deps;if(n&&n.length){t=[];for(var r=0;r<n.length;r++){var i=6,o=ke(n[r]);if(o instanceof Array)for(var s=0,a=o;s<a.length;s++){var u=a[s];u instanceof he||u==he?i|=1:u instanceof de||u==de?i&=-3:u instanceof fe||u==fe?i&=-5:o=u instanceof ce?u.token:ke(u)}t.push({token:o,options:i})}}else if(e.useExisting)t=[{token:ke(e.useExisting),options:6}];else if(!(n||Le in e))throw zt("'deps' required",e);return t}(e),n=Vt,r=Ft,i=!1,o=ke(e.provide);if(Le in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=ke(e.useClass);else{if("function"!=typeof o)throw zt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=o}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var s=t.get(i);if(s){if(s.fn!==Ut)throw Bt(i)}else t.set(i,s={token:n.provide,deps:[],useNew:!1,fn:Ut,value:Ft});s.deps.push({token:i=n,options:6})}var a=t.get(i);if(a&&a.fn==Ut)throw Bt(i);t.set(i,o)}}(i,t)}return _createClass(e,[{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pe.Default,r=this._records.get(e);try{return function e(t,n,r,i,o,s){try{return function(t,n,r,i,o,s){var a;if(!n||s&pe.SkipSelf)s&pe.Self||(a=i.get(t,o,pe.Default));else{if((a=n.value)==jt)throw Error("\u0275Circular dependency");if(a===Ft){n.value=jt;var u=n.useNew,l=n.fn,c=n.deps,h=Ft;if(c.length){h=[];for(var f=0;f<c.length;f++){var d=c[f],p=d.options,v=2&p?r.get(d.token):void 0;h.push(e(d.token,v,r,v||4&p?i:Mt.NULL,1&p?null:Mt.THROW_IF_NOT_FOUND,pe.Default))}}n.value=a=u?_construct(l,_toConsumableArray(h)):l.apply(void 0,h)}}return a}(t,n,r,i,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(t),n&&n.value==jt&&(n.value=Ft),a}}(e,r,this._records,this.parent,t,n)}catch(i){return function(e,t,n,r){var i=e.ngTempTokenPath;throw t[De]&&i.unshift(t[De]),e.message=qe("\n"+e.message,i,"StaticInjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(i,e,0,this.source)}}},{key:"toString",value:function(){var e=[];return this._records.forEach((function(t,n){return e.push(_e(n))})),"StaticInjector[".concat(e.join(", "),"]")}}]),e}();function Bt(e){return zt("Cannot mix multi providers and regular providers",e)}function zt(e,t){return new Error(qe(e,t,"StaticInjectorError"))}var Ht=new Ae("AnalyzeForEntryComponents"),Gt=null;function Wt(){if(!Gt){var e=xe.Symbol;if(e&&e.iterator)Gt=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Gt=r)}}return Gt}function Kt(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Qt(e,t){var n=$t(e),r=$t(t);return n&&r?function(e,t,n){for(var r=e[Wt()](),i=t[Wt()]();;){var o=r.next(),s=i.next();if(o.done&&s.done)return!0;if(o.done||s.done)return!1;if(!n(o.value,s.value))return!1}}(e,t,Qt):!(n||!(e&&("object"==typeof e||"function"==typeof e))||r||!(t&&("object"==typeof t||"function"==typeof t)))||Kt(e,t)}var Zt=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function $t(e){return!!Yt(e)&&(Array.isArray(e)||!(e instanceof Map)&&Wt()in e)}function Yt(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Xt(e){return!!e&&"function"==typeof e.then}function Jt(e){return!!e&&"function"==typeof e.subscribe}var en=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}(),tn=function e(){_classCallCheck(this,e)},nn=function e(){_classCallCheck(this,e)};function rn(e){var t=Error("No component factory found for ".concat(_e(e),". Did you add it to @NgModule.entryComponents?"));return t[on]=e,t}var on="ngComponent",sn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw rn(e)}}]),e}(),an=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new sn,e}(),un=function(){function e(t,n,r){_classCallCheck(this,e),this._parent=n,this._ngModule=r,this._factories=new Map;for(var i=0;i<t.length;i++){var o=t[i];this._factories.set(o.componentType,o)}}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw rn(e);return new ln(t,this._ngModule)}}]),e}(),ln=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}]),t}(nn);function cn(){}var hn=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return fn(e)},e}(),fn=cn,dn=function e(){_classCallCheck(this,e)},pn=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),vn=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return yn()},e}(),yn=cn,gn=function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},mn=new gn("8.2.14"),_n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return $t(e)}},{key:"create",value:function(e){return new wn(e)}}]),e}(),bn=function(e,t){return t},wn=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||bn}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Sn(n,r,i)?t:n,s=Sn(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,l=a-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;l<=f&&f<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}s!==a&&e(o,s,a)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!$t(e))throw new Error("Error trying to diff '".concat(_e(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)i=this._trackByFn(a,r=e[a]),null!==o&&Kt(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),Kt(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Wt()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&Kt(o.trackById,i)?(s&&(o=t._verifyReinsertion(o,e,i,n)),Kt(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Kt(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Kt(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new kn(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new En),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new En),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),kn=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Cn=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Kt(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),En=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Cn,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Sn(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var Tn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Yt(e)}},{key:"create",value:function(){return new In}}]),e}(),In=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Yt(e)))throw new Error("Error trying to diff '".concat(_e(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new xn(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Kt(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),xn=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},An=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new de,new he]]}}}]),e}();return e.ngInjectableDef=ye({token:e,providedIn:"root",factory:function(){return new e([new _n])}}),e}(),On=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new de,new he]]}}}]),e}();return e.ngInjectableDef=ye({token:e,providedIn:"root",factory:function(){return new e([new Tn])}}),e}(),Pn=[new Tn],Nn=new An([new _n]),Rn=new On(Pn),Dn=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Ln(e,hn)},e}(),Ln=cn,Mn=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Vn(e,hn)},e}(),Vn=cn;function Fn(e,t,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(t,"'. Current value: '").concat(n,"'.");return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return jn(n,t),n}(i,e)}function jn(e,t){e[Qe]=t,e[$e]=t.logError.bind(t)}function Un(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: ".concat(e))}function qn(e,t,n){var r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function Bn(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function zn(e,t){return e.nodes[t]}function Hn(e,t){return e.nodes[t]}function Gn(e,t){return e.nodes[t]}function Wn(e,t){return e.nodes[t]}function Kn(e,t){return e.nodes[t]}var Qn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Zn=function(){},$n=new Map;function Yn(e){var t=$n.get(e);return t||(t=_e(e)+"_"+$n.size,$n.set(e,t)),t}var Xn="$$undefined",Jn="$$empty";function er(e){return{id:Xn,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var tr=0;function nr(e,t,n,r){return!(!(2&e.state)&&Kt(e.oldValues[t.bindingIndex+n],r))}function rr(e,t,n,r){return!!nr(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function ir(e,t,n,r){var i=e.oldValues[t.bindingIndex+n];if(1&e.state||!Qt(i,r)){var o=t.bindings[n].name;throw Fn(Qn.createDebugContext(e,t.nodeIndex),"".concat(o,": ").concat(i),"".concat(o,": ").concat(r),0!=(1&e.state))}}function or(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function sr(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function ar(e,t,n,r){try{return or(33554432&e.def.nodes[t].flags?Hn(e,t).componentView:e),Qn.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function ur(e){return e.parent?Hn(e.parent,e.parentNodeDef.nodeIndex):null}function lr(e){return e.parent?e.parentNodeDef.parent:null}function cr(e,t){switch(201347067&t.flags){case 1:return Hn(e,t.nodeIndex).renderElement;case 2:return zn(e,t.nodeIndex).renderText}}function hr(e,t){return e?"".concat(e,":").concat(t):t}function fr(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function dr(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function pr(e){var t={},n=0,r={};return e&&e.forEach((function(e){var i=_slicedToArray(e,2),o=i[0],s=i[1];"number"==typeof o?(t[o]=s,n|=function(e){return 1<<e%32}(o)):r[o]=s})),{matchedQueries:t,references:r,matchedQueryIds:n}}function vr(e,t){return e.map((function(e){var n,r,i;return Array.isArray(e)?(i=(n=_slicedToArray(e,2))[0],r=n[1]):(i=0,r=e),r&&("function"==typeof r||"object"==typeof r)&&t&&Object.defineProperty(r,De,{value:t,configurable:!0}),{flags:i,token:r,tokenKey:Yn(r)}}))}function yr(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===We.Native?Hn(e,n.renderParent.nodeIndex).renderElement:void 0:t}var gr=new WeakMap;function mr(e){var t=gr.get(e);return t||((t=e((function(){return Zn}))).factory=e,gr.set(e,t)),t}function _r(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(cr(e,e.def.lastRenderRootNode))),br(e,t,0,e.def.nodes.length-1,n,r,i)}function br(e,t,n,r,i,o,s){for(var a=n;a<=r;a++){var u=e.def.nodes[a];11&u.flags&&kr(e,u,t,i,o,s),a+=u.childCount}}function wr(e,t,n,r,i,o){for(var s=e;s&&!fr(s);)s=s.parent;for(var a=s.parent,u=lr(s),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=a.def.nodes[c];h.ngContentIndex===t&&kr(a,h,n,r,i,o),c+=h.childCount}if(!a.parent){var f=e.root.projectableNodes[t];if(f)for(var d=0;d<f.length;d++)Cr(e,f[d],n,r,i,o)}}function kr(e,t,n,r,i,o){if(8&t.flags)wr(e,t.ngContent.index,n,r,i,o);else{var s=cr(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Cr(e,s,n,r,i,o),32&t.bindingFlags&&Cr(Hn(e,t.nodeIndex).componentView,s,n,r,i,o)):Cr(e,s,n,r,i,o),16777216&t.flags)for(var a=Hn(e,t.nodeIndex).viewContainer._embeddedViews,u=0;u<a.length;u++)_r(a[u],n,r,i,o);1&t.flags&&!t.element.name&&br(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function Cr(e,t,n,r,i,o){var s=e.renderer;switch(n){case 1:s.appendChild(r,t);break;case 2:s.insertBefore(r,t,i);break;case 3:s.removeChild(r,t);break;case 0:o.push(t)}}var Er=/^:([^:]+):(.+)$/;function Sr(e){if(":"===e[0]){var t=e.match(Er);return[t[1],t[2]]}return["",e]}function Tr(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function Ir(e,t,n,r,i,o,s,a,u,l,c,h,f,d,p,v,y,g,m,_){switch(e){case 1:return t+xr(n)+r;case 2:return t+xr(n)+r+xr(i)+o;case 3:return t+xr(n)+r+xr(i)+o+xr(s)+a;case 4:return t+xr(n)+r+xr(i)+o+xr(s)+a+xr(u)+l;case 5:return t+xr(n)+r+xr(i)+o+xr(s)+a+xr(u)+l+xr(c)+h;case 6:return t+xr(n)+r+xr(i)+o+xr(s)+a+xr(u)+l+xr(c)+h+xr(f)+d;case 7:return t+xr(n)+r+xr(i)+o+xr(s)+a+xr(u)+l+xr(c)+h+xr(f)+d+xr(p)+v;case 8:return t+xr(n)+r+xr(i)+o+xr(s)+a+xr(u)+l+xr(c)+h+xr(f)+d+xr(p)+v+xr(y)+g;case 9:return t+xr(n)+r+xr(i)+o+xr(s)+a+xr(u)+l+xr(c)+h+xr(f)+d+xr(p)+v+xr(y)+g+xr(m)+_;default:throw new Error("Does not support more than 9 expressions")}}function xr(e){return null!=e?e.toString():""}var Ar=new Object,Or=Yn(Mt),Pr=Yn(Oe),Nr=Yn(Be);function Rr(e,t,n,r){return n=ke(n),{index:-1,deps:vr(r,_e(t)),flags:e,token:t,value:n}}function Dr(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mt.THROW_IF_NOT_FOUND,o=Ve(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(i=null),1&t.flags)return e._parent.get(t.token,i);var s=t.tokenKey;switch(s){case Or:case Pr:case Nr:return e}var a,u=e._def.providersByKey[s];if(u){var l=e._providers[u.index];return void 0===l&&(l=e._providers[u.index]=Lr(e,u)),l===Ar?void 0:l}if((a=ge(t.token))&&(n=e,null!=(r=a).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(n,r.providedIn)||"root"===r.providedIn&&n._def.isRoot))){var c=e._providers.length;return e._def.providers[c]=e._def.providersByKey[t.tokenKey]={flags:5120,value:a.factory,deps:[],index:c,token:t.token},e._providers[c]=Ar,e._providers[c]=Lr(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?i:e._parent.get(t.token,i)}finally{Ve(o)}}function Lr(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var r=n.length;switch(r){case 0:return new t;case 1:return new t(Dr(e,n[0]));case 2:return new t(Dr(e,n[0]),Dr(e,n[1]));case 3:return new t(Dr(e,n[0]),Dr(e,n[1]),Dr(e,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=Dr(e,n[o]);return _construct(t,i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var r=n.length;switch(r){case 0:return t();case 1:return t(Dr(e,n[0]));case 2:return t(Dr(e,n[0]),Dr(e,n[1]));case 3:return t(Dr(e,n[0]),Dr(e,n[1]),Dr(e,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=Dr(e,n[o]);return t.apply(void 0,i)}}(e,t.value,t.deps);break;case 2048:n=Dr(e,t.deps[0]);break;case 256:n=t.value}return n===Ar||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Ar:n}function Mr(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,Ge(n,t),Qn.dirtyParentQueries(r),Fr(r),r}function Vr(e,t,n){var r=t?cr(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);_r(n,2,i,o,void 0)}function Fr(e){_r(e,3,null,null,void 0)}var jr=new Object;function Ur(e,t,n,r,i,o){return new qr(e,t,n,r,i,o)}var qr=function(e){function t(e,n,r,i,o,s){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).selector=e,a.componentType=n,a._inputs=i,a._outputs=o,a.ngContentSelectors=s,a.viewDefFactory=r,a}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e,t,n,r){if(!r)throw new Error("ngModule should be provided");var i=mr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=Qn.createRootView(e,t||[],n,i,r,jr),a=Gn(s,o).instance;return n&&s.renderer.setAttribute(Hn(s,0).renderElement,"ng-version",mn.full),new Br(s,new Wr(s),a)}},{key:"inputs",get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e}},{key:"outputs",get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}}]),t}(nn),Br=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return _inherits(t,e),_createClass(t,[{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(e){this._viewRef.onDestroy(e)}},{key:"location",get:function(){return new hn(Hn(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new $r(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}}]),t}(tn);function zr(e,t,n){return new Hr(e,t,n)}var Hr=function(){function e(t,n,r){_classCallCheck(this,e),this._view=t,this._elDef=n,this._data=r,this._embeddedViews=[]}return _createClass(e,[{key:"clear",value:function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Mr(this._data,e);Qn.destroyView(t)}}},{key:"get",value:function(e){var t=this._embeddedViews[e];if(t){var n=new Wr(t);return n.attachToViewContainerRef(this),n}return null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;i||e instanceof ln||(i=o.get(Be));var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,s,a=e;return n=this._view,r=this._data,i=t,o=a._view,s=r.viewContainer._embeddedViews,null==i&&(i=s.length),o.viewContainerParent=n,He(s,i,o),function(e,t){var n=ur(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(!(4&t.flags)){e.nodeFlags|=4,t.flags|=4;for(var n=t.parent;n;)n.childFlags|=4,n=n.parent}}(t.parent.def,t.parentNodeDef)}}(r,o),Qn.dirtyParentQueries(o),Vr(r,i>0?s[i-1]:null,o),a.attachToViewContainerRef(this),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,s,a=this._embeddedViews.indexOf(e._view);return n=this._data,r=a,i=t,o=n.viewContainer._embeddedViews,s=o[r],Ge(o,r),null==i&&(i=o.length),He(o,i,s),Qn.dirtyParentQueries(s),Fr(s),Vr(n,i>0?o[i-1]:null,s),e}},{key:"indexOf",value:function(e){return this._embeddedViews.indexOf(e._view)}},{key:"remove",value:function(e){var t=Mr(this._data,e);t&&Qn.destroyView(t)}},{key:"detach",value:function(e){var t=Mr(this._data,e);return t?new Wr(t):null}},{key:"element",get:function(){return new hn(this._data.renderElement)}},{key:"injector",get:function(){return new $r(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=lr(e),e=e.parent;return e?new $r(e,t):new $r(this._view,null)}},{key:"length",get:function(){return this._embeddedViews.length}}]),e}();function Gr(e){return new Wr(e)}var Wr=function(){function e(t){_classCallCheck(this,e),this._view=t,this._viewContainerRef=null,this._appRef=null}return _createClass(e,[{key:"markForCheck",value:function(){or(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{Qn.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}},{key:"checkNoChanges",value:function(){Qn.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Qn.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,Fr(this._view),Qn.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"rootNodes",get:function(){return _r(this._view,0,void 0,void 0,e=[]),e;var e}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}}]),e}();function Kr(e,t){return new Qr(e,t)}var Qr=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parentView=e,r._def=n,r}return _inherits(t,e),_createClass(t,[{key:"createEmbeddedView",value:function(e){return new Wr(Qn.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}},{key:"elementRef",get:function(){return new hn(Hn(this._parentView,this._def.nodeIndex).renderElement)}}]),t}(Dn);function Zr(e,t){return new $r(e,t)}var $r=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.elDef=n}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt.THROW_IF_NOT_FOUND;return Qn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Yn(e)},t)}}]),e}();function Yr(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=Hn(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return zn(e,n.nodeIndex).renderText;if(20240&n.flags)return Gn(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index ".concat(t))}function Xr(e){return new Jr(e.renderer)}var Jr=function(){function e(t){_classCallCheck(this,e),this.delegate=t}return _createClass(e,[{key:"selectRootElement",value:function(e){return this.delegate.selectRootElement(e)}},{key:"createElement",value:function(e,t){var n=_slicedToArray(Sr(t),2),r=n[0],i=n[1],o=this.delegate.createElement(i,r);return e&&this.delegate.appendChild(e,o),o}},{key:"createViewRoot",value:function(e){return e}},{key:"createTemplateAnchor",value:function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}},{key:"createText",value:function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}},{key:"projectNodes",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}},{key:"attachViewAfter",value:function(e,t){for(var n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e),i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}},{key:"detachView",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}},{key:"destroyView",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"listenGlobal",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"setElementProperty",value:function(e,t,n){this.delegate.setProperty(e,t,n)}},{key:"setElementAttribute",value:function(e,t,n){var r=_slicedToArray(Sr(t),2),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(e,o,n,i):this.delegate.removeAttribute(e,o,i)}},{key:"setBindingDebugInfo",value:function(e,t,n){}},{key:"setElementClass",value:function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}},{key:"setElementStyle",value:function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}},{key:"invokeElementMethod",value:function(e,t,n){e[t].apply(e,n)}},{key:"setText",value:function(e,t){this.delegate.setValue(e,t)}},{key:"animate",value:function(){throw new Error("Renderer.animate is no longer supported!")}}]),e}();function ei(e,t,n,r){return new ti(e,t,n,r)}var ti=function(){function e(t,n,r,i){_classCallCheck(this,e),this._moduleType=t,this._parent=n,this._bootstrapComponents=r,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),r=0;r<t.providers.length;r++){var i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Lr(e,i))}}(this)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pe.Default,r=0;return n&pe.SkipSelf?r|=1:n&pe.Self&&(r|=4),Dr(this,{token:e,tokenKey:Yn(e),flags:r},t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(_e(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(e,t){for(var n=e._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=e._providers[i];if(o&&o!==Ar){var s=o.ngOnDestroy;"function"!=typeof s||r.has(o)||(s.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach((function(e){return e()}))}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(an)}}]),e}(),ni=Yn((function e(){_classCallCheck(this,e)})),ri=Yn(vn),ii=Yn(hn),oi=Yn(Mn),si=Yn(Dn),ai=Yn(Nt),ui=Yn(Mt),li=Yn(Oe);function ci(e,t,n,r,i,o,s,a){var u=[];if(s)for(var l in s){var c=_slicedToArray(s[l],2),h=c[0],f=c[1];u[h]={flags:8,name:l,nonMinifiedName:f,ns:null,securityContext:null,suffix:null}}var d=[];if(a)for(var p in a)d.push({type:1,propName:p,target:null,eventName:a[p]});return fi(e,t|=16384,n,r,i,i,o,u,d)}function hi(e,t,n,r,i){return fi(-1,e,t,0,n,r,i)}function fi(e,t,n,r,i,o,s,a,u){var l=pr(n),c=l.matchedQueries,h=l.references,f=l.matchedQueryIds;u||(u=[]),a||(a=[]),o=ke(o);var d=vr(s,_e(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Tr(a),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function di(e,t){return gi(e,t)}function pi(e,t){for(var n=e;n.parent&&!fr(n);)n=n.parent;return mi(n.parent,lr(n),!0,t.provider.value,t.provider.deps)}function vi(e,t){var n=mi(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var r=0;r<t.outputs.length;r++){var i=t.outputs[r],o=n[i.propName];if(!Jt(o))throw new Error("@Output ".concat(i.propName," not initialized in '").concat(n.constructor.name,"'."));var s=o.subscribe(yi(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=s.unsubscribe.bind(s)}return n}function yi(e,t,n){return function(r){return ar(e,t,n,r)}}function gi(e,t){var n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return mi(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(bi(e,t,n,i[0]));case 2:return r(bi(e,t,n,i[0]),bi(e,t,n,i[1]));case 3:return r(bi(e,t,n,i[0]),bi(e,t,n,i[1]),bi(e,t,n,i[2]));default:for(var s=Array(o),a=0;a<o;a++)s[a]=bi(e,t,n,i[a]);return r.apply(void 0,s)}}(e,t.parent,n,r.value,r.deps);case 2048:return bi(e,t.parent,n,r.deps[0]);case 256:return r.value}}function mi(e,t,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(bi(e,t,n,i[0]));case 2:return new r(bi(e,t,n,i[0]),bi(e,t,n,i[1]));case 3:return new r(bi(e,t,n,i[0]),bi(e,t,n,i[1]),bi(e,t,n,i[2]));default:for(var s=new Array(o),a=0;a<o;a++)s[a]=bi(e,t,n,i[a]);return _construct(r,s)}}var _i={};function bi(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mt.THROW_IF_NOT_FOUND;if(8&r.flags)return r.token;var o=e;2&r.flags&&(i=null);var s=r.tokenKey;s===ai&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);for(var a=e;a;){if(t)switch(s){case ni:return Xr(wi(a,t,n));case ri:return wi(a,t,n).renderer;case ii:return new hn(Hn(a,t.nodeIndex).renderElement);case oi:return Hn(a,t.nodeIndex).viewContainer;case si:if(t.element.template)return Hn(a,t.nodeIndex).template;break;case ai:return Gr(wi(a,t,n));case ui:case li:return Zr(a,t);default:var u=(n?t.element.allProviders:t.element.publicProviders)[s];if(u){var l=Gn(a,u.nodeIndex);return l||(l={instance:gi(a,u)},a.nodes[u.nodeIndex]=l),l.instance}}n=fr(a),t=lr(a),a=a.parent,4&r.flags&&(a=null)}var c=o.root.injector.get(r.token,_i);return c!==_i||i===_i?c:o.root.ngModule.injector.get(r.token,i)}function wi(e,t,n){var r;if(n)r=Hn(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!fr(r);)r=r.parent;return r}function ki(e,t,n,r,i,o){if(32768&n.flags){var s=Hn(e,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var a=Zt.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new en(a,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function Ci(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],s=o.parent;for(!s&&o.flags&t&&Si(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(r=Ei(e,s,t,r)),s=s.parent}}function Ei(e,t,n,r){for(var i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){var o=e.def.nodes[i];o.flags&n&&Si(e,i,o.flags&n,r++),i+=o.childCount}return r}function Si(e,t,n,r){var i=Gn(e,t);if(i){var o=i.instance;o&&(Qn.setCurrentNode(e,t),1048576&n&&Bn(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Bn(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var Ti=new Ae("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Ke}}),Ii={},xi=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Ai=void 0,Oi=["en",[["a","p"],["AM","PM"],Ai],[["AM","PM"],Ai,Ai],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ai,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ai,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ai,"{1} 'at' {0}",Ai],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Pi="en-US";function Ni(e){null==e&&function(e){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"))}(),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var Ri=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).__isAsync=n,e}return _inherits(t,e),_createClass(t,[{key:"emit",value:function(e){_get(_getPrototypeOf(t.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,n,r){var i,o=function(e){return null},s=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},n&&(o=this.__isAsync?function(e){setTimeout((function(){return n(e)}))}:function(e){n(e)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var a=_get(_getPrototypeOf(t.prototype),"subscribe",this).call(this,i,o,s);return e instanceof d&&e.add(a),a}}]),t}(O);function Di(){return this._results[Wt()]()}var Li=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new Ri,this.length=0;var t=Wt(),n=e.prototype;n[t]||(n[t]=Di)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Mi=new Ae("Application Initializer"),Vi=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Xt(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}(),Fi=new Ae("AppId");function ji(){return"".concat(Ui()).concat(Ui()).concat(Ui())}function Ui(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var qi=new Ae("Platform Initializer"),Bi=new Ae("Platform ID"),zi=new Ae("appBootstrapListener"),Hi=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}(),Gi=new Ae("LocaleId"),Wi=!1;function Ki(){throw new Error("Runtime compiler is not loaded")}var Qi,Zi,$i=Ki,Yi=Ki,Xi=Ki,Ji=Ki,eo=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=$i,this.compileModuleAsync=Yi,this.compileModuleAndAllComponentsSync=Xi,this.compileModuleAndAllComponentsAsync=Ji}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}(),to=function e(){_classCallCheck(this,e)};var no,ro=!(!(no=xe.wtf)||!(Qi=no.trace)||(Zi=Qi.events,0));function io(e,t){return null}var oo=ro?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Zi.createScope(e,t)}:function(e,t){return io},so=ro?function(e,t){return Qi.leaveScope(e,t),t}:function(e,t){return t},ao=Promise.resolve(0);function uo(e){"undefined"==typeof Zone?ao.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var lo=function(){function e(t){var n,r=t.enableLongStackTrace,i=void 0!==r&&r;if(_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ri(!1),this.onMicrotaskEmpty=new Ri(!1),this.onStable=new Ri(!1),this.onError=new Ri(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,r,i,o,s){try{return po(n),e.invokeTask(r,i,o,s)}finally{vo(n)}},onInvoke:function(e,t,r,i,o,s,a){try{return po(n),e.invoke(r,i,o,s,a)}finally{vo(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n.hasPendingMicrotasks=i.microTask,fo(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,ho,co,co);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function co(){}var ho={};function fo(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function po(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function vo(e){e._nesting--,fo(e)}var yo,go=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ri,this.onMicrotaskEmpty=new Ri,this.onStable=new Ri,this.onError=new Ri}return _createClass(e,[{key:"run",value:function(e){return e()}},{key:"runGuarded",value:function(e){return e()}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e){return e()}}]),e}(),mo=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){lo.assertNotInAngularZone(),uo((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())uo((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}(),_o=function(){function e(){_classCallCheck(this,e),this._applications=new Map,bo.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return bo.findTestabilityInTree(this,e,t)}}]),e}(),bo=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),wo=function(e,t,n){return e.get(to).createCompiler([t]).compileModuleAsync(n)},ko=new Ae("AllowMultipleToken"),Co=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function Eo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new Ae(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=So();if(!o||o.injector.get(ko,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var s=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(yo&&!yo.destroyed&&!yo.injector.get(ko,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yo=e.get(To);var t=e.get(qi,null);t&&t.forEach((function(e){return e()}))}(Mt.create({providers:s,name:r}))}return function(e){var t=So();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function So(){return yo&&!yo.destroyed?yo:null}var To=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r=this,i="noop"===(n=t?t.ngZone:void 0)?new go:("zone.js"===n?void 0:n)||new lo({enableLongStackTrace:rt()}),o=[{provide:lo,useValue:i}];return i.run((function(){var t=Mt.create({providers:o,parent:r.injector,name:e.moduleType.name}),n=e.create(t),s=n.injector.get(et,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Wi&&Ni(n.injector.get(Gi,Pi)||Pi),n.onDestroy((function(){return Oo(r._modules,n)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(e){s.handleError(e)}})})),function(e,t,i){try{var o=((s=n.injector.get(Vi)).runInitializers(),s.donePromise.then((function(){return r._moduleDoBootstrap(n),n})));return Xt(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(a){throw t.runOutsideAngular((function(){return e.handleError(a)})),a}var s}(s,i)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Io({},n);return wo(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Ao);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(_e(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function Io(e,t){return Array.isArray(t)?t.reduce(Io,e):Object.assign({},e,t)}var xo,Ao=((xo=function(){function e(t,n,r,i,o,s){var a=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=rt(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var u=new C((function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){e.next(a._stable),e.complete()}))})),l=new C((function(e){var t;a._zone.runOutsideAngular((function(){t=a._zone.onStable.subscribe((function(){lo.assertNotInAngularZone(),uo((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,e.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){lo.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=ee(u,l.pipe((function(e){return te()((t=ae,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,oe);return r.source=e,r.subjectFactory=n,r})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof nn?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n instanceof ln?null:this._injector.get(Be),o=n.create(Mt.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var s=o.injector.get(mo,null);return s&&o.injector.get(_o).registerApplication(o.location.nativeElement,s),this._loadComponent(o),rt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0;var r=!0,i=!1,o=void 0;try{for(var s,a=this._views[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)s.value.detectChanges()}catch(d){i=!0,o=d}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}if(this._enforceNoNewChanges){var u=!0,l=!1,c=void 0;try{for(var h,f=this._views[Symbol.iterator]();!(u=(h=f.next()).done);u=!0)h.value.checkNoChanges()}catch(d){l=!0,c=d}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}}}catch(p){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(p)}))}finally{this._runningTick=!1,so(n)}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Oo(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(zi,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Oo(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}())._tickScope=oo("ApplicationRef#tick()"),xo);function Oo(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Po=function e(){_classCallCheck(this,e)},No=function e(){_classCallCheck(this,e)},Ro={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Do=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||Ro}return _createClass(e,[{key:"load",value:function(e){return!Wi&&this._compiler instanceof eo?this.loadFactory(e):this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return Lo(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return Lo(e,r,i)}))}}]),e}();function Lo(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Mo=function e(t,n){_classCallCheck(this,e),this.name=t,this.callback=n},Vo=function(){function e(t,n,r){_classCallCheck(this,e),this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=t,n&&n instanceof Fo&&n.addChild(this)}return _createClass(e,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),e}(),Fo=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,r))).properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return _inherits(t,e),_createClass(t,[{key:"addChild",value:function(e){e&&(this.childNodes.push(e),e.parent=this)}},{key:"removeChild",value:function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}},{key:"insertChildrenAfter",value:function(e,t){var n,r=this,i=this.childNodes.indexOf(e);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(_toConsumableArray(t))),t.forEach((function(t){t.parent&&t.parent.removeChild(t),e.parent=r})))}},{key:"insertBefore",value:function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}},{key:"query",value:function(e){return this.queryAll(e)[0]||null}},{key:"queryAll",value:function(e){var n=[];return function e(n,r,i){n.childNodes.forEach((function(n){n instanceof t&&(r(n)&&i.push(n),e(n,r,i))}))}(this,e,n),n}},{key:"queryAllNodes",value:function(e){var n=[];return function e(n,r,i){n instanceof t&&n.childNodes.forEach((function(n){r(n)&&i.push(n),n instanceof t&&e(n,r,i)}))}(this,e,n),n}},{key:"triggerEventHandler",value:function(e,t){this.listeners.forEach((function(n){n.name==e&&n.callback(t)}))}},{key:"children",get:function(){return this.childNodes.filter((function(e){return e instanceof t}))}}]),t}(Vo),jo=new Map,Uo=function(e){return jo.get(e)||null};function qo(e){jo.set(e.nativeNode,e)}var Bo=Eo(null,"core",[{provide:Bi,useValue:"unknown"},{provide:To,deps:[Mt]},{provide:_o,deps:[]},{provide:Hi,deps:[]}]);function zo(){return Nn}function Ho(){return Rn}function Go(e){return e?(Wi&&Ni(e),e):Pi}function Wo(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}var Ko=function e(t){_classCallCheck(this,e)};function Qo(e,t,n,r,i,o){e|=1;var s=pr(t),a=s.matchedQueries,u=s.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:s.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?mr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Zn},provider:null,text:null,query:null,ngContent:null}}function Zo(e,t,n,r,i,o){var s,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,f=arguments.length>11?arguments[11]:void 0;c||(c=Zn);var d=pr(n),p=d.matchedQueries,v=d.references,y=d.matchedQueryIds,g=null,m=null;o&&(g=(s=_slicedToArray(Sr(o),2))[0],m=s[1]),u=u||[];for(var _=new Array(u.length),b=0;b<u.length;b++){var w=_slicedToArray(u[b],3),k=w[0],C=w[1],E=w[2],S=_slicedToArray(Sr(C),2),T=S[0],I=S[1],x=void 0,A=void 0;switch(15&k){case 4:A=E;break;case 1:case 8:x=E}_[b]={flags:k,ns:T,name:I,nonMinifiedName:I,securityContext:x,suffix:A}}l=l||[];for(var O=new Array(l.length),P=0;P<l.length;P++){var N=_slicedToArray(l[P],2),R=N[0],D=N[1];O[P]={type:0,target:R,eventName:D,propName:null}}var L=(a=a||[]).map((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=_slicedToArray(Sr(n),2);return[i[0],i[1],r]}));return f=function(e){if(e&&e.id===Xn){var t=null!=e.encapsulation&&e.encapsulation!==We.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c".concat(tr++):Jn}return e&&e.id===Jn&&(e=null),e||null}(f),h&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:y,references:v,ngContentIndex:r,childCount:i,bindings:_,bindingFlags:Tr(_),outputs:O,element:{ns:g,name:m,attrs:L,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||Zn},provider:null,text:null,query:null,ngContent:null}}function $o(e,t,n){var r,i=n.element,o=e.root.selectorOrNode,s=e.renderer;if(e.parent||!o){r=i.name?s.createElement(i.name,i.ns):s.createComment("");var a=yr(e,t,n);a&&s.appendChild(a,r)}else r=s.selectRootElement(o,!!i.componentRendererType&&i.componentRendererType.encapsulation===We.ShadowDom);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var l=_slicedToArray(i.attrs[u],3),c=l[0],h=l[1],f=l[2];s.setAttribute(r,h,f,c)}return r}function Yo(e,t,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],s=Xo(e,n.nodeIndex,hr(o.target,o.eventName)),a=o.target,u=e;"component"===o.target&&(a=null,u=t);var l=u.renderer.listen(a||r,o.eventName,s);e.disposables[n.outputIndex+i]=l}}function Xo(e,t,n){return function(r){return ar(e,t,n,r)}}function Jo(e,t,n,r){if(!rr(e,t,n,r))return!1;var i=t.bindings[n],o=Hn(e,t.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){var s=t.securityContext,a=s?e.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;var u=e.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(e,i,s,i.ns,a,r);break;case 2:!function(e,t,n,r){var i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,s,a,r);break;case 4:!function(e,t,n,r,i){var o=e.root.sanitizer.sanitize(St.STYLE,i);if(null!=o){o=o.toString();var s=t.suffix;null!=s&&(o+=s)}else o=null;var a=e.renderer;null!=o?a.setStyle(n,r,o):a.removeStyle(n,r)}(e,i,s,a,r);break;case 8:!function(e,t,n,r,i){var o=t.securityContext,s=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,s)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,s,a,r)}return!0}function es(e){for(var t=e.def.nodeMatchedQueries;e.parent&&dr(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){var o=e.def.nodes[i];67108864&o.flags&&536870912&o.flags&&(o.query.filterId&t)===o.query.filterId&&Kn(e,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&e.def.nodeFlags)for(var s=0;s<e.def.nodes.length;s++){var a=e.def.nodes[s];134217728&a.flags&&536870912&a.flags&&Kn(e,s).setDirty(),s+=a.childCount}}function ts(e,t){var n=Kn(e,t.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&t.flags){var o=t.parent.parent;i=ns(e,o.nodeIndex,o.nodeIndex+o.childCount,t.query,[]),r=Gn(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=ns(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);for(var s=t.query.bindings,a=!1,u=0;u<s.length;u++){var l=s[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,a=!0}r[l.propName]=c}a&&n.notifyOnChanges()}}function ns(e,t,n,r,i){for(var o=t;o<=n;o++){var s=e.def.nodes[o],a=s.matchedQueries[r.id];if(null!=a&&i.push(rs(e,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Hn(e,o);if((s.childMatchedQueries&r.filterId)===r.filterId&&(ns(e,o+1,o+s.childCount,r,i),o+=s.childCount),16777216&s.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],f=ur(h);f&&f===u&&ns(h,0,h.def.nodes.length-1,r,i)}var d=u.template._projectedViews;if(d)for(var p=0;p<d.length;p++){var v=d[p];ns(v,0,v.def.nodes.length-1,r,i)}}(s.childMatchedQueries&r.filterId)!==r.filterId&&(o+=s.childCount)}return i}function rs(e,t,n){if(null!=n)switch(n){case 1:return Hn(e,t.nodeIndex).renderElement;case 0:return new hn(Hn(e,t.nodeIndex).renderElement);case 2:return Hn(e,t.nodeIndex).template;case 3:return Hn(e,t.nodeIndex).viewContainer;case 4:return Gn(e,t.nodeIndex).instance}}function is(e,t,n){var r=yr(e,t,n);r&&wr(e,n.ngContent.index,1,r,null,void 0)}function os(e,t){for(var n=Object.keys(t),r=n.length,i=new Array(r),o=0;o<r;o++){var s=n[o];i[t[s]]=s}return function(e,t,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Tr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,e,i)}function ss(e,t,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function as(e,t,n){var r,i=e.renderer;r=i.createText(n.text.prefix);var o=yr(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function us(e,t){return(null!=e?e.toString():"")+t.suffix}function ls(e,t,n,r){for(var i=0,o=0,s=0,a=0,u=0,l=null,c=null,h=!1,f=!1,d=null,p=0;p<t.length;p++){var v=t[p];if(v.nodeIndex=p,v.parent=l,v.bindingIndex=i,v.outputIndex=o,v.renderParent=c,s|=v.flags,u|=v.matchedQueryIds,v.element){var y=v.element;y.publicProviders=l?l.element.publicProviders:Object.create(null),y.allProviders=y.publicProviders,h=!1,f=!1,v.element.template&&(u|=v.element.template.nodeMatchedQueries)}if(hs(l,v,t.length),i+=v.bindings.length,o+=v.outputs.length,!c&&3&v.flags&&(d=v),20224&v.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var g=0!=(32768&v.flags);0==(8192&v.flags)||g?l.element.publicProviders[Yn(v.provider.token)]=v:(f||(f=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[Yn(v.provider.token)]=v),g&&(l.element.componentProvider=v)}if(l?(l.childFlags|=v.flags,l.directChildFlags|=v.flags,l.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(l.childMatchedQueries|=v.element.template.nodeMatchedQueries)):a|=v.flags,v.childCount>0)l=v,cs(v)||(c=v);else for(;l&&p===l.nodeIndex+l.childCount;){var m=l.parent;m&&(m.childFlags|=l.childFlags,m.childMatchedQueries|=l.childMatchedQueries),c=(l=m)&&cs(l)?l.renderParent:l}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||Zn,updateRenderer:r||Zn,handleEvent:function(e,n,r,i){return t[n].element.handleEvent(e,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function cs(e){return 0!=(1&e.flags)&&null===e.element.name}function hs(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(t.nodeIndex,"!"))}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(t.nodeIndex,"!"));if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(t.nodeIndex,"!"));if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(t.nodeIndex,"!"))}if(t.childCount){var i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(t.nodeIndex,"!"))}}function fs(e,t,n,r){var i=vs(e.root,e.renderer,e,t,n);return ys(i,e.component,r),gs(i),i}function ds(e,t,n){var r=vs(e,e.renderer,null,null,t);return ys(r,n,n),gs(r),r}function ps(e,t,n,r){var i,o=t.element.componentRendererType;return i=o?e.root.rendererFactory.createRenderer(r,o):e.root.renderer,vs(e.root,i,e,t.element.componentProvider,n)}function vs(e,t,n,r,i){var o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function ys(e,t,n){e.component=t,e.context=n}function gs(e){var t;fr(e)&&(t=Hn(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,r=e.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i],s=void 0;switch(Qn.setCurrentNode(e,i),201347067&o.flags){case 1:var a=$o(e,t,o),u=void 0;if(33554432&o.flags){var l=mr(o.element.componentView);u=Qn.createComponentView(e,o,l,a)}Yo(e,u,o,a),s={renderElement:a,componentView:u,viewContainer:null,template:o.element.template?Kr(e,o):void 0},16777216&o.flags&&(s.viewContainer=zr(e,o,s));break;case 2:s=as(e,t,o);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&o.flags||(s={instance:di(e,o)});break;case 16:s={instance:pi(e,o)};break;case 16384:(s=r[i])||(s={instance:vi(e,o)}),32768&o.flags&&ys(Hn(e,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Li;break;case 8:is(e,t,o),s=void 0}r[i]=s}Ts(e,Ss.CreateViewNodes),Os(e,201326592,268435456,0)}function ms(e){ws(e),Qn.updateDirectives(e,1),Is(e,Ss.CheckNoChanges),Qn.updateRenderer(e,1),Ts(e,Ss.CheckNoChanges),e.state&=-97}function _s(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,qn(e,0,256),ws(e),Qn.updateDirectives(e,0),Is(e,Ss.CheckAndUpdate),Os(e,67108864,536870912,0);var t=qn(e,256,512);Ci(e,2097152|(t?1048576:0)),Qn.updateRenderer(e,0),Ts(e,Ss.CheckAndUpdate),Os(e,134217728,536870912,0),Ci(e,8388608|((t=qn(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,qn(e,768,1024)}function bs(e,t,n,r,i,o,s,a,u,l,c,h,f){return 0===n?function(e,t,n,r,i,o,s,a,u,l,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,s,a,u,l,c,h){var f=t.bindings.length,d=!1;return f>0&&Jo(e,t,0,n)&&(d=!0),f>1&&Jo(e,t,1,r)&&(d=!0),f>2&&Jo(e,t,2,i)&&(d=!0),f>3&&Jo(e,t,3,o)&&(d=!0),f>4&&Jo(e,t,4,s)&&(d=!0),f>5&&Jo(e,t,5,a)&&(d=!0),f>6&&Jo(e,t,6,u)&&(d=!0),f>7&&Jo(e,t,7,l)&&(d=!0),f>8&&Jo(e,t,8,c)&&(d=!0),f>9&&Jo(e,t,9,h)&&(d=!0),d}(e,t,n,r,i,o,s,a,u,l,c,h);case 2:return function(e,t,n,r,i,o,s,a,u,l,c,h){var f=!1,d=t.bindings,p=d.length;if(p>0&&rr(e,t,0,n)&&(f=!0),p>1&&rr(e,t,1,r)&&(f=!0),p>2&&rr(e,t,2,i)&&(f=!0),p>3&&rr(e,t,3,o)&&(f=!0),p>4&&rr(e,t,4,s)&&(f=!0),p>5&&rr(e,t,5,a)&&(f=!0),p>6&&rr(e,t,6,u)&&(f=!0),p>7&&rr(e,t,7,l)&&(f=!0),p>8&&rr(e,t,8,c)&&(f=!0),p>9&&rr(e,t,9,h)&&(f=!0),f){var v=t.text.prefix;p>0&&(v+=us(n,d[0])),p>1&&(v+=us(r,d[1])),p>2&&(v+=us(i,d[2])),p>3&&(v+=us(o,d[3])),p>4&&(v+=us(s,d[4])),p>5&&(v+=us(a,d[5])),p>6&&(v+=us(u,d[6])),p>7&&(v+=us(l,d[7])),p>8&&(v+=us(c,d[8])),p>9&&(v+=us(h,d[9]));var y=zn(e,t.nodeIndex).renderText;e.renderer.setValue(y,v)}return f}(e,t,n,r,i,o,s,a,u,l,c,h);case 16384:return function(e,t,n,r,i,o,s,a,u,l,c,h){var f=Gn(e,t.nodeIndex),d=f.instance,p=!1,v=void 0,y=t.bindings.length;return y>0&&nr(e,t,0,n)&&(p=!0,v=ki(e,f,t,0,n,v)),y>1&&nr(e,t,1,r)&&(p=!0,v=ki(e,f,t,1,r,v)),y>2&&nr(e,t,2,i)&&(p=!0,v=ki(e,f,t,2,i,v)),y>3&&nr(e,t,3,o)&&(p=!0,v=ki(e,f,t,3,o,v)),y>4&&nr(e,t,4,s)&&(p=!0,v=ki(e,f,t,4,s,v)),y>5&&nr(e,t,5,a)&&(p=!0,v=ki(e,f,t,5,a,v)),y>6&&nr(e,t,6,u)&&(p=!0,v=ki(e,f,t,6,u,v)),y>7&&nr(e,t,7,l)&&(p=!0,v=ki(e,f,t,7,l,v)),y>8&&nr(e,t,8,c)&&(p=!0,v=ki(e,f,t,8,c,v)),y>9&&nr(e,t,9,h)&&(p=!0,v=ki(e,f,t,9,h,v)),v&&d.ngOnChanges(v),65536&t.flags&&Bn(e,256,t.nodeIndex)&&d.ngOnInit(),262144&t.flags&&d.ngDoCheck(),p}(e,t,n,r,i,o,s,a,u,l,c,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,s,a,u,l,c,h){var f=t.bindings,d=!1,p=f.length;if(p>0&&rr(e,t,0,n)&&(d=!0),p>1&&rr(e,t,1,r)&&(d=!0),p>2&&rr(e,t,2,i)&&(d=!0),p>3&&rr(e,t,3,o)&&(d=!0),p>4&&rr(e,t,4,s)&&(d=!0),p>5&&rr(e,t,5,a)&&(d=!0),p>6&&rr(e,t,6,u)&&(d=!0),p>7&&rr(e,t,7,l)&&(d=!0),p>8&&rr(e,t,8,c)&&(d=!0),p>9&&rr(e,t,9,h)&&(d=!0),d){var v,y=Wn(e,t.nodeIndex);switch(201347067&t.flags){case 32:v=new Array(f.length),p>0&&(v[0]=n),p>1&&(v[1]=r),p>2&&(v[2]=i),p>3&&(v[3]=o),p>4&&(v[4]=s),p>5&&(v[5]=a),p>6&&(v[6]=u),p>7&&(v[7]=l),p>8&&(v[8]=c),p>9&&(v[9]=h);break;case 64:v={},p>0&&(v[f[0].name]=n),p>1&&(v[f[1].name]=r),p>2&&(v[f[2].name]=i),p>3&&(v[f[3].name]=o),p>4&&(v[f[4].name]=s),p>5&&(v[f[5].name]=a),p>6&&(v[f[6].name]=u),p>7&&(v[f[7].name]=l),p>8&&(v[f[8].name]=c),p>9&&(v[f[9].name]=h);break;case 128:var g=n;switch(p){case 1:v=g.transform(n);break;case 2:v=g.transform(r);break;case 3:v=g.transform(r,i);break;case 4:v=g.transform(r,i,o);break;case 5:v=g.transform(r,i,o,s);break;case 6:v=g.transform(r,i,o,s,a);break;case 7:v=g.transform(r,i,o,s,a,u);break;case 8:v=g.transform(r,i,o,s,a,u,l);break;case 9:v=g.transform(r,i,o,s,a,u,l,c);break;case 10:v=g.transform(r,i,o,s,a,u,l,c,h)}}y.value=v}return d}(e,t,n,r,i,o,s,a,u,l,c,h);default:throw"unreachable"}}(e,t,r,i,o,s,a,u,l,c,h,f):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var r=!1,i=0;i<n.length;i++)Jo(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)rr(e,t,o,n[o])&&(i=!0);if(i){for(var s="",a=0;a<n.length;a++)s+=us(n[a],r[a]);s=t.text.prefix+s;var u=zn(e,t.nodeIndex).renderText;e.renderer.setValue(u,s)}return i}(e,t,n);case 16384:return function(e,t,n){for(var r=Gn(e,t.nodeIndex),i=r.instance,o=!1,s=void 0,a=0;a<n.length;a++)nr(e,t,a,n[a])&&(o=!0,s=ki(e,r,t,a,n[a],s));return s&&i.ngOnChanges(s),65536&t.flags&&Bn(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)rr(e,t,o,n[o])&&(i=!0);if(i){var s,a=Wn(e,t.nodeIndex);switch(201347067&t.flags){case 32:s=n;break;case 64:s={};for(var u=0;u<n.length;u++)s[r[u].name]=n[u];break;case 128:var l=n[0],c=n.slice(1);s=l.transform.apply(l,_toConsumableArray(c))}a.value=s}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function ws(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var i=Hn(e,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var s=i[o];s.state|=32,sr(s,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ks(e,t,n,r,i,o,s,a,u,l,c,h,f){return 0===n?function(e,t,n,r,i,o,s,a,u,l,c,h){var f=t.bindings.length;f>0&&ir(e,t,0,n),f>1&&ir(e,t,1,r),f>2&&ir(e,t,2,i),f>3&&ir(e,t,3,o),f>4&&ir(e,t,4,s),f>5&&ir(e,t,5,a),f>6&&ir(e,t,6,u),f>7&&ir(e,t,7,l),f>8&&ir(e,t,8,c),f>9&&ir(e,t,9,h)}(e,t,r,i,o,s,a,u,l,c,h,f):function(e,t,n){for(var r=0;r<n.length;r++)ir(e,t,r,n[r])}(e,t,r),!1}function Cs(e,t){if(Kn(e,t.nodeIndex).dirty)throw Fn(Qn.createDebugContext(e,t.nodeIndex),"Query ".concat(t.query.id," not dirty"),"Query ".concat(t.query.id," dirty"),0!=(1&e.state))}function Es(e){if(!(128&e.state)){if(Is(e,Ss.Destroy),Ts(e,Ss.Destroy),Ci(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=ur(e);if(t){var n=t.template._projectedViews;n&&(Ge(n,n.indexOf(e)),Qn.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode(Hn(e,n).renderElement):2&r.flags?e.renderer.destroyNode(zn(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&Kn(e,n).destroy()}}(e),fr(e)&&e.renderer.destroy(),e.state|=128}}var Ss=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function Ts(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?xs(Hn(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Is(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Hn(e,r).viewContainer._embeddedViews,s=0;s<o.length;s++)xs(o[s],t);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function xs(e,t){var n=e.state;switch(t){case Ss.CheckNoChanges:0==(128&n)&&(12==(12&n)?ms(e):64&n&&As(e,Ss.CheckNoChangesProjectedViews));break;case Ss.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ms(e):64&n&&As(e,t));break;case Ss.CheckAndUpdate:0==(128&n)&&(12==(12&n)?_s(e):64&n&&As(e,Ss.CheckAndUpdateProjectedViews));break;case Ss.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?_s(e):64&n&&As(e,t));break;case Ss.Destroy:Es(e);break;case Ss.CreateViewNodes:gs(e)}}function As(e,t){Is(e,t),Ts(e,t)}function Os(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var i=e.def.nodes.length,o=0;o<i;o++){var s=e.def.nodes[o];if(s.flags&t&&s.flags&n)switch(Qn.setCurrentNode(e,s.nodeIndex),r){case 0:ts(e,s);break;case 1:Cs(e,s)}s.childFlags&t&&s.childFlags&n||(o+=s.childCount)}}var Ps=!1;function Ns(e,t,n,r,i,o){var s=i.injector.get(dn);return ds(Ds(e,i,s,t,n),r,o)}function Rs(e,t,n,r,i,o){var s=i.injector.get(dn),a=Ds(e,i,new fa(s),t,n),u=Hs(r);return ca(Js.create,ds,null,[a,u,o])}function Ds(e,t,n,r,i){var o=t.injector.get(Tt),s=t.injector.get(et),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function Ls(e,t,n,r){var i=Hs(n);return ca(Js.create,fs,null,[e,t,i,r])}function Ms(e,t,n,r){return n=Us.get(t.element.componentProvider.provider.token)||Hs(n),ca(Js.create,ps,null,[e,t,n,r])}function Vs(e,t,n,r){return ei(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===Fs.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach((function(e){var r=Fs.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)})),e.modules.forEach((function(e){js.forEach((function(r,i){ge(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)}))})),{hasOverrides:t,hasDeprecatedOverrides:n})}(e),n=t.hasOverrides,r=t.hasDeprecatedOverrides;return n?(function(e){for(var t=0;t<e.providers.length;t++){var n=e.providers[t];r&&(n.flags|=4096);var i=Fs.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=vr(i.deps),n.value=i.value)}if(js.size>0){var o=new Set(e.modules);js.forEach((function(t,n){if(o.has(ge(n).providedIn)){var i={token:n,flags:t.flags|(r?4096:0),deps:vr(t.deps),value:t.value,index:e.providers.length};e.providers.push(i),e.providersByKey[Yn(n)]=i}}))}}(e=e.factory((function(){return Zn}))),e):e}(r))}var Fs=new Map,js=new Map,Us=new Map;function qs(e){var t;Fs.set(e.token,e),"function"==typeof e.token&&(t=ge(e.token))&&"function"==typeof t.providedIn&&js.set(e.token,e)}function Bs(e,t){var n=mr(t.viewDefFactory),r=mr(n.nodes[0].element.componentView);Us.set(e,r)}function zs(){Fs.clear(),js.clear(),Us.clear()}function Hs(e){if(0===Fs.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Fs.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory((function(){return Zn}));for(var n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Fs.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=vr(o.deps),i.value=o.value)}}}}function Gs(e,t,n,r,i,o,s,a,u,l,c,h,f){var d=e.def.nodes[t];return bs(e,d,n,r,i,o,s,a,u,l,c,h,f),224&d.flags?Wn(e,t).value:void 0}function Ws(e,t,n,r,i,o,s,a,u,l,c,h,f){var d=e.def.nodes[t];return ks(e,d,n,r,i,o,s,a,u,l,c,h,f),224&d.flags?Wn(e,t).value:void 0}function Ks(e){return ca(Js.detectChanges,_s,null,[e])}function Qs(e){return ca(Js.checkNoChanges,ms,null,[e])}function Zs(e){return ca(Js.destroy,Es,null,[e])}var $s,Ys,Xs,Js=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();function ea(e,t){Ys=e,Xs=t}function ta(e,t,n,r){return ea(e,t),ca(Js.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function na(e,t){if(128&e.state)throw Un(Js[$s]);return ea(e,sa(e,0)),e.def.updateDirectives((function(e,n,r){for(var i=e.def.nodes[n],o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return 0===t?ia(e,i,r,s):oa(e,i,r,s),16384&i.flags&&ea(e,sa(e,n)),224&i.flags?Wn(e,i.nodeIndex).value:void 0}),e)}function ra(e,t){if(128&e.state)throw Un(Js[$s]);return ea(e,aa(e,0)),e.def.updateRenderer((function(e,n,r){for(var i=e.def.nodes[n],o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return 0===t?ia(e,i,r,s):oa(e,i,r,s),3&i.flags&&ea(e,aa(e,n)),224&i.flags?Wn(e,i.nodeIndex).value:void 0}),e)}function ia(e,t,n,r){if(bs.apply(void 0,[e,t,n].concat(_toConsumableArray(r)))){var i=1===n?r[0]:r;if(16384&t.flags){for(var o={},s=0;s<t.bindings.length;s++){var a=t.bindings[s],u=i[s];8&a.flags&&(o[At(a.nonMinifiedName)]=Pt(u))}var l=t.parent,c=Hn(e,l.nodeIndex).renderElement;if(l.element.name)for(var h in o){var f=o[h];null!=f?e.renderer.setAttribute(c,h,f):e.renderer.removeAttribute(c,h)}else e.renderer.setValue(c,"bindings=".concat(JSON.stringify(o,null,2)))}}}function oa(e,t,n,r){ks.apply(void 0,[e,t,n].concat(_toConsumableArray(r)))}function sa(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function aa(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var ua=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=t.def.nodes[n];for(var r=this.nodeDef,i=t;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&i;)r=lr(i),i=i.parent;this.elDef=r,this.elView=i}return _createClass(e,[{key:"logError",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o;2&this.nodeDef.flags?(i=this.view.def,o=this.nodeDef.nodeIndex):(i=this.elView.def,o=this.elDef.nodeIndex);var s=function(e,t){for(var n=-1,r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(i,o),a=-1;i.factory((function(){var t;return++a===s?(t=e.error).bind.apply(t,[e].concat(n)):Zn})),a<s&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,n))}},{key:"elOrCompView",get:function(){return Hn(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return Zr(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}},{key:"references",get:function(){var e={};if(this.elDef){la(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&la(this.elView,n,e),t+=n.childCount}}return e}},{key:"componentRenderElement",get:function(){var e=function(e){for(;e&&!fr(e);)e=e.parent;return e.parent?Hn(e.parent,lr(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?cr(this.view,this.nodeDef):cr(this.elView,this.elDef)}}]),e}();function la(e,t,n){for(var r in t.references)n[r]=rs(e,t,t.references[r])}function ca(e,t,n,r){var i,o,s=$s,a=Ys,u=Xs;try{$s=e;var l=t.apply(n,r);return Ys=a,Xs=u,$s=s,l}catch(c){if(Ye(c)||!Ys)throw c;throw i=c,o=ha(),i instanceof Error||(i=new Error(i.toString())),jn(i,o),i}}function ha(){return Ys?new ua(Ys,Xs):null}var fa=function(){function e(t){_classCallCheck(this,e),this.delegate=t}return _createClass(e,[{key:"createRenderer",value:function(e,t){return new da(this.delegate.createRenderer(e,t))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),e}(),da=function(){function e(t){_classCallCheck(this,e),this.delegate=t,this.debugContextFactory=ha,this.data=this.delegate.data}return _createClass(e,[{key:"createDebugContext",value:function(e){return this.debugContextFactory(e)}},{key:"destroyNode",value:function(e){var t=Uo(e);!function(e){jo.delete(e.nativeNode)}(t),t instanceof Vo&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(e,t){var n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){var i=new Fo(n,null,r);i.name=e,qo(i)}return n}},{key:"createComment",value:function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&qo(new Vo(t,null,n)),t}},{key:"createText",value:function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&qo(new Vo(t,null,n)),t}},{key:"appendChild",value:function(e,t){var n=Uo(e),r=Uo(t);n&&r&&n instanceof Fo&&n.addChild(r),this.delegate.appendChild(e,t)}},{key:"insertBefore",value:function(e,t,n){var r=Uo(e),i=Uo(t),o=Uo(n);r&&i&&r instanceof Fo&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)}},{key:"removeChild",value:function(e,t){var n=Uo(e),r=Uo(t);n&&r&&n instanceof Fo&&n.removeChild(r),this.delegate.removeChild(e,t)}},{key:"selectRootElement",value:function(e,t){var n=this.delegate.selectRootElement(e,t),r=ha();return r&&qo(new Fo(n,null,r)),n}},{key:"setAttribute",value:function(e,t,n,r){var i=Uo(e);i&&i instanceof Fo&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){var r=Uo(e);r&&r instanceof Fo&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){var n=Uo(e);n&&n instanceof Fo&&(n.classes[t]=!0),this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){var n=Uo(e);n&&n instanceof Fo&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){var i=Uo(e);i&&i instanceof Fo&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){var r=Uo(e);r&&r instanceof Fo&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){var r=Uo(e);r&&r instanceof Fo&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){if("string"!=typeof e){var r=Uo(e);r&&r.listeners.push(new Mo(t,n))}return this.delegate.listen(e,t,n)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setValue",value:function(e,t){return this.delegate.setValue(e,t)}}]),e}();var pa=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e){!function(){if(!Ps){Ps=!0;var e=rt()?{setCurrentNode:ea,createRootView:Rs,createEmbeddedView:Ls,createComponentView:Ms,createNgModuleRef:Vs,overrideProvider:qs,overrideComponentView:Bs,clearOverrides:zs,checkAndUpdateView:Ks,checkNoChangesView:Qs,destroyView:Zs,createDebugContext:function(e,t){return new ua(e,t)},handleEvent:ta,updateDirectives:na,updateRenderer:ra}:{setCurrentNode:function(){},createRootView:Ns,createEmbeddedView:fs,createComponentView:ps,createNgModuleRef:ei,overrideProvider:Zn,overrideComponentView:Zn,clearOverrides:Zn,checkAndUpdateView:_s,checkNoChangesView:ms,destroyView:Es,createDebugContext:function(e,t){return new ua(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?Gs:Ws,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?Gs:Ws,e)}};Qn.setCurrentNode=e.setCurrentNode,Qn.createRootView=e.createRootView,Qn.createEmbeddedView=e.createEmbeddedView,Qn.createComponentView=e.createComponentView,Qn.createNgModuleRef=e.createNgModuleRef,Qn.overrideProvider=e.overrideProvider,Qn.overrideComponentView=e.overrideComponentView,Qn.clearOverrides=e.clearOverrides,Qn.checkAndUpdateView=e.checkAndUpdateView,Qn.checkNoChangesView=e.checkNoChangesView,Qn.destroyView=e.destroyView,Qn.resolveDep=bi,Qn.createDebugContext=e.createDebugContext,Qn.handleEvent=e.handleEvent,Qn.updateDirectives=e.updateDirectives,Qn.updateRenderer=e.updateRenderer,Qn.dirtyParentQueries=es}}();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),r={};for(var i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(mr(this._ngModuleDefFactory));return Qn.createNgModuleRef(this.moduleType,e||Mt.NULL,this._bootstrapComponents,t)}}]),t}(ze),va=function e(){_classCallCheck(this,e)},ya=function e(){_classCallCheck(this,e),this.title="mutant-zero"},ga=function e(){_classCallCheck(this,e)},ma=new Ae("Location Initialized"),_a=function e(){_classCallCheck(this,e)},ba=new Ae("appBaseHref"),wa=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._subject=new Ri,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=e.stripTrailingSlash(ka(i)),this._platformStrategy.onPopState((function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+e.normalizeQueryParams(n))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,ka(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}},{key:"replaceState",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}],[{key:"normalizeQueryParams",value:function(e){return e&&"?"!==e[0]?"?"+e:e}},{key:"joinWithSlash",value:function(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}},{key:"stripTrailingSlash",value:function(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}]),e}();function ka(e){return e.replace(/\/index.html$/,"")}var Ca=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return _inherits(t,e),_createClass(t,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=wa.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+wa.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+wa.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),t}(_a),Ea=function(e){function t(e,n){var r;if(_classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,_possibleConstructorReturn(r)}return _inherits(t,e),_createClass(t,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return wa.joinWithSlash(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+wa.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+wa.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+wa.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),t}(_a),Sa=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),Ta=new Ae("UseV4Plurals"),Ia=function e(){_classCallCheck(this,e)},xa=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).locale=e,r.deprecatedPluralFn=n,r}return _inherits(t,e),_createClass(t,[{key:"getPluralCategory",value:function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return function(e){var t=e.toLowerCase().replace(/_/g,"-"),n=Ii[t];if(n)return n;var r=t.split("-")[0];if(n=Ii[r])return n;if("en"===r)return Oi;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}(e)[xi.PluralCase]}(t||this.locale)(e)){case Sa.Zero:return"zero";case Sa.One:return"one";case Sa.Two:return"two";case Sa.Few:return"few";case Sa.Many:return"many";default:return"other"}}}]),t}(Ia),Aa=function e(){_classCallCheck(this,e)},Oa=function(){function e(t,n,r,i){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._initialClasses=[]}return _createClass(e,[{key:"getValue",value:function(){return null}},{key:"setClass",value:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"setNgClass",value:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&($t(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"applyChanges",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(_e(e.item)));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}}]),e}(),Pa=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"ngDoCheck",value:function(){this._delegate.applyChanges()}},{key:"klass",set:function(e){this._delegate.setClass(e)}},{key:"ngClass",set:function(e){this._delegate.setNgClass(e)}}]),t}(function(){var e=function(){function e(t){_classCallCheck(this,e),this._delegate=t}return _createClass(e,[{key:"getValue",value:function(){return this._delegate.getValue()}}]),e}();return e.ngDirectiveDef=void 0,e}()),Na=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Ra=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new Na(null,t._ngForOf,-1,-1),null===i?void 0:i),s=new Da(e,o);n.push(s)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=t._viewContainer.get(r);t._viewContainer.move(a,i);var u=new Da(e,a);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){rt()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". ")+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}(),Da=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},La=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new Ma,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Va("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Va("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}]),e}(),Ma=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function Va(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(_e(t),"'."))}var Fa=function e(){_classCallCheck(this,e)},ja=new Ae("DocumentToken"),Ua="browser",qa="server";function Ba(e){return e===qa}var za,Ha=((za=function e(){_classCallCheck(this,e)}).ngInjectableDef=ye({token:za,providedIn:"root",factory:function(){return new Ga(je(ja),window,je(et))}}),za),Ga=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#".concat(e));if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),Wa=new C((function(e){return e.complete()}));function Ka(e){return e?function(e){return new C((function(t){return e.schedule((function(){return t.complete()}))}))}(e):Wa}function Qa(e){var t=new C((function(t){t.next(e),t.complete()}));return t._isScalar=!0,t.value=e,t}function Za(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];switch(N(r)?t.pop():r=void 0,t.length){case 0:return Ka(r);case 1:return r?K(t,r):Qa(t[0]);default:return K(t,r)}}var $a=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._value=e,n}return _inherits(t,e),_createClass(t,[{key:"_subscribe",value:function(e){var n=_get(_getPrototypeOf(t.prototype),"_subscribe",this).call(this,e);return n&&!n.closed&&e.next(this._value),n}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new I;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(t.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),t}(O);function Ya(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Ya.prototype=Object.create(Error.prototype);var Xa=Ya,Ja={},eu=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new tu(e,this.resultSelector))}}]),e}(),tu=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.values.push(Ja),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(B(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,s=this.toRespond?o[n]===Ja?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),t}(z);function nu(e){return new C((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Q(n):Ka()).subscribe(t)}))}function ru(){return J(1)}function iu(e,t){return function(n){return n.lift(new ou(e,t))}}var ou=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new su(e,this.predicate,this.thisArg))}}]),e}(),su=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).predicate=n,i.thisArg=r,i.count=0,i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),t}(y);function au(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}au.prototype=Object.create(Error.prototype);var uu=au;function lu(e){return function(t){return 0===e?Ka():t.lift(new cu(e))}}var cu=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new uu}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new hu(e,this.total))}}]),e}(),hu=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).total=n,r.ring=new Array,r.count=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),t}(y);function fu(e,t,n){return function(r){return r.lift(new du(e,t,n))}}var du=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new pu(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),pu=function(e){function t(e,n,i,o){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e)))._tapNext=_,s._tapError=_,s._tapComplete=_,s._tapError=i||_,s._tapComplete=o||_,r(n)?(s._context=_assertThisInitialized(s),s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||_,s._tapError=n.error||_,s._tapComplete=n.complete||_),s}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),t}(y),vu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yu;return fu({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}})};function yu(){return new Xa}function gu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new mu(e))}}var mu=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new _u(e,this.defaultValue))}}]),e}(),_u=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).defaultValue=n,r.isEmpty=!0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),t}(y);function bu(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?iu((function(t,n){return e(t,n,r)})):X,lu(1),n?gu(t):vu((function(){return new Xa})))}}function wu(e){return function(t){var n=new ku(e),r=t.lift(n);return n.caught=r}}var ku=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Cu(e,this.selector,this.caught))}}]),e}(),Cu=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).selector=n,i.caught=r,i}return _inherits(t,e),_createClass(t,[{key:"error",value:function(e){if(!this.isStopped){var n;try{n=this.selector(e,this.caught)}catch(i){return void _get(_getPrototypeOf(t.prototype),"error",this).call(this,i)}this._unsubscribeAndRecycle();var r=new R(this,void 0,void 0);this.add(r),B(this,n,void 0,void 0,r)}}}]),t}(z);function Eu(e){return function(t){return 0===e?Ka():t.lift(new Su(e))}}var Su=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new uu}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Tu(e,this.total))}}]),e}(),Tu=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).total=n,r.count=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),t}(y);function Iu(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?iu((function(t,n){return e(t,n,r)})):X,Eu(1),n?gu(t):vu((function(){return new Xa})))}}var xu=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Au(e,this.predicate,this.thisArg,this.source))}}]),e}(),Au=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||_assertThisInitialized(o),o}return _inherits(t,e),_createClass(t,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),t}(y);function Ou(e,t){return"function"==typeof t?function(n){return n.pipe(Ou((function(n,r){return Q(e(n,r)).pipe(H((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new Pu(e))}}var Pu=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Nu(e,this.project))}}]),e}(),Nu=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,r.index=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new R(this,void 0,void 0);this.destination.add(i),this.innerSubscription=B(this,e,t,n,i)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(t.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(t.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),t}(z);function Ru(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Du(e,t,n))}}var Du=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Lu(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Lu=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),t}(y);function Mu(e,t){return Z(e,t,1)}var Vu=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Fu(e,this.callback))}}]),e}(),Fu=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).add(new d(n)),r}return _inherits(t,e),t}(y),ju=null;function Uu(){return ju}var qu,Bu=function(e){function t(){var e;_classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach((function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])}))}catch(s){e._animationPrefix=null,e._transitionEnd=null}return e}return _inherits(t,e),_createClass(t,[{key:"getDistributedNodes",value:function(e){return e.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(e,t,n){e.href=null==n?t:t+"/../"+n}},{key:"supportsDOMEvents",value:function(){return!0}},{key:"supportsNativeShadowDOM",value:function(){return"function"==typeof document.body.createShadowRoot}},{key:"getAnimationPrefix",value:function(){return this._animationPrefix?this._animationPrefix:""}},{key:"getTransitionEnd",value:function(){return this._transitionEnd?this._transitionEnd:""}},{key:"supportsAnimation",value:function(){return null!=this._animationPrefix&&null!=this._transitionEnd}}]),t}(function(){function e(){_classCallCheck(this,e),this.resourceLoaderType=null}return _createClass(e,[{key:"attrToPropMap",get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e}}]),e}()),zu={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Hu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Wu=function(){if(xe.Node)return xe.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}}(),Ku=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"parse",value:function(e){throw new Error("parse not implemented")}},{key:"hasProperty",value:function(e,t){return t in e}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"getProperty",value:function(e,t){return e[t]}},{key:"invoke",value:function(e,t,n){e[t].apply(e,_toConsumableArray(n))}},{key:"logError",value:function(e){window.console&&(console.error?console.error(e):console.log(e))}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"contains",value:function(e,t){return Wu.call(e,t)}},{key:"querySelector",value:function(e,t){return e.querySelector(t)}},{key:"querySelectorAll",value:function(e,t){return e.querySelectorAll(t)}},{key:"on",value:function(e,t,n){e.addEventListener(t,n,!1)}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"createMouseEvent",value:function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}},{key:"createEvent",value:function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}},{key:"preventDefault",value:function(e){e.preventDefault(),e.returnValue=!1}},{key:"isPrevented",value:function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}},{key:"getInnerHTML",value:function(e){return e.innerHTML}},{key:"getTemplateContent",value:function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}},{key:"getOuterHTML",value:function(e){return e.outerHTML}},{key:"nodeName",value:function(e){return e.nodeName}},{key:"nodeValue",value:function(e){return e.nodeValue}},{key:"type",value:function(e){return e.type}},{key:"content",value:function(e){return this.hasProperty(e,"content")?e.content:e}},{key:"firstChild",value:function(e){return e.firstChild}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"parentElement",value:function(e){return e.parentNode}},{key:"childNodes",value:function(e){return e.childNodes}},{key:"childNodesAsList",value:function(e){for(var t=e.childNodes,n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return n}},{key:"clearNodes",value:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"removeChild",value:function(e,t){e.removeChild(t)}},{key:"replaceChild",value:function(e,t,n){e.replaceChild(t,n)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"insertBefore",value:function(e,t,n){e.insertBefore(n,t)}},{key:"insertAllBefore",value:function(e,t,n){n.forEach((function(n){return e.insertBefore(n,t)}))}},{key:"insertAfter",value:function(e,t,n){e.insertBefore(n,t.nextSibling)}},{key:"setInnerHTML",value:function(e,t){e.innerHTML=t}},{key:"getText",value:function(e){return e.textContent}},{key:"setText",value:function(e,t){e.textContent=t}},{key:"getValue",value:function(e){return e.value}},{key:"setValue",value:function(e,t){e.value=t}},{key:"getChecked",value:function(e){return e.checked}},{key:"setChecked",value:function(e,t){e.checked=t}},{key:"createComment",value:function(e){return this.getDefaultDocument().createComment(e)}},{key:"createTemplate",value:function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createElementNS",value:function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}},{key:"createTextNode",value:function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}},{key:"createScriptTag",value:function(e,t,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}},{key:"createStyleElement",value:function(e,t){var n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}},{key:"createShadowRoot",value:function(e){return e.createShadowRoot()}},{key:"getShadowRoot",value:function(e){return e.shadowRoot}},{key:"getHost",value:function(e){return e.host}},{key:"clone",value:function(e){return e.cloneNode(!0)}},{key:"getElementsByClassName",value:function(e,t){return e.getElementsByClassName(t)}},{key:"getElementsByTagName",value:function(e,t){return e.getElementsByTagName(t)}},{key:"classList",value:function(e){return Array.prototype.slice.call(e.classList,0)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"hasClass",value:function(e,t){return e.classList.contains(t)}},{key:"setStyle",value:function(e,t,n){e.style[t]=n}},{key:"removeStyle",value:function(e,t){e.style[t]=""}},{key:"getStyle",value:function(e,t){return e.style[t]}},{key:"hasStyle",value:function(e,t,n){var r=this.getStyle(e,t)||"";return n?r==n:r.length>0}},{key:"tagName",value:function(e){return e.tagName}},{key:"attributeMap",value:function(e){for(var t=new Map,n=e.attributes,r=0;r<n.length;r++){var i=n.item(r);t.set(i.name,i.value)}return t}},{key:"hasAttribute",value:function(e,t){return e.hasAttribute(t)}},{key:"hasAttributeNS",value:function(e,t,n){return e.hasAttributeNS(t,n)}},{key:"getAttribute",value:function(e,t){return e.getAttribute(t)}},{key:"getAttributeNS",value:function(e,t,n){return e.getAttributeNS(t,n)}},{key:"setAttribute",value:function(e,t,n){e.setAttribute(t,n)}},{key:"setAttributeNS",value:function(e,t,n,r){e.setAttributeNS(t,n,r)}},{key:"removeAttribute",value:function(e,t){e.removeAttribute(t)}},{key:"removeAttributeNS",value:function(e,t,n){e.removeAttributeNS(t,n)}},{key:"templateAwareRoot",value:function(e){return this.isTemplateElement(e)?this.content(e):e}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"getBoundingClientRect",value:function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}},{key:"getTitle",value:function(e){return e.title}},{key:"setTitle",value:function(e,t){e.title=t||""}},{key:"elementMatches",value:function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}},{key:"isTemplateElement",value:function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}},{key:"isTextNode",value:function(e){return e.nodeType===Node.TEXT_NODE}},{key:"isCommentNode",value:function(e){return e.nodeType===Node.COMMENT_NODE}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"hasShadowRoot",value:function(e){return null!=e.shadowRoot&&e instanceof HTMLElement}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"importIntoDoc",value:function(e){return document.importNode(this.templateAwareRoot(e),!0)}},{key:"adoptNode",value:function(e){return document.adoptNode(e)}},{key:"getHref",value:function(e){return e.getAttribute("href")}},{key:"getEventKey",value:function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Gu.hasOwnProperty(t)&&(t=Gu[t]))}return Hu[t]||t}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=Qu||(Qu=document.querySelector("base"))?Qu.getAttribute("href"):null;return null==n?null:(t=n,qu||(qu=document.createElement("a")),qu.setAttribute("href",t),"/"===qu.pathname.charAt(0)?qu.pathname:"/"+qu.pathname)}},{key:"resetBaseElement",value:function(){Qu=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"setData",value:function(e,t,n){this.setAttribute(e,"data-"+t,n)}},{key:"getData",value:function(e,t){return this.getAttribute(e,"data-"+t)}},{key:"getComputedStyle",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return getComputedStyle(e)}))},{key:"supportsWebAnimation",value:function(){return"function"==typeof Element.prototype.animate}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return function(e,t){t=encodeURIComponent(t);var n=!0,r=!1,i=void 0;try{for(var o,s=e.split(";")[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value,u=a.indexOf("="),l=_slicedToArray(-1==u?[a,""]:[a.slice(0,u),a.slice(u+1)],2),c=l[0],h=l[1];if(c.trim()===t)return decodeURIComponent(h)}}catch(f){r=!0,i=f}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return null}(document.cookie,e)}},{key:"setCookie",value:function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}},{key:"attrToPropMap",get:function(){return zu}}],[{key:"makeCurrent",value:function(){var e;e=new t,ju||(ju=e)}}]),t}(Bu),Qu=null;function Zu(){return!!window.history.pushState}var $u=new Ae("TRANSITION_ID"),Yu=[{provide:Mi,useFactory:function(e,t,n){return function(){n.get(Vi).donePromise.then((function(){var n=Uu();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter((function(t){return n.getAttribute(t,"ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[$u,ja,Mt],multi:!0}],Xu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){xe.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},xe.getAllAngularTestabilities=function(){return e.getAllTestabilities()},xe.getAllAngularRootElements=function(){return e.getAllRootElements()},xe.frameworkStabilizers||(xe.frameworkStabilizers=[]),xe.frameworkStabilizers.push((function(e){var t=xe.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?Uu().isShadowRoot(t)?this.findTestabilityInTree(e,Uu().getHost(t),!0):this.findTestabilityInTree(e,Uu().parentElement(t),!0):null}}],[{key:"init",value:function(){var t;t=new e,bo=t}}]),e}();function Ju(e,t){"undefined"!=typeof COMPILED&&COMPILED||((xe.ng=xe.ng||{})[e]=t)}var el={ApplicationRef:Ao,NgZone:lo};function tl(e){return Uo(e)}var nl=new Ae("EventManagerPlugins"),rl=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}(),il=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=Uu().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),ol=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}(),sl=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return _inherits(t,e),_createClass(t,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Uu().remove(e)}))}}]),t}(ol),al={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ul=/%COMP%/g,ll="_nghost-%COMP%",cl="_ngcontent-%COMP%";function hl(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?hl(e,i,n):(i=i.replace(ul,e),n.push(i))}return n}function fl(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var dl=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new pl(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case We.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new gl(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case We.Native:case We.ShadowDom:return new ml(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=hl(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}(),pl=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(al[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=al[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=al[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&pn.DashCase?e.style.setProperty(t,n,r&pn.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&pn.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){yl(t,"property"),e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return yl(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,fl(n)):this.eventManager.addEventListener(e,t,fl(n))}}]),e}(),vl="@".charCodeAt(0);function yl(e,t){if(e.charCodeAt(0)===vl)throw new Error("Found the synthetic ".concat(t," ").concat(e,'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))}var gl=function(e){function t(e,n,r,i){var o;_classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).component=r;var s=hl(i+"-"+r.id,r.styles,[]);return n.addStyles(s),o.contentAttr=cl.replace(ul,i+"-"+r.id),o.hostAttr=ll.replace(ul,i+"-"+r.id),o}return _inherits(t,e),_createClass(t,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(t.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,n){var r=_get(_getPrototypeOf(t.prototype),"createElement",this).call(this,e,n);return _get(_getPrototypeOf(t.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),t}(pl),ml=function(e){function t(e,n,r,i){var o;_classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=i.encapsulation===We.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=hl(i.id,i.styles,[]),a=0;a<s.length;a++){var u=document.createElement("style");u.textContent=s[a],o.shadowRoot.appendChild(u)}return o}return _inherits(t,e),_createClass(t,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,n){return _get(_getPrototypeOf(t.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),n)}},{key:"insertBefore",value:function(e,n,r){return _get(_getPrototypeOf(t.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),n,r)}},{key:"removeChild",value:function(e,n){return _get(_getPrototypeOf(t.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),n)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(t.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),t}(pl),_l="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},bl=_l("addEventListener"),wl=_l("removeEventListener"),kl={},Cl="__zone_symbol__propagationStopped",El=function(){var e="undefined"!=typeof Zone&&Zone[_l("BLACK_LISTED_EVENTS")];if(e){var t={};return e.forEach((function(e){t[e]=e})),t}}(),Sl=function(e){return!!El&&El.hasOwnProperty(e)},Tl=function(e){var t=kl[e.type];if(t){var n=this[t];if(n){var r=[e];if(1===n.length){var i=n[0];return i.zone!==Zone.current?i.zone.run(i.handler,this,r):i.handler.apply(this,r)}for(var o=n.slice(),s=0;s<o.length&&!0!==e[Cl];s++){var a=o[s];a.zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Il=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).ngZone=n,r&&Ba(r)||i.patchEvent(),i}return _inherits(t,e),_createClass(t,[{key:"patchEvent",value:function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Cl]=!0),e&&e.apply(this,arguments)}}}},{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this,i=n;if(!e[bl]||lo.isInAngularZone()&&!Sl(t))e.addEventListener(t,i,!1);else{var o=kl[t];o||(o=kl[t]=_l("ANGULAR"+t+"FALSE"));var s=e[o],a=s&&s.length>0;s||(s=e[o]=[]);var u=Sl(t)?Zone.root:Zone.current;if(0===s.length)s.push({zone:u,handler:i});else{for(var l=!1,c=0;c<s.length;c++)if(s[c].handler===i){l=!0;break}l||s.push({zone:u,handler:i})}a||e[bl](t,Tl,!1)}return function(){return r.removeEventListener(e,t,i)}}},{key:"removeEventListener",value:function(e,t,n){var r=e[wl];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);var i=kl[t],o=i&&e[i];if(!o)return e.removeEventListener.apply(e,[t,n,!1]);for(var s=!1,a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(e,[t,Tl,!1]):e.removeEventListener.apply(e,[t,n,!1])}}]),t}(il),xl={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Al=new Ae("HammerGestureConfig"),Ol=new Ae("HammerLoader"),Pl=function(){function e(){_classCallCheck(this,e),this.events=[],this.overrides={}}return _createClass(e,[{key:"buildHammer",value:function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t}}]),e}(),Nl=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e)))._config=n,o.console=r,o.loader=i,o}return _inherits(t,e),_createClass(t,[{key:"supports",value:function(e){return!(!xl.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(e,'" event cannot be bound because Hammer.JS is not ')+"loaded and no custom loader has been specified."),1))}},{key:"addEventListener",value:function(e,t,n){var r=this,i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var o=!1,s=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(s=function(){});o||(s=r.addEventListener(e,t,n))})).catch((function(){r.console.warn('The "'.concat(t,'" event cannot be bound because the custom ')+"Hammer.JS loader failed."),s=function(){}})),function(){s()}}return i.runOutsideAngular((function(){var o=r._config.buildHammer(e),s=function(e){i.runGuarded((function(){n(e)}))};return o.on(t,s),function(){o.off(t,s),"function"==typeof o.destroy&&o.destroy()}}))}},{key:"isCustomEvent",value:function(e){return this._config.events.indexOf(e)>-1}}]),t}(il),Rl=["alt","control","meta","shift"],Dl={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Ll=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"supports",value:function(e){return null!=t.parseEventName(e)}},{key:"addEventListener",value:function(e,n,r){var i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Uu().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=t._normalizeKey(n.pop()),o="";if(Rl.forEach((function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),o+=e+".")})),o+=i,0!=n.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(e){var t="",n=Uu().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Rl.forEach((function(r){r!=n&&(0,Dl[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,n,r){return function(i){t.getEventFullKey(i)===e&&r.runGuarded((function(){return n(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),t}(il),Ml=function e(){_classCallCheck(this,e)},Vl=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._doc=e,n}return _inherits(t,e),_createClass(t,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case St.NONE:return t;case St.HTML:return t instanceof jl?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){var n=null;try{ct=ct||new it(e);var r=t?String(t):"";n=ct.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ct.getInertBodyElement(r)}while(r!==o);var s=new bt,a=s.sanitizeChildren(Et(n)||n);return rt()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var u=Et(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}(this._doc,String(t)));case St.STYLE:return t instanceof Ul?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";var t=e.match(xt);return t&&at(t[1])===t[1]||e.match(It)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(rt()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}(t));case St.SCRIPT:if(t instanceof ql)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case St.URL:return t instanceof zl||t instanceof Bl?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),at(String(t)));case St.RESOURCE_URL:if(t instanceof zl)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"checkNotSafeValue",value:function(e,t){if(e instanceof Fl)throw new Error("Required a safe ".concat(t,", got a ").concat(e.getTypeName()," ")+"(see http://g.co/ng/security#xss)")}},{key:"bypassSecurityTrustHtml",value:function(e){return new jl(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return new Ul(e)}},{key:"bypassSecurityTrustScript",value:function(e){return new ql(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return new Bl(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return new zl(e)}}]),t}(Ml),Fl=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),e}(),jl=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"HTML"}}]),t}(Fl),Ul=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"Style"}}]),t}(Fl),ql=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"Script"}}]),t}(Fl),Bl=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"URL"}}]),t}(Fl),zl=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),t}(Fl),Hl=Eo(Bo,"browser",[{provide:Bi,useValue:Ua},{provide:qi,useValue:function(){Ku.makeCurrent(),Xu.init()},multi:!0},{provide:ga,useClass:function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._doc=e,n._init(),n}return _inherits(t,e),_createClass(t,[{key:"_init",value:function(){this.location=Uu().getLocation(),this._history=Uu().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Uu().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){Uu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){Uu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){Zu()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){Zu()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),t}(ga),deps:[ja]},{provide:ja,useFactory:function(){return document},deps:[]}]);function Gl(){return new et}var Wl=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:Fi,useValue:t.appId},{provide:$u,useExisting:Fi},Yu]}}}]),e}();"undefined"!=typeof window&&window;var Kl=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},Ql=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).navigationTrigger=i,r.restoredState=o,r}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),t}(Kl),Zl=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,i}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),t}(Kl),$l=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).reason=r,i}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),t}(Kl),Yl=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).error=r,i}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),t}(Kl),Xl=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(Kl),Jl=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(Kl),ec=function(e){function t(e,n,r,i,o){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,s.state=i,s.shouldActivate=o,s}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),t}(Kl),tc=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(Kl),nc=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(Kl),rc=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),ic=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),oc=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),sc=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ac=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),uc=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),lc=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),cc=function e(){_classCallCheck(this,e)},hc="primary",fc=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function dc(e){return new fc(e)}var pc="ngNavigationCancelingError";function vc(e){var t=Error("NavigationCancelingError: "+e);return t[pc]=!0,t}function yc(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var gc=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function mc(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];_c(r,bc(t,r))}}function _c(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==hc)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&mc(e.children,t)}function bc(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function wc(e){var t=e.children&&e.children.map(wc),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==hc&&(n.component=cc),n}function kc(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(e[n=r[o]]!==t[n])return!1;return!0}function Cc(e){return Array.prototype.concat.apply([],e)}function Ec(e){return e.length>0?e[e.length-1]:null}function Sc(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Tc(e){return Jt(e)?e:Xt(e)?Q(Promise.resolve(e)):Za(e)}function Ic(e,t,n){return n?function(e,t){return kc(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Pc(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return t[n]===e[n]}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!Pc(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Pc(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var s=i.slice(0,n.segments.length),a=i.slice(n.segments.length);return!!Pc(n.segments,s)&&!!n.children[hc]&&t(n.children[hc],r,a)}(t,n,n.segments)}(e.root,t.root)}var xc=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"toString",value:function(){return Lc.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=dc(this.queryParams)),this._queryParamMap}}]),e}(),Ac=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,Sc(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Mc(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),Oc=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"toString",value:function(){return Bc(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=dc(this.parameters)),this._parameterMap}}]),e}();function Pc(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Nc(e,t){var n=[];return Sc(e.children,(function(e,r){r===hc&&(n=n.concat(t(e,r)))})),Sc(e.children,(function(e,r){r!==hc&&(n=n.concat(t(e,r)))})),n}var Rc=function e(){_classCallCheck(this,e)},Dc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new Kc(e);return new xc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r;return"".concat("/".concat(function e(t,n){if(!t.hasChildren())return Mc(t);if(n){var r=t.children[hc]?e(t.children[hc],!1):"",i=[];return Sc(t.children,(function(t,n){n!==hc&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Nc(t,(function(n,r){return r===hc?[e(t.children[hc],!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(Mc(t),"/(").concat(o.join("//"),")")}(e.root,!0)),(n=e.queryParams,r=Object.keys(n).map((function(e){var t=n[e];return Array.isArray(t)?t.map((function(t){return"".concat(Fc(e),"=").concat(Fc(t))})).join("&"):"".concat(Fc(e),"=").concat(Fc(t))})),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),Lc=new Dc;function Mc(e){return e.segments.map((function(e){return Bc(e)})).join("/")}function Vc(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fc(e){return Vc(e).replace(/%3B/gi,";")}function jc(e){return Vc(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uc(e){return decodeURIComponent(e)}function qc(e){return Uc(e.replace(/\+/g,"%20"))}function Bc(e){return"".concat(jc(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(jc(e),"=").concat(jc(t[e]))})).join("")));var t}var zc=/^[^\/()?;=#]+/;function Hc(e){var t=e.match(zc);return t?t[0]:""}var Gc=/^[^=?&#]+/,Wc=/^[^?&#]+/,Kc=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ac([],{}):new Ac([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[hc]=new Ac(e,t)),n}},{key:"parseSegment",value:function(){var e=Hc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Oc(Uc(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Hc(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Hc(this.remaining);r&&this.capture(n=r)}e[Uc(t)]=Uc(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Gc);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Wc);return t?t[0]:""}(this.remaining);r&&this.capture(n=r)}var i=qc(t),o=qc(n);if(e.hasOwnProperty(i)){var s=e[i];Array.isArray(s)||(e[i]=s=[s]),s.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Hc(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=hc);var o=this.parseChildren();t[i]=1===Object.keys(o).length?o[hc]:new Ac([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Qc=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Zc(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=Zc(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=$c(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return $c(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function Zc(e,t){if(e===t.value)return t;var n=!0,r=!1,i=void 0;try{for(var o,s=t.children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=Zc(e,o.value);if(a)return a}}catch(u){r=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return null}function $c(e,t){if(e===t.value)return[t];var n=!0,r=!1,i=void 0;try{for(var o,s=t.children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=$c(e,o.value);if(a.length)return a.unshift(t),a}}catch(u){r=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return[]}var Yc=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Xc(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var Jc=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).snapshot=n,oh(_assertThisInitialized(r),e),r}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return this.snapshot.toString()}}]),t}(Qc);function eh(e,t){var n=function(e,t){var n=new rh([],{},{},"",{},hc,t,null,e.root,-1,{});return new ih("",new Yc(n,[]))}(e,t),r=new $a([new Oc("",{})]),i=new $a({}),o=new $a({}),s=new $a({}),a=new $a(""),u=new th(r,i,s,a,o,hc,t,n.root);return u.snapshot=n.root,new Jc(new Yc(u,[]),n)}var th=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}return _createClass(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(H((function(e){return dc(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H((function(e){return dc(e)})))),this._queryParamMap}}]),e}();function nh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var rh=function(){function e(t,n,r,i,o,s,a,u,l,c,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}return _createClass(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=dc(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=dc(this.queryParams)),this._queryParamMap}}]),e}(),ih=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).url=e,oh(_assertThisInitialized(r),n),r}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return sh(this._root)}}]),t}(Qc);function oh(e,t){t.value._routerState=e,t.children.forEach((function(t){return oh(e,t)}))}function sh(e){var t=e.children.length>0?" { ".concat(e.children.map(sh).join(", ")," } "):"";return"".concat(e.value).concat(t)}function ah(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,kc(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),kc(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!kc(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),kc(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function uh(e,t){var n,r;return kc(e.params,t.params)&&Pc(n=e.url,r=t.url)&&n.every((function(e,t){return kc(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||uh(e.parent,t.parent))}function lh(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ch(e,t,n,r,i){var o={};return r&&Sc(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return"".concat(e)})):"".concat(e)})),new xc(n.root===e?t:function e(t,n,r){var i={};return Sc(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new Ac(t.segments,i)}(n.root,e,t),o,i)}var hh=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&lh(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==Ec(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),fh=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function dh(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[hc]:"".concat(e)}function ph(e,t,n){if(e||(e=new Ac([],{})),0===e.segments.length&&e.hasChildren())return vh(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var s=e.segments[i],a=dh(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!_h(a,u,s))return o;r+=2}else{if(!_h(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new Ac(e.segments.slice(0,r.pathIndex),{});return o.children[hc]=new Ac(e.segments.slice(r.pathIndex),e.children),vh(o,0,i)}return r.match&&0===i.length?new Ac(e.segments,{}):r.match&&!e.hasChildren()?yh(e,t,n):r.match?vh(e,0,i):yh(e,t,n)}function vh(e,t,n){if(0===n.length)return new Ac(e.segments,{});var r=function(e){return"object"!=typeof e[0]?_defineProperty({},hc,e):void 0===e[0].outlets?_defineProperty({},hc,e):e[0].outlets}(n),i={};return Sc(r,(function(n,r){null!==n&&(i[r]=ph(e.children[r],t,n))})),Sc(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new Ac(e.segments,i)}function yh(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=gh(n[i].outlets);return new Ac(r,o)}if(0===i&&lh(n[0]))r.push(new Oc(e.segments[t].path,n[0])),i++;else{var s=dh(n[i]),a=i<n.length-1?n[i+1]:null;s&&a&&lh(a)?(r.push(new Oc(s,mh(a))),i+=2):(r.push(new Oc(s,{})),i++)}}return new Ac(r,{})}function gh(e){var t={};return Sc(e,(function(e,n){null!==e&&(t[n]=yh(new Ac([],{}),0,e))})),t}function mh(e){var t={};return Sc(e,(function(e,n){return t[n]="".concat(e)})),t}function _h(e,t,n){return e==n.path&&kc(t,n.parameters)}var bh=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),ah(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=Xc(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),Sc(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=Xc(e),o=e.value.component?r.children:t;Sc(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=Xc(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new uc(e.value.snapshot))})),e.children.length&&this.forwardEvent(new sc(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(ah(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),wh(a.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),l=u?u.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=l,s.outlet&&s.outlet.activateWith(r,l),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function wh(e){ah(e.value),e.children.forEach(wh)}function kh(e){return"function"==typeof e}function Ch(e){return e instanceof xc}var Eh=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},Sh=function e(t){_classCallCheck(this,e),this.urlTree=t};function Th(e){return new C((function(t){return t.error(new Eh(e))}))}function Ih(e){return new C((function(t){return t.error(new Sh(e))}))}function xh(e){return new C((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Ah=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(Be)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,hc).pipe(H((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(wu((function(t){if(t instanceof Sh)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Eh)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,hc).pipe(H((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(wu((function(e){if(e instanceof Eh)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Ac([],_defineProperty({},hc,e)):e;return new xc(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(H((function(e){return new Ac([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Za({});var o=[],s=[],a={};return Sc(n,(function(n,i){var u,l,c=(u=i,l=n,r.expandSegmentGroup(e,t,l,u)).pipe(H((function(e){return a[i]=e})));i===hc?o.push(c):s.push(c)})),Za.apply(null,o.concat(s)).pipe(ru(),bu(),H((function(){return a})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,o){var s=this;return Za.apply(void 0,_toConsumableArray(n)).pipe(H((function(a){return s.expandSegmentAgainstRoute(e,t,n,a,r,i,o).pipe(wu((function(e){if(e instanceof Eh)return Za(null);throw e})))})),ru(),Iu((function(e){return!!e})),wu((function(e,n){if(e instanceof Xa||"EmptyError"===e.name){if(s.noLeftoversInUrl(t,r,i))return Za(new Ac([],{}));throw new Eh(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,s){return Rh(r)!==o?Th(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Th(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ih(o):this.lineralizeSegments(n,o).pipe(Z((function(n){var o=new Ac(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var s=this,a=Oh(t,r,i),u=a.matched,l=a.consumedSegments,c=a.lastChild,h=a.positionalParamSegments;if(!u)return Th(t);var f=this.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?Ih(f):this.lineralizeSegments(r,f).pipe(Z((function(r){return s.expandSegment(e,t,n,r.concat(i.slice(c)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(H((function(e){return n._loadedConfig=e,new Ac(r,{})}))):Za(new Ac(r,{}));var o=Oh(t,n,r),s=o.matched,a=o.consumedSegments,u=o.lastChild;if(!s)return Th(t);var l=r.slice(u);return this.getChildConfig(e,n,r).pipe(Z((function(e){var n=e.module,r=e.routes,o=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return Nh(e,t,n)&&Rh(n)!==hc}))}(e,n,r)?{segmentGroup:Ph(new Ac(t,function(e,t){var n={};n[hc]=t;var r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value;""===u.path&&Rh(u)!==hc&&(n[Rh(u)]=new Ac([],{}))}}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(r,new Ac(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Nh(e,t,n)}))}(e,n,r)?{segmentGroup:Ph(new Ac(e.segments,function(e,t,n,r){var i={},o=!0,s=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;Nh(e,t,c)&&!r[Rh(c)]&&(i[Rh(c)]=new Ac([],{}))}}catch(h){s=!0,a=h}finally{try{o||null==l.return||l.return()}finally{if(s)throw a}}return Object.assign({},r,i)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,a,l,r),s=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&s.hasChildren()?i.expandChildren(n,r,s).pipe(H((function(e){return new Ac(a,e)}))):0===r.length&&0===u.length?Za(new Ac(a,{})):i.expandSegment(n,s,r,u,hc,!0).pipe(H((function(e){return new Ac(a.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Za(new gc(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Za(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?Q(i).pipe(H((function(r){var i,o=e.get(r);if(function(e){return e&&kh(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!kh(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return Tc(i)}))).pipe(ru(),(r=function(e){return!0===e},function(e){return e.lift(new xu(r,void 0,e))})):Za(!0)}(e.injector,t,n).pipe(Z((function(n){return n?r.configLoader.load(e.injector,t).pipe(H((function(e){return t._loadedConfig=e,e}))):function(e){return new C((function(t){return t.error(vc("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Za(new gc([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Za(n);if(r.numberOfChildren>1||!r.children[hc])return xh(e.redirectTo);r=r.children[hc]}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new xc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Sc(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),s={};return Sc(t.children,(function(t,o){s[o]=i.createSegmentGroup(e,t,n,r)})),new Ac(o,s)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n=0,r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value;if(u.path===e.path)return t.splice(n),u;n++}}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return e}}]),e}();function Oh(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||yc)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ph(e){if(1===e.numberOfChildren&&e.children[hc]){var t=e.children[hc];return new Ac(e.segments.concat(t.segments),t.children)}return e}function Nh(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Rh(e){return e.outlet||hc}var Dh=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},Lh=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function Mh(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Vh(e,t,n){var r=Xc(e),i=e.value;Sc(r,(function(e,r){Vh(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new Lh(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Fh=Symbol("INITIAL_VALUE");function jh(){return Ou((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return N(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),K(t,i).lift(new eu(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(Eu(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=t[t.length-1];N(n)?t.pop():n=null;var r=t.length;return function(){return ru()(Za.apply(void 0,arguments))}(1!==r||n?r>0?K(t,n):Ka(n):Qa(t[0]),e)}}(Fh))})))).pipe(Ru((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==Fh)return e;if(r===Fh&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Ch(r))return r}return e}),e)}),Fh),iu((function(e){return e!==Fh})),H((function(e){return Ch(e)?e:!0===e})),Eu(1))}))}function Uh(e,t){return null!==e&&t&&t(new ac(e)),Za(!0)}function qh(e,t){return null!==e&&t&&t(new oc(e)),Za(!0)}function Bh(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Za(r.map((function(r){return nu((function(){var i,o=Mh(r,t,n);if(function(e){return e&&kh(e.canActivate)}(o))i=Tc(o.canActivate(t,e));else{if(!kh(o))throw new Error("Invalid CanActivate guard");i=Tc(o(t,e))}return i.pipe(Iu())}))}))).pipe(jh()):Za(!0)}function zh(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return nu((function(){return Za(t.guards.map((function(i){var o,s=Mh(i,t.node,n);if(function(e){return e&&kh(e.canActivateChild)}(s))o=Tc(s.canActivateChild(r,e));else{if(!kh(s))throw new Error("Invalid CanActivateChild guard");o=Tc(s(r,e))}return o.pipe(Iu())}))).pipe(jh())}))}));return Za(i).pipe(jh())}var Hh=function e(){_classCallCheck(this,e)},Gh=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}return _createClass(e,[{key:"recognize",value:function(){try{var e=Qh(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,hc),n=new rh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},hc,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Yc(n,t),i=new ih(this.url,r);return this.inheritParamsAndData(i._root),Za(i)}catch(o){return new C((function(e){return e.error(o)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=nh(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=Nc(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return e.value.outlet===hc?-1:t.value.outlet===hc?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i=!0,o=!1,s=void 0;try{for(var a,u=e[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var l=a.value;try{return this.processSegmentAgainstRoute(l,t,n,r)}catch(c){if(!(c instanceof Hh))throw c}}}catch(h){o=!0,s=h}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}if(this.noLeftoversInUrl(t,n,r))return[];throw new Hh}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new Hh;if((e.outlet||hc)!==r)throw new Hh;var i,o=[],s=[];if("**"===e.path){var a=n.length>0?Ec(n).parameters:{};i=new rh(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yh(e),r,e.component,e,Wh(t),Kh(t)+n.length,Xh(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Hh;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||yc)(n,e,t);if(!r)throw new Hh;var i={};Sc(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=u.consumedSegments,s=n.slice(u.lastChild),i=new rh(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yh(e),r,e.component,e,Wh(t),Kh(t)+o.length,Xh(e))}var l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=Qh(t,o,s,l,this.relativeLinkResolution),h=c.segmentGroup,f=c.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(l,h);return[new Yc(i,d)]}if(0===l.length&&0===f.length)return[new Yc(i,[])];var p=this.processSegment(l,h,f,hc);return[new Yc(i,p)]}}]),e}();function Wh(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Kh(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Qh(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return Zh(e,t,n)&&$h(n)!==hc}))}(e,n,r)){var o=new Ac(t,function(e,t,n,r){var i={};i[hc]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o=!0,s=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;if(""===c.path&&$h(c)!==hc){var h=new Ac([],{});h._sourceSegment=e,h._segmentIndexShift=t.length,i[$h(c)]=h}}}catch(f){s=!0,a=f}finally{try{o||null==l.return||l.return()}finally{if(s)throw a}}return i}(e,t,r,new Ac(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return Zh(e,t,n)}))}(e,n,r)){var s=new Ac(e.segments,function(e,t,n,r,i,o){var s={},a=!0,u=!1,l=void 0;try{for(var c,h=r[Symbol.iterator]();!(a=(c=h.next()).done);a=!0){var f=c.value;if(Zh(e,n,f)&&!i[$h(f)]){var d=new Ac([],{});d._sourceSegment=e,d._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[$h(f)]=d}}}catch(p){u=!0,l=p}finally{try{a||null==h.return||h.return()}finally{if(u)throw l}}return Object.assign({},i,s)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}var a=new Ac(e.segments,e.children);return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}function Zh(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function $h(e){return e.outlet||hc}function Yh(e){return e.data||{}}function Xh(e){return e.resolve||{}}function Jh(e,t,n,r){var i=Mh(e,t,r);return Tc(i.resolve?i.resolve(t,n):i(t,n))}function ef(e){return function(t){return t.pipe(Ou((function(t){var n=e(t);return n?Q(n).pipe(H((function(){return t}))):Q([t])})))}}var tf=function e(){_classCallCheck(this,e)},nf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),rf=new Ae("ROUTES"),of=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(H((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new gc(Cc(i.injector.get(rf)).map(wc),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Q(this.loader.load(e)):Tc(e()).pipe(Z((function(e){return e instanceof ze?Za(e):Q(t.compiler.compileModuleAsync(e))})))}}]),e}(),sf=function e(){_classCallCheck(this,e)},af=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function uf(e){throw e}function lf(e,t,n){return t.parse("/")}function cf(e,t){return Za(null)}var hf=function(){function e(t,n,r,i,o,s,a,u){var l=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new O,this.errorHandler=uf,this.malformedUriErrorHandler=lf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cf,afterPreactivation:cf},this.urlHandlingStrategy=new af,this.routeReuseStrategy=new nf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(Be),this.console=o.get(Hi);var c=o.get(lo);this.isNgZoneEnabled=c instanceof lo,this.resetConfig(u),this.currentUrlTree=new xc(new Ac([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new of(s,a,(function(e){return l.triggerEvent(new rc(e))}),(function(e){return l.triggerEvent(new ic(e))})),this.routerState=eh(this.currentUrlTree,this.rootComponentType),this.transitions=new $a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(iu((function(e){return 0!==e.id})),H((function(e){return Object.assign({},e,{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),Ou((function(e){var r,i,o,s=!1,a=!1;return Za(e).pipe(fu((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign({},t.lastSuccessfulNavigation,{previousNavigation:null}):null}})),Ou((function(e){var r,i,o,s,a=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||a)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Za(e).pipe(Ou((function(e){var r=t.transitions.getValue();return n.next(new Ql(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?Wa:[e]})),Ou((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,s=t.config,function(e){return e.pipe(Ou((function(e){return function(e,t,n,r,i){return new Ah(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,s).pipe(H((function(t){return Object.assign({},e,{urlAfterRedirects:t})})))})))}),fu((function(e){t.currentNavigation=Object.assign({},t.currentNavigation,{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(Z((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Gh(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,t.serializeUrl(s)),i,o).pipe(H((function(e){return Object.assign({},r,{targetSnapshot:e})})));var s})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),fu((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),fu((function(e){var r=new Xl(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(a&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,l=e.extractedUrl,c=e.source,h=e.restoredState,f=e.extras,d=new Ql(u,t.serializeUrl(l),c,h);n.next(d);var p=eh(l,t.rootComponentType).snapshot;return Za(Object.assign({},e,{targetSnapshot:p,urlAfterRedirects:l,extras:Object.assign({},f,{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Wa})),ef((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,s=e.extras,a=s.skipLocationChange,u=s.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),fu((function(e){var n=new Jl(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),H((function(e){return Object.assign({},e,{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=Xc(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=t.value,a=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){var l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Pc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Pc(e.url,t.url)||!kc(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uh(e,t)||!kc(e.queryParams,t.queryParams);case"paramsChange":default:return!uh(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Dh(i)):(s.data=a.data,s._resolvedData=a._resolvedData),e(t,n,s.component?u?u.children:null:r,i,o),l&&o.canDeactivateChecks.push(new Lh(u&&u.outlet&&u.outlet.component||null,a))}else a&&Vh(n,u,o),o.canActivateChecks.push(new Dh(i)),e(t,null,s.component?u?u.children:null:r,i,o)}(t,s[t.value.outlet],r,i.concat([t.value]),o),delete s[t.value.outlet]})),Sc(s,(function(e,t){return Vh(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),(i=t.ngModule.injector,o=function(e){return t.triggerEvent(e)},function(e){return e.pipe(Z((function(e){var t=e.targetSnapshot,n=e.currentSnapshot,r=e.guards,s=r.canActivateChecks,a=r.canDeactivateChecks;return 0===a.length&&0===s.length?Za(Object.assign({},e,{guardsResult:!0})):function(e,t,n,r){return Q(e).pipe(Z((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Za(o.map((function(o){var s,a=Mh(o,t,i);if(function(e){return e&&kh(e.canDeactivate)}(a))s=Tc(a.canDeactivate(e,t,n,r));else{if(!kh(a))throw new Error("Invalid CanDeactivate guard");s=Tc(a(e,t,n,r))}return s.pipe(Iu())}))).pipe(jh()):Za(!0)}(e.component,e.route,n,t,r)})),Iu((function(e){return!0!==e}),!0))}(a,t,n,i).pipe(Z((function(e){return e&&"boolean"==typeof e?function(e,t,n,r){return Q(t).pipe(Mu((function(t){return Q([qh(t.route.parent,r),Uh(t.route,r),zh(e,t.path,n),Bh(e,t.route,n)]).pipe(ru(),Iu((function(e){return!0!==e}),!0))})),Iu((function(e){return!0!==e}),!0))}(t,s,i,o):Za(e)})),H((function(t){return Object.assign({},e,{guardsResult:t})})))})))}),fu((function(e){if(Ch(e.guardsResult)){var n=vc('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),fu((function(e){var n=new ec(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),iu((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new $l(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),ef((function(e){if(e.guards.canActivateChecks.length)return Za(e).pipe(fu((function(e){var n=new tc(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),function(e,t){return function(n){return n.pipe(Z((function(n){var r=n.targetSnapshot,i=n.guards.canActivateChecks;return i.length?Q(i).pipe(Mu((function(n){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Za({});if(1===i.length){var o=i[0];return Jh(e[o],t,n,r).pipe(H((function(e){return _defineProperty({},o,e)})))}var s={};return Q(i).pipe(Z((function(i){return Jh(e[i],t,n,r).pipe(H((function(e){return s[i]=e,e})))}))).pipe(bu(),H((function(){return s})))}(e._resolve,e,t,r).pipe(H((function(t){return e._resolvedData=t,e.data=Object.assign({},e.data,nh(e,n).resolve),null})))}(n.route,r,e,t)})),function(e,t){return arguments.length>=2?function(n){return b(Ru(e,t),lu(1),gu(t))(n)}:function(t){return b(Ru((function(t,n,r){return e(t,n,r+1)})),lu(1))(t)}}((function(e,t){return e})),H((function(e){return n}))):Za(n)})))}}(t.paramsInheritanceStrategy,t.ngModule.injector),fu((function(e){var n=new nc(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})))})),ef((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,s=e.extras,a=s.skipLocationChange,u=s.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),H((function(e){var n,r,i,o,s=(n=t.routeReuseStrategy,r=e.targetSnapshot,i=e.currentRouterState,o=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i=!0,o=!1,s=void 0;try{for(var a,u=r.children[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var l=a.value;if(t.shouldReuseRoute(l.value.snapshot,n.value))return e(t,n,l)}}catch(c){o=!0,s=c}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}return e(t,n)}))}(t,n,r);return new Yc(i,o)}var s=t.retrieve(n.value);if(s){var a=s.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,a),a}var u,l=new th(new $a((u=n.value).url),new $a(u.params),new $a(u.queryParams),new $a(u.fragment),new $a(u.data),u.outlet,u.component,u),c=n.children.map((function(n){return e(t,n)}));return new Yc(l,c)}(n,r._root,i?i._root:void 0),new Jc(o,r));return Object.assign({},e,{targetRouterState:s})})),fu((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),function(e,t,n){return H((function(r){return new bh(t,r.targetRouterState,r.currentRouterState,n).activate(e),r}))}(t.rootContexts,t.routeReuseStrategy,(function(e){return t.triggerEvent(e)})),fu({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!a){t.resetUrlToCurrentUrlTree();var r=new $l(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new Vu(r))}),wu((function(r){if(a=!0,(u=r)&&u[pc]){var i=Ch(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new $l(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),e.resolve(!1),i&&t.navigateByUrl(r.url)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var s=new Yl(e.id,t.serializeUrl(e.extractedUrl),r);n.next(s);try{e.resolve(t.errorHandler(r))}catch(l){e.reject(l)}}var u;return Wa})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign({},this.getTransition(),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){mc(e),this.config=e.map(wc),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.preserveQueryParams,s=t.queryParamsHandling,a=t.preserveFragment;rt()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,l=a?this.currentUrlTree.fragment:i,c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return ch(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new hh(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Sc(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new hh(n,t,r)}(n);if(o.toRoot())return ch(t.root,new Ac([],{}),t,r,i);var s=function(e,t,n){if(e.isAbsolute)return new fh(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new fh(n.snapshot._urlSegment,!0,0);var r=lh(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new fh(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?vh(s.segmentGroup,s.index,o.commands):ph(s.segmentGroup,s.index,o.commands);return ch(s.segmentGroup,a,t,r,i)}(u,this.currentUrlTree,e,c,l)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};rt()&&this.isNgZoneEnabled&&!lo.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Ch(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(Ch(e))return Ic(this.currentUrlTree,e,t);var n=this.parseUrl(e);return Ic(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new Zl(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r){var i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);var o=null,s=null,a=new Promise((function(e,t){o=e,s=t})),u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}(),ff=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new df,this.attachRef=null},df=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new ff,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),pf=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ri,this.deactivateEvents=new Ri,this.name=i||hc,t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new vf(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}(),vf=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===th?this.route:e===df?this.childContexts:this.parent.get(e,t)}}]),e}(),yf=function e(){_classCallCheck(this,e)},gf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(wu((function(){return Za(null)})))}}]),e}(),mf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return Za(null)}}]),e}(),_f=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new of(n,r,(function(e){return t.triggerEvent(new rc(e))}),(function(e){return t.triggerEvent(new ic(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(iu((function(e){return e instanceof Zl})),Mu((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(Be);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var l=u._loadedConfig;n.push(this.processRoutes(l.module,l.routes))}else u.loadChildren&&!u.canLoad?n.push(this.preloadConfig(e,u)):u.children&&n.push(this.processRoutes(e,u.children))}}catch(c){i=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return Q(n).pipe(J(),H((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Z((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}(),bf=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Ql?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zl&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof lc&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new lc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}(),wf=new Ae("ROUTER_CONFIGURATION"),kf=new Ae("ROUTER_FORROOT_GUARD"),Cf=[wa,{provide:Rc,useClass:Dc},{provide:hf,useFactory:Of,deps:[Ao,Rc,df,wa,Mt,Po,eo,rf,wf,[sf,new he],[tf,new he]]},df,{provide:th,useFactory:Pf,deps:[hf]},{provide:Po,useClass:Do},_f,mf,gf,{provide:wf,useValue:{enableTracing:!1}}];function Ef(){return new Co("Router",hf)}var Sf=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Cf,Af(t),{provide:kf,useFactory:xf,deps:[[hf,new he,new de]]},{provide:wf,useValue:n||{}},{provide:_a,useFactory:If,deps:[ga,[new ce(ba),new he],wf]},{provide:bf,useFactory:Tf,deps:[hf,Ha,wf]},{provide:yf,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:mf},{provide:Co,multi:!0,useFactory:Ef},[Nf,{provide:Mi,multi:!0,useFactory:Rf,deps:[Nf]},{provide:Lf,useFactory:Df,deps:[Nf]},{provide:zi,multi:!0,useExisting:Lf}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[Af(t)]}}}]),e}();function Tf(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new bf(e,t,n)}function If(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).useHash?new Ca(e,t):new Ea(e,t)}function xf(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Af(e){return[{provide:Ht,multi:!0,useValue:e},{provide:rf,multi:!0,useValue:e}]}function Of(e,t,n,r,i,o,s,a){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},l=arguments.length>9?arguments[9]:void 0,c=arguments.length>10?arguments[10]:void 0,h=new hf(null,t,n,r,i,o,s,Cc(a));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=Uu();h.events.subscribe((function(e){f.logGroup("Router Event: ".concat(e.constructor.name)),f.log(e.toString()),f.log(e),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Pf(e){return e.routerState.root}var Nf=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new O}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(ma,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(hf),i=e.injector.get(wf);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Za(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(wf),n=this.injector.get(_f),r=this.injector.get(bf),i=this.injector.get(hf),o=this.injector.get(Ao);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}();function Rf(e){return e.appInitializer.bind(e)}function Df(e){return e.bootstrapListener.bind(e)}var Lf=new Ae("Router Initializer"),Mf=er({encapsulation:2,styles:[],data:{}});function Vf(e){return ls(0,[(e()(),Zo(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ci(1,212992,null,0,pf,[df,Mn,an,[8,null],Nt],null,null)],(function(e,t){e(t,1,0)}),null)}var Ff=Ur("ng-component",cc,(function(e){return ls(0,[(e()(),Zo(0,0,null,null,1,"ng-component",[],null,null,null,Vf,Mf)),ci(1,49152,null,0,cc,[],null,null)],null,null)}),{},{},[]),jf={technology:"./assets/icon_8.svg",culture:"./assets/icon_105.svg",warfare:"./assets/icon_62.svg",food_supply:"./assets/icon_60.svg"},Uf=function(){function e(){_classCallCheck(this,e),this.icons=jf}return _createClass(e,[{key:"ngOnInit",value:function(){this.devKeys=this.development?Object.keys(this.development):[]}}]),e}(),qf=er({encapsulation:0,styles:[[".dev-icon[_ngcontent-%COMP%]{width:20px;height:20px}.icon-wrapper[_ngcontent-%COMP%]{border-radius:50%;width:40px;height:40px;text-align:center;padding-top:6px;position:relative;display:inline-block;margin-right:10px}.technology[_ngcontent-%COMP%]{background-color:#6d3466}.warfare[_ngcontent-%COMP%]{background-color:#ff5200}.culture[_ngcontent-%COMP%]{background-color:#7e7eff}.food_supply[_ngcontent-%COMP%]{background-color:#65e207}.counter[_ngcontent-%COMP%]{position:absolute;top:23px;right:-10px;background-color:#af5454;border-radius:50%;height:25px;width:25px}"]],data:{}});function Bf(e){return ls(0,[(e()(),Zo(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),Zo(1,0,null,null,3,"div",[],[[8,"className",0]],null,null,null,null)),(e()(),Zo(2,0,null,null,0,"img",[["class","dev-icon"]],[[8,"src",4]],null,null,null,null)),(e()(),Zo(3,0,null,null,1,"div",[["class","counter"]],null,null,null,null,null)),(e()(),ss(4,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,1,0,Ir(1,"icon-wrapper ",t.context.$implicit,"")),e(t,2,0,Ir(1,"",n.icons[t.context.$implicit],"")),e(t,4,0,n.development[t.context.$implicit])}))}function zf(e){return ls(0,[(e()(),Zo(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Qo(16777216,null,null,1,null,Bf)),ci(2,278528,null,0,Ra,[Mn,Dn,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.devKeys)}),null)}function Hf(e){return ls(0,[(e()(),Qo(16777216,null,null,1,null,zf)),ci(1,16384,null,0,La,[Mn,Dn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,!!t.component.development)}),null)}var Gf,Wf=[{name:"DEFENSES",description:"Palisades, earthworks or even a moat. Protects the Ark against enemies on the outside, and makes it harder to slip in or out unnoticed.",dev_req:null,skills:["Force","Scout"],work_points:8,dev_bonus:{warfare:2}},{name:"HUNTING PARTY",description:"The People organize expeditions into the Zone to track and kill wild beasts for grub.",dev_req:null,skills:["Endure","Shoot"],work_points:4,dev_bonus:{food_supply:2}},{name:"CANNIBALISM",description:"If the Ark is on the brink of starvation, the People can resort to desperate measures.",dev_req:null,skills:["Fight","Manipulate"],work_points:4,dev_bonus:{food_supply:3,culture:-1},special:"Increase the Session Body Count (page 115) by D6"},{name:"CROPLAND",description:"A plot of land is set aside for the organized cultivation of grain, corn, turnips, radishes, or even mushrooms. Simple tools like plows and harrows are made and utilized.",dev_req:null,skills:["Endure","Know the Zone"],work_points:12,dev_bonus:{food_supply:3}},{name:"SLAVE MARKET",description:"The Bosses of the Ark start trading in slaves, taken from the People or other groups in the Zone. They trade with each other or with traveling slavers.",dev_req:null,skills:["Fight","Manipulate"],work_points:8,dev_bonus:{food_supply:1,warfare:1}},{name:"PIGSTY",description:"Pigs and other farm animals from the Old Age roam free after the Apocalypse and have turned into wild and often heavily mutated creatures. Yet, they can be caught and brought into the service of the People.",dev_req:null,skills:["Endure","Know the Zone"],work_points:8,dev_bonus:{food_supply:2}},{name:"TEMPLE",description:"A shrine where the People can worship the Ancients in the Sky, the Firstborn Mutant or why not even the Rot itself.",dev_req:null,skills:["Endure","Manipulate"],work_points:4,dev_bonus:{culture:1}},{name:"ZONE WRESTLING",description:"A metal cage where the strongest mutants fight each other for bullets and glory. Less physically inclined mutants bet on the outcome. No weapons are allowed in the cage, but mutations are considered fair play.",dev_req:null,skills:["Fight","Manipulate"],work_points:4,dev_bonus:{warfare:1}},{name:"ZONE EXPEDITION",description:"An expedition into the Zone is a special type of project, described in detail in Chapter 8. It requires no work_points and can be undertaken several times over. Only one Zone Expedition can be launched per Assembly. The PCs can decide whether to join the expedition or not.",dev_req:null,skills:null,work_points:null,dev_bonus:null},{name:"MUSEUM",description:"An exhibition of objects from the Old Age. The People can come here to learn about the ancient world.",dev_req:{culture:5},skills:["Comprehend"],work_points:8,dev_bonus:{culture:1,technology:1}},{name:"STATUE",description:"A grand effigy of the Elder or a Boss with an inflated ego.",dev_req:{culture:5},skills:["Endure","Sense Emotion"],work_points:4,dev_bonus:{culture:1}},{name:"SUNDIAL",description:"A device consisting of a stick placed on a flat disc of some kind, letting the People tell time by watching the shadow of the stick move.",dev_req:{culture:5},skills:["Comprehend"],work_points:4,dev_bonus:{technology:1}},{name:"WATCHTOWER",description:"Up here, you can spot enemies from afar.",dev_req:{technology:5},skills:["Endure","Scout"],work_points:4,dev_bonus:{warfare:1}},{name:"HARBOR",description:"A simple quay that makes is easier to load and unload from boats and ships.",dev_req:{technology:10},other_req:"The Ark must be close to water.",skills:["Endure","Comprehend"],work_points:8,dev_bonus:null,special:"This project is a requirement for a building a Ship (below)"},{name:"MILL",description:"A simple mechanism that will grind plants into flour for baking bread. Is powered by hand, a Water Wheel or a Windmill.",dev_req:{technology:10},other_req:"Cropland",skills:["Endure","Comprehend"],work_points:8,dev_bonus:{food_supply:2}},{name:"SMOKEHOUSE",description:"A small house or shed where meat or fish caught in the Zone is cured by smoke, making it last much longer.",dev_req:{food_supply:5,technology:10},other_req:"Hunting Party",skills:["Endure","Comprehend"],work_points:8,dev_bonus:{food_supply:1}},{name:"MARKETPLACE",description:"Bartering has always taken place in the Ark, but with a designated marketplace, trade is more organized.",dev_req:{food_supply:10,culture:10},skills:["Manipulate"],work_points:8,dev_bonus:{food_supply:1,culture:1}},{name:"MILITA",description:"An armed force given the job to protect the Ark against external enemies and maintain order internally.",dev_req:{warfare:10},skills:["Fight","Manipulate"],work_points:8,dev_bonus:{warfare:2}},{name:"LIBRARY",description:"A collection of books, magazines and newspapers from the Old Age.",dev_req:{culture:10},skills:["Comprehend"],work_points:12,dev_bonus:{culture:2,warfare:1}},{name:"STABLES",description:"Bitterbeasts (page 178) and other animals in the Zone can be caught to be used as mounts by the People \u2013 but they need to be tamed and trained first.",dev_req:{food_supply:10},skills:["Endure","Know the Zone"],work_points:8,dev_bonus:{food_supply:1,warfare:1},special:"With completed Stables the People can trade and use mounts for riding"},{name:"TAVERN",description:"A place where the People can gather to eat, drink and swap stories.",dev_req:{food_supply:10},skills:["Endure","Sense Emotion"],work_points:4,dev_bonus:{culture:1}},{name:"THEATER",description:"A stage and ensemble, entertaining the People with stage plays about life in the Ark or the fall of the Ancients.",dev_req:{culture:10},skills:["Manipulate"],work_points:8,dev_bonus:{culture:2}},{name:"TORTURE CHAMBER",description:"In this confined area, suspected evildoers and traitors in the Ark can be tormented until they divulge everything they know \u2013 and more.",dev_req:{warfare:10,culture:10},skills:["Fight","Manipulate"],work_points:4,dev_bonus:{warfare:1}},{name:"TRIBUNAL",description:"A court given the power to mete out punishment on mutants who steal, murder or disrupt the order of things. Corporal punishment is the norm, as the Ark can hardly afford to keep people locked up for very long. Hard labor or even exile are also possible penalties.",dev_req:{warfare:10,culture:10},skills:["Fight","Comprehend"],work_points:8,dev_bonus:{culture:1,warfare:1}},{name:"WATER WHEEL",description:"A large wheel built from wood or scrap metal and plastic, fitted with a number of blades or buckets.",dev_req:{technology:10},skills:["Endure","Comprehend"],work_points:4,dev_bonus:{technology:1},special:"Placed in a creek or waterfall, the Water Wheel can power a Mill or a Generator"},{name:"WORKSHOP",description:"This is the place to go if you need your broken gear fixed \u2013 but it will cost you bullets to get anything done.",dev_req:{technology:10},skills:["Endure","Comprehend"],work_points:12,dev_bonus:{technology:2},special:"The Workshop is a requirement for several other projects"},{name:"SURVEILLANCE",description:"A system of informers, where the People spy on each other and report suspicious activity to one or several Bosses.",dev_req:{warfare:10,culture:10},skills:["Sneak","Manipulate"],work_points:4,dev_bonus:{warfare:1}},{name:"CALENDAR",description:"Using a few simple astronomical observations (when the Zone smog lifts enough to let the People see the stars), the People manage to recreate a yearly calendar of 365 days.",dev_req:{technology:15,culture:10},skills:["Comprehend"],work_points:4,dev_bonus:{culture:1}},{name:"WINDMILL",description:"A large fan-like structure placed on a tower of some sort, ingeniously built to always turn into the wind.",dev_req:{technology:15,food_supply:10},other_req:"Workshop",skills:["Endure","Comprehend"],work_points:4,dev_bonus:{technology:1},special:"The Windmill can power a Mill or a Generator \u2013 but only when the wind is blowing"},{name:"INK",description:"& PAPER The People have discovered a method of turning tattered paper from the Old Age, or plants growing in the Zone, to paper \u2013 and can create simple inks to write with.",dev_req:{technology:15,culture:10},skills:["Comprehend"],work_points:8,dev_bonus:{culture:2},special:"Ink & Paper is a requirement for the Printing Press (below)"},{name:"DISTILLERY",description:"This contraption of tanks, bottles and tubes can be used to extract a great number of chemical substances from burning wood or plants. One of its many uses is to brew booze (page 93).",dev_req:{food_supply:5,technology:15},other_req:"Workshop",skills:["Comprehend"],work_points:4,dev_bonus:null,special:"Reduces the price of booze in the Ark by half. Needed for several other more advanced projects"},{name:"ARMY",description:"An Army is more powerful than a Militia, and can be used for actual military campaigns in the Zone.",dev_req:{warfare:20},skills:["Fight","Manipulate"],work_points:8,dev_bonus:{warfare:2}},{name:"BANK",description:"A place where the People can deposit their valuables and be reasonably sure they are kept safe.",dev_req:{warfare:10,culture:20},skills:["Comprehend","Manipulate"],work_points:4,dev_bonus:{culture:1}},{name:"SHIP",description:"A ship built of scrap, bigger than anything a single Gearhead could construct on his own. It could be steam-powered if the People have completed the Steam Engine project (page 111). If not, it is fitted with sails or oars.",dev_req:{technology:20},other_req:"Harbor",skills:["Endure","Comprehend"],work_points:12,dev_bonus:{food_supply:1,culture:1,warfare:1},special:"The Ship can carry about 50 passengers and can used to explore coastal sectors of the Zone. The time required is halved compared to exploring on foot (page 122). The ship can also be used to escape from threats at sea, and gives Gear Bonus 1 in such situations. Armor: 3. Resilience: 20"},{name:"GENERATOR",description:"A machine built of wires and magnets, capable of generating an electrical current.",dev_req:{technology:20},other_req:"Workshop. Also requires a Steam Engine, a functional vehicle from the Old Age, or mutants on a treadmill.",skills:["Comprehend"],work_points:8,dev_bonus:{technology:2}},{name:"HELIOGRAPH",description:"A device capable of quickly sending short messages over long distances, using light signals and mirrors.",dev_req:{technology:20},other_req:"Workshop \u2013 and the People must have made contact with another settlement, or established one of their own (below).",skills:["Endure","Comprehend"],work_points:8,dev_bonus:{culture:1}},{name:"SCHOOL",description:"Here the People can learn about the Old Age, and all about what you have discovered about the dawnworld.",dev_req:{culture:20},skills:["Comprehend","Know the Zone"],work_points:8,dev_bonus:{culture:1,technology:1}},{name:"SHELTER",description:"Hidden tunnels and escape routes dug underneath the Ark. Here, you can seek shelter or make your getaway if the Ark is invaded.",dev_req:{warfare:20,technology:10},skills:["Move","Scout"],work_points:8,dev_bonus:{warfare:2}},{name:"PRINTING PRESS",description:"With this heavy piece of machinery the People can print simple pamphlets, papers and books.",dev_req:{technology:20,culture:20},other_req:"Workshop, Ink & Paper (above)",skills:["Endure","Comprehend"],work_points:8,dev_bonus:{culture:2}},{name:"SETTLEMENT",description:"The People find a new spot to live and establish a new settlement in a different sector. When the settlement is complete, decide how many of the Ark\u2019s inhabitants move there.",dev_req:{warfare:20,culture:20},other_req:"The new settlement must be located in a sector explored by the PCs or a Zone Expedition (Chapter 8), and at least 2D6 sectors away from the Ark.",skills:["Endure"],work_points:12,dev_bonus:null,special:"The new settlement will have its own DEV ratings, and will start at zero in all of them. New projects are undertaken in the new settlement, separately from the Ark. Some projects, such as the Road, Heliograph and Railroad, connect two settlements. They give their DEV bonus to both settlements when complete"},{name:"ROAD",description:"Transforms one of the paths in the Zone into a road, which can be used by carriages or motor-driven vehicles. This project can be undertaken many times over \u2013 every sector to be traversed by a Road counts as a separate project.",dev_req:{technology:20},skills:["Endure","Comprehend"],work_points:4,dev_bonus:{food_supply:1,culture:1},dev_bonus_special:"\u2013 but only when the Road reaches another settlement in the Zone. The DEV bonuses are for the entire Road, not for every sector",special:"Traveling through a sector on a Road (page 122) takes half the time"},{name:"FOUNDRY",description:"In this steaming furnace the People can melt metal scrap from the Old Age, and mold it into new items.",dev_req:{technology:25},other_req:"Workshop",skills:["Endure","Comprehend"],work_points:12,dev_bonus:null,special:"The Foundry is a requirement for several advanced projects"},{name:"EXPLOSIVES LAB",description:"A specialized workshop used to produce gunpowder and other explosive substances.",dev_req:{technology:30,warfare:10},other_req:"Distillery",skills:["Comprehend"],work_points:4,dev_bonus:{warfare:1},special:"Combined with the Foundry, the Explosives Lab can be used to manufacture bullets. Bullets are then bartered in the Ark at half the normal cost"},{name:"AUTOCRACY",description:"One Boss becomes the sole ruler of the Ark. His word is law.",dev_req:{warfare:30},other_req:"Cannot be combined with Suffrage.",skills:["Comprehend"],work_points:8,dev_bonus:{warfare:2}},{name:"FREE ENTERPRISE",description:"The People establish a system where every mutant is free to seek his own fortune. Slavery is outlawed.",dev_req:{technology:30},other_req:"Cannot be combined with Collectivism, Autocracy or a Slave Market.",skills:["Manipulate"],work_points:8,dev_bonus:{technology:2}},{name:"COLLECTIVISM",description:"All private ownership is outlawed. All mutants must work for the common good, and all resources are distributed equally.",dev_req:{food_supply:30},other_req:"Cannot be combined with Free Enterprise.",skills:["Manipulate"],work_points:8,dev_bonus:{food_supply:2}},{name:"SUFFRAGE",description:"All mutants of the People get the right to vote about issues that are important to the Ark.",dev_req:{culture:30},other_req:"Cannot be combined with Autocracy.",skills:["Manipulate"],work_points:8,dev_bonus:{technology:2}},{name:"STEAM ENGINE",description:"A marvelous machine that runs on firewood and water.",dev_req:{technology:30},other_req:"Foundry, Distillery",skills:["Endure","Comprehend"],work_points:8,dev_bonus:{technology:2},special:"Can power a Generator, a Train or a Steam Car (below)"},{name:"STEAM CAR",description:"A steam powered vehicle that can thunder through the Zone at considerable speed and noise.",dev_req:{technology:30},other_req:"Steam Engine",skills:["Comprehend"],work_points:12,dev_bonus:null,special:"A Train can carry around ten passengers, increases the speed of movement in combat and cuts the time it takes to explore a sector in the Zone by half. How vehicles work is explained in Chapter 6. The Steam Car be used to escape from threats or to ram enemies. Gear Bonus: 1. Armor: 3. Resilience: 3"},{name:"RAILROAD",description:"To build a rail link through the Zone is an advanced and very demanding project. Every sector to be traversed by railroad counts as its own project.",dev_req:{technology:35},other_req:"Foundry",skills:["Endure","Comprehend"],work_points:8,dev_bonus:null,special:"Makes it possible to build a Train (below)"},{name:"TRAIN",description:"When steam trains start to roll across the Zone, a great step toward rebuilding the Ancients\u2019 civilization has been taken.",dev_req:{technology:30},other_req:"Steam Engine, Railroad",skills:["Comprehend"],work_points:12,dev_bonus:{food_supply:1,culture:1,technology:1},dev_bonus_special:"but only when the Train runs on a rail track that reaches another settlement in the Zone. The DEV bonuses are for the entire railway, not for every sector",special:"A Train can carry around 50 passengers and will cross a sector in the Zone in mere minutes \u2013 as long as nothing blocks the tracks. The Train can also be used to escape from threats or to ram enemies. Gear Bonus: 1. Armor: 3. Resilience: 15"},{name:"ARSENAL",description:"In this specialized workshop, the People can massproduce breech-loaded firearms. An Arsenal is often combined with an Explosives Lab (above).",dev_req:{technology:35,warfare:10},other_req:"Foundry",skills:["Shoot","Comprehend"],work_points:8,dev_bonus:{warfare:2},special:"Breech-loaded firearms become available in the Ark"},{name:"SURGERY",description:"The bonesaws of the Ark have learned the anatomy of the mutant body, as well as the use of ether or other forms of anesthesia, and can perform simple surgical operations.",dev_req:{technology:35},other_req:"Distillery",skills:["Comprehend"],work_points:8,dev_bonus:null,special:"Any rolls to Heal a critical injury at the surgical clinic get a +two modification. The Session Body Count is reduced by one"},{name:"ELECTRIC LIGHTS",description:"Illuminates the Ark like in the Old Age, and turns it into a beacon seen for miles at night.",dev_req:{technology:40},other_req:"Workshop, Generator",skills:["Comprehend"],work_points:8,dev_bonus:{technology:2}},{name:"RADIO",description:"A very basic device capable of radio communication, using a crystal of some sort to rectify the current.",dev_req:{technology:50},other_req:"Workshop, Generator",skills:["Comprehend"],work_points:8,dev_bonus:{technology:2}},{name:"CARTOGRAPHY",description:"Custom",dev_req:null,skills:["Sense Emotion","Know the Zone"],work_points:8,dev_bonus:{warfare:1,culture:1}},{name:"JELLY FARM",description:"Custom",dev_req:null,skills:["Comprehend","Endure"],work_points:8,dev_bonus:{technology:2}}],Kf=[{row:"Q",col:24,explored:!0,isArk:!0,rotLvl:0},{row:"P",col:23,explored:!0,rotLvl:1,comment:"battlefield",treatFound:!0,treat:""},{row:"Q",col:23,explored:!0,rotLvl:1,comment:"metro station",treatFound:!0,treat:""},{row:"R",col:23,explored:!0,rotLvl:1,comment:"dead forest",treatFound:!0,treat:""},{row:"P",col:24,explored:!0,rotLvl:1,comment:"industrial ruins",treatFound:!0,treat:""},{row:"Q",col:25,explored:!0,rotLvl:2,comment:"broken bridge",treatFound:!0,treat:""},{row:"P",col:25,explored:!0,rotLvl:1,comment:"dead forest",treatFound:!0,treat:""},{row:"R",col:25,explored:!0,rotLvl:1,comment:"gas station",treatFound:!0,treat:""},{row:"R",col:24,explored:!0,rotLvl:1,comment:"bushes",treatFound:!0,treat:""},{row:"O",col:25,explored:!0,rotLvl:1,comment:"field, river",treatFound:!1,treat:""},{row:"N",col:25,explored:!0,rotLvl:2,comment:"underground settlement",treatFound:!1,treat:""},{row:"O",col:26,explored:!0,rotLvl:1,comment:"frogs raft",treatFound:!1,treat:""},{row:"P",col:26,explored:!1,rotLvl:2,comment:"",treatFound:!1,treat:""},{row:"M",col:20,explored:!1,rotLvl:null,comment:"workshop",treatFound:!1,treat:""},{row:"O",col:22,explored:!1,rotLvl:0,comment:"city with bridge",treatFound:!0,treat:""}],Qf=[{row:"O",col:22}],Zf=function(){function e(t){_classCallCheck(this,e),this.projectsService=t,this.projectsList=Wf,this.filter="ALL",this.filterDevBonus=""}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.projectsService.getProjectsData().subscribe((function(t){console.log(t),e.finishedProjects=t.finishedProjects.finishedProjectsList,e.currentDevLvl=t.currentDevLvl,e.projectsInProgress=t.startedProjects,e.initProjectsList()}))}},{key:"initProjectsList",value:function(){var e=this;this.projectsListExpanded=_toConsumableArray(this.projectsList),this.projectsListExpanded.forEach((function(t){e.finishedProjects.find((function(e){return e===t.name}))?t.isFinished=!0:void 0!==e.projectsInProgress[t.name]?(t.isInWork=!0,t.work_points_completed=e.projectsInProgress[t.name]):t.dev_req&&!e.devReqSatisfied(t)||(t.isAvailable=!0),e.filteredProjectList=_toConsumableArray(e.projectsListExpanded)}))}},{key:"devReqSatisfied",value:function(e){var t=this;if(!e.dev_req)return!0;var n=Object.keys(e.dev_req),r=!0;return n.forEach((function(n){e.dev_req[n]>t.currentDevLvl[n]&&(r=!1)})),r}},{key:"filterProjectsList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(this.filter=e,this.filterDevBonus=t,this.filter){case"ALL":this.filteredProjectList=_toConsumableArray(this.projectsListExpanded);break;case"NO_COMPLETED":this.filteredProjectList=this.projectsListExpanded.filter((function(e){return!e.isFinished}));break;case"COMPLETED":this.filteredProjectList=this.projectsListExpanded.filter((function(e){return e.isFinished}));break;case"AVAILABLE":this.filteredProjectList=this.projectsListExpanded.filter((function(e){return e.isAvailable||e.isInWork||e.isFinished}));break;case"IN_PROGRESS":this.filteredProjectList=this.projectsListExpanded.filter((function(e){return e.isInWork}));break;case"DEV_BONUS":console.log(1),this.filteredProjectList=this.projectsListExpanded.filter((function(e){return e.dev_bonus&&e.dev_bonus[t]&&!e.isFinished}))}}},{key:"openDesctiption",value:function(e){this.openedProject=this.openedProject===e?null:e}}]),e}(),$f=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).scheduler=e,r.work=n,r.pending=!1,r}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),t}(function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),t}(d)),Yf=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),Xf=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yf.now;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,(function(){return t.delegate&&t.delegate!==_assertThisInitialized(n)?t.delegate.now():r()})))).actions=[],n.active=!1,n.scheduled=void 0,n}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return t.delegate&&t.delegate!==this?t.delegate.schedule(e,n,r):_get(_getPrototypeOf(t.prototype),"schedule",this).call(this,e,n,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),t}(Yf),Jf=new Xf($f),ed=((Gf=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Za(this.value);case"E":return e=this.error,new C((function(t){return t.error(e)}));case"C":return Ka()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new Gf("C"),Gf.undefinedValueNotification=new Gf("N",void 0),Gf);function td(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new nd(e,t))}}var nd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new rd(e,this.scheduler,this.delay))}}]),e}(),rd=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).scheduler=n,r.delay=i,r}return _inherits(t,e),_createClass(t,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new id(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(ed.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(ed.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(ed.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),t}(y),id=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n},od=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).scheduler=e,r.work=n,r}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n>0?_get(_getPrototypeOf(t.prototype),"schedule",this).call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,n){return n>0||this.closed?_get(_getPrototypeOf(t.prototype),"execute",this).call(this,e,n):this._execute(e,n)}},{key:"requestAsyncId",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(t.prototype),"requestAsyncId",this).call(this,e,n,r):e.flush(this)}}]),t}($f),sd=new(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(Xf))(od),ad=1,ud={},ld=function(e){var t=ad++;return ud[t]=e,Promise.resolve().then((function(){return function(e){var t=ud[e];t&&t()}(t)})),t},cd=function(e){delete ud[e]},hd=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).scheduler=e,r.work=n,r}return _inherits(t,e),_createClass(t,[{key:"requestAsyncId",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(t.prototype),"requestAsyncId",this).call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=ld(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(t.prototype),"recycleAsyncId",this).call(this,e,n,r);0===e.actions.length&&(cd(n),e.scheduled=void 0)}}]),t}($f),fd=new(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),t}(Xf))(hd),dd=function(e){function t(e){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fd;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).source=e,n.delayTime=i,n.scheduler=o,(u(r=i)||!(r-parseFloat(r)+1>=0)||i<0)&&(n.delayTime=0),o&&"function"==typeof o.schedule||(n.scheduler=fd),n}return _inherits(t,e),_createClass(t,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(t.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fd;return new t(e,n,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),t}(C),pd=function(){function e(t,n){_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return new dd(t,this.delay,this.scheduler).subscribe(e)}}]),e}(),vd=n("zIRd");function yd(){}vd.a.registerVersion("firebase","8.0.2","app");var gd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sd;_classCallCheck(this,e),this.zone=t,this.delegate=n}return _createClass(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule((function(t){var n=this;r.runGuarded((function(){e.apply(n,[t])}))}),t,n)}}]),e}(),md=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.task=null}return _createClass(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",yd,{},yd,yd)})),t.pipe(fu({next:n,complete:n,error:n})).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){var e=this;setTimeout((function(){null!=e.task&&"scheduled"===e.task.state&&(e.task.invoke(),e.task=null)}),10)}}]),e}(),_d=function e(t){_classCallCheck(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular((function(){return new gd(Zone.current)})),this.insideAngular=t.run((function(){return new gd(Zone.current,Jf)}))},bd=new Ae("angularfire2.app.options"),wd=new Ae("angularfire2.app.nameOrConfig"),kd=function e(){_classCallCheck(this,e)},Cd=new gn("6.0.5");function Ed(e,t,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",vd.a.apps.filter((function(e){return e&&e.name===r.name}))[0]||t.runOutsideAngular((function(){return vd.a.initializeApp(e,r)}))}var Sd=function(){function e(t){_classCallCheck(this,e),vd.a.registerVersion("angularfire",Cd.full,t.toString()),vd.a.registerVersion("angular",mn.full)}return _createClass(e,null,[{key:"initializeApp",value:function(t,n){return{ngModule:e,providers:[{provide:bd,useValue:t},{provide:wd,useValue:n}]}}}]),e}();function Td(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jf;return new C((function(n){var r;return null!=t?t.schedule((function(){r=e.onSnapshot(n)})):r=e.onSnapshot(n),function(){null!=r&&r()}}))}(e,t)}function Id(e,t){return Td(e,t).pipe(H((function(e){return{payload:e,type:"query"}})))}function xd(e,t){return Id(e,t).pipe(H((function(e){return e.payload.docChanges().map((function(e){return{type:e.type,payload:e}}))})))}function Ad(e,t,n){return Id(e,n).pipe(H((function(e){return e.payload.docChanges()})),Ru((function(e,n){return function(e,t,n){return t.forEach((function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":e[t.newIndex]&&e[t.newIndex].doc.ref.isEqual(t.doc.ref)||e.splice(t.newIndex,0,t);break;case"modified":(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref))&&(t.oldIndex!==t.newIndex?(e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t)):e.splice(t.newIndex,1,t));break;case"removed":e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref)&&e.splice(t.oldIndex,1)}return e}(e,t))})),e}(e,n,t)}),[]),H((function(e){return e.map((function(e){return{type:e.type,payload:e}}))})))}function Od(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}n("xsWp");var Pd=function(){function e(t,n,r){_classCallCheck(this,e),this.ref=t,this.query=n,this.afs=r}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?xd(this.query,this.afs.schedulers.outsideAngular).pipe(H((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),iu((function(e){return e.length>0})),this.afs.keepUnstableUntilFirst):xd(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Ru((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=Od(e);return Ad(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Id(this.query,this.afs.schedulers.outsideAngular).pipe(H((function(t){return t.payload.docs.map((function(t){return e.idField?Object.assign(Object.assign({},t.data()),_defineProperty({},e.idField,t.id)):t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return Q(this.query.get(e)).pipe(td(this.afs.schedulers.insideAngular))}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new Nd(this.ref.doc(e),this.afs)}}]),e}(),Nd=function(){function e(t,n){_classCallCheck(this,e),this.ref=t,this.afs=n}return _createClass(e,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=Fd(this.ref.collection(e),t),r=n.ref,i=n.query;return new Pd(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return Td(this.ref,this.afs.schedulers.outsideAngular).pipe(H((function(e){return{payload:e,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(H((function(e){return e.payload.data()})))}},{key:"get",value:function(e){return Q(this.ref.get(e)).pipe(td(this.afs.schedulers.insideAngular))}}]),e}(),Rd=function(){function e(t,n){_classCallCheck(this,e),this.query=t,this.afs=n}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?xd(this.query,this.afs.schedulers.outsideAngular).pipe(H((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),iu((function(e){return e.length>0})),this.afs.keepUnstableUntilFirst):xd(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Ru((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=Od(e);return Ad(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return Id(this.query,this.afs.schedulers.outsideAngular).pipe(H((function(e){return e.payload.docs.map((function(e){return e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return Q(this.query.get(e)).pipe(td(this.afs.schedulers.insideAngular))}}]),e}(),Dd=n("xsWp"),Ld=new Ae("angularfire2.enableFirestorePersistence"),Md=new Ae("angularfire2.firestore.persistenceSettings"),Vd=new Ae("angularfire2.firestore.settings");function Fd(e){return{query:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e})(e),ref:e}}var jd,Ud,qd=((jd=function(){function e(t,n,r,i,o,s,a){var u,l=this;_classCallCheck(this,e),this.schedulers=new _d(s),this.keepUnstableUntilFirst=(u=this.schedulers,function(e){return(e=e.lift(new md(u.ngZone))).pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new pd(e,t))}}(u.outsideAngular),td(u.insideAngular))}),this.firestore=s.runOutsideAngular((function(){var e=Ed(t,s,n);"registerFirestore"in Dd&&Dd.registerFirestore(vd.a);var r=e.firestore();return i&&r.settings(i),r})),this.persistenceEnabled$=r&&!Ba(o)?s.runOutsideAngular((function(){try{return Q(l.firestore.enablePersistence(a||void 0).then((function(){return!0}),(function(){return!1})))}catch(e){return Za(!1)}})):Za(!1)}return _createClass(e,[{key:"collection",value:function(e,t){var n=Fd("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new Pd(o,i,this)}},{key:"collectionGroup",value:function(e,t){var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new Rd(n(r),this)}},{key:"doc",value:function(e){var t;t="string"==typeof e?this.firestore.doc(e):e;var n=this.schedulers.ngZone.run((function(){return t}));return new Nd(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}()).\u0275prov=ye({factory:function(){return new jd(je(bd),je(wd,8),je(Ld,8),je(Vd,8),je(Bi),je(lo),je(Md,8))},token:jd,providedIn:"any"}),jd),Bd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"enablePersistence",value:function(t){return{ngModule:e,providers:[{provide:Ld,useValue:!0},{provide:Md,useValue:t}]}}}]),e}(),zd=((Ud=function(){function e(t){_classCallCheck(this,e),this.firestore=t,this.firestoreProjectsCollection=this.firestore.collection("projects")}return _createClass(e,[{key:"getProjectsData",value:function(){return this.firestoreProjectsCollection.get().pipe(H((function(e){var t={};return e.forEach((function(e){t[e.id]=e.data()})),t})))}}]),e}()).ngInjectableDef=ye({factory:function(){return new Ud(je(qd))},token:Ud,providedIn:"root"}),Ud),Hd=er({encapsulation:0,styles:[[".list[_ngcontent-%COMP%]{padding-top:10px}.list[_ngcontent-%COMP%]   .btn.btn-warning[_ngcontent-%COMP%]{margin-left:10px;margin-bottom:10px}.red[_ngcontent-%COMP%]{color:red}.clickable[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function Gd(e){return ls(0,[(e()(),Zo(0,0,null,null,1,"span",[["class","red"]],null,null,null,null,null)),(e()(),ss(-1,null,["*"]))],null,null)}function Wd(e){return ls(0,[(e()(),Zo(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ss(1,null,["(","/",")"]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.work_points_completed,t.parent.context.$implicit.work_points)}))}function Kd(e){return ls(0,[(e()(),Zo(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ss(1,null,["",", "]))],null,(function(e,t){e(t,1,0,t.context.$implicit)}))}function Qd(e){return ls(0,[(e()(),Zo(0,0,null,null,2,"tr",[["class","bg-info"]],null,null,null,null,null)),(e()(),Zo(1,0,null,null,1,"td",[["colspan","7"]],null,null,null,null,null)),(e()(),ss(2,null,["",""]))],null,(function(e,t){e(t,2,0,t.parent.context.$implicit.description)}))}function Zd(e){return ls(0,[(e()(),Zo(0,0,null,null,4,"tr",[["class","bg-info"]],null,null,null,null,null)),(e()(),Zo(1,0,null,null,3,"td",[["colspan","7"]],null,null,null,null,null)),(e()(),Zo(2,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),ss(-1,null,["Other Requirements: "])),(e()(),ss(4,null,["",""]))],null,(function(e,t){e(t,4,0,t.parent.context.$implicit.other_req)}))}function $d(e){return ls(0,[(e()(),Zo(0,0,null,null,4,"tr",[["class","bg-info"]],null,null,null,null,null)),(e()(),Zo(1,0,null,null,3,"td",[["colspan","7"]],null,null,null,null,null)),(e()(),Zo(2,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),ss(-1,null,["Special: "])),(e()(),ss(4,null,["",""]))],null,(function(e,t){e(t,4,0,t.parent.context.$implicit.special)}))}function Yd(e){return ls(0,[(e()(),Zo(0,0,null,null,42,null,null,null,null,null,null,null)),(e()(),Zo(1,0,null,null,35,"tr",[],null,null,null,null,null)),hi(512,null,Aa,Oa,[An,On,hn,vn]),ci(3,278528,null,0,Pa,[Aa],{ngClass:[0,"ngClass"]},null),os(4,{"bg-success":0,"bg-warning":1,"table-dark":2}),(e()(),Zo(5,0,null,null,5,"td",[["class","clickable"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openDesctiption(e.context.$implicit)&&r),r}),null,null)),(e()(),ss(6,null,[" ",""])),(e()(),Qo(16777216,null,null,1,null,Gd)),ci(8,16384,null,0,La,[Mn,Dn],{ngIf:[0,"ngIf"]},null),(e()(),Qo(16777216,null,null,1,null,Wd)),ci(10,16384,null,0,La,[Mn,Dn],{ngIf:[0,"ngIf"]},null),(e()(),Zo(11,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Qo(16777216,null,null,1,null,Kd)),ci(13,278528,null,0,Ra,[Mn,Dn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Zo(14,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Zo(15,0,null,null,1,"app-development-bonus",[],null,null,null,Hf,qf)),ci(16,114688,null,0,Uf,[],{development:[0,"development"]},null),(e()(),Zo(17,0,null,null,4,"td",[],null,null,null,null,null)),hi(512,null,Aa,Oa,[An,On,hn,vn]),ci(19,278528,null,0,Pa,[Aa],{ngClass:[0,"ngClass"]},null),os(20,{red:0}),(e()(),ss(21,null,[" "," "])),(e()(),Zo(22,0,null,null,4,"td",[],null,null,null,null,null)),hi(512,null,Aa,Oa,[An,On,hn,vn]),ci(24,278528,null,0,Pa,[Aa],{ngClass:[0,"ngClass"]},null),os(25,{red:0}),(e()(),ss(26,null,[" "," "])),(e()(),Zo(27,0,null,null,4,"td",[],null,null,null,null,null)),hi(512,null,Aa,Oa,[An,On,hn,vn]),ci(29,278528,null,0,Pa,[Aa],{ngClass:[0,"ngClass"]},null),os(30,{red:0}),(e()(),ss(31,null,[" "," "])),(e()(),Zo(32,0,null,null,4,"td",[],null,null,null,null,null)),hi(512,null,Aa,Oa,[An,On,hn,vn]),ci(34,278528,null,0,Pa,[Aa],{ngClass:[0,"ngClass"]},null),os(35,{red:0}),(e()(),ss(36,null,[" "," "])),(e()(),Qo(16777216,null,null,1,null,Qd)),ci(38,16384,null,0,La,[Mn,Dn],{ngIf:[0,"ngIf"]},null),(e()(),Qo(16777216,null,null,1,null,Zd)),ci(40,16384,null,0,La,[Mn,Dn],{ngIf:[0,"ngIf"]},null),(e()(),Qo(16777216,null,null,1,null,$d)),ci(42,16384,null,0,La,[Mn,Dn],{ngIf:[0,"ngIf"]},null),(e()(),Qo(0,null,null,0))],(function(e,t){var n=t.component,r=e(t,4,0,t.context.$implicit.isFinished,t.context.$implicit.isInWork,!t.context.$implicit.isAvailable&&!t.context.$implicit.isInWork&&!t.context.$implicit.isFinished);e(t,3,0,r),e(t,8,0,t.context.$implicit.other_req),e(t,10,0,!t.context.$implicit.isFinished),e(t,13,0,t.context.$implicit.skills),e(t,16,0,t.context.$implicit.dev_bonus);var i=e(t,20,0,(null==t.context.$implicit.dev_req?null:t.context.$implicit.dev_req.culture)&&t.context.$implicit.dev_req.culture>n.currentDevLvl.culture);e(t,19,0,i);var o=e(t,25,0,(null==t.context.$implicit.dev_req?null:t.context.$implicit.dev_req.warfare)&&t.context.$implicit.dev_req.warfare>n.currentDevLvl.warfare);e(t,24,0,o);var s=e(t,30,0,(null==t.context.$implicit.dev_req?null:t.context.$implicit.dev_req.technology)&&t.context.$implicit.dev_req.technology>n.currentDevLvl.technology);e(t,29,0,s);var a=e(t,35,0,(null==t.context.$implicit.dev_req?null:t.context.$implicit.dev_req.food_supply)&&t.context.$implicit.dev_req.food_supply>n.currentDevLvl.food_supply);e(t,34,0,a),e(t,38,0,n.openedProject===t.context.$implicit),e(t,40,0,n.openedProject===t.context.$implicit&&t.context.$implicit.other_req),e(t,42,0,n.openedProject===t.context.$implicit&&t.context.$implicit.special)}),(function(e,t){e(t,6,0,t.context.$implicit.name),e(t,21,0,null==t.context.$implicit.dev_req?null:t.context.$implicit.dev_req.culture),e(t,26,0,null==t.context.$implicit.dev_req?null:t.context.$implicit.dev_req.warfare),e(t,31,0,null==t.context.$implicit.dev_req?null:t.context.$implicit.dev_req.technology),e(t,36,0,null==t.context.$implicit.dev_req?null:t.context.$implicit.dev_req.food_supply)}))}function Xd(e){return ls(0,[(e()(),Zo(0,0,null,null,40,"div",[["class","list"]],null,null,null,null,null)),(e()(),Zo(1,0,null,null,1,"div",[["class","btn btn-warning"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.filterProjectsList("ALL")&&r),r}),null,null)),(e()(),ss(-1,null,[" All items "])),(e()(),Zo(3,0,null,null,1,"div",[["class","btn btn-warning"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.filterProjectsList("COMPLETED")&&r),r}),null,null)),(e()(),ss(-1,null,[" Completed "])),(e()(),Zo(5,0,null,null,1,"div",[["class","btn btn-warning"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.filterProjectsList("NO_COMPLETED")&&r),r}),null,null)),(e()(),ss(-1,null,[" Without completed "])),(e()(),Zo(7,0,null,null,1,"div",[["class","btn btn-warning"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.filterProjectsList("AVAILABLE")&&r),r}),null,null)),(e()(),ss(-1,null,[" Available only "])),(e()(),Zo(9,0,null,null,1,"div",[["class","btn btn-warning"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.filterProjectsList("IN_PROGRESS")&&r),r}),null,null)),(e()(),ss(-1,null,[" In-progress only "])),(e()(),Zo(11,0,null,null,29,"table",[["class","table table-dark"]],null,null,null,null,null)),(e()(),Zo(12,0,null,null,26,"tr",[],null,null,null,null,null)),(e()(),Zo(13,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),ss(-1,null,["Project name"])),(e()(),Zo(15,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),ss(-1,null,["Skills"])),(e()(),Zo(17,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),ss(-1,null,["Profit"])),(e()(),Zo(19,0,null,null,4,"th",[["class","clickable"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.filterProjectsList("DEV_BONUS","culture")&&r),r}),null,null)),hi(512,null,Aa,Oa,[An,On,hn,vn]),ci(21,278528,null,0,Pa,[Aa],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),os(22,{"text-warning":0}),(e()(),ss(23,null,[" Cult (",") "])),(e()(),Zo(24,0,null,null,4,"th",[["class","clickable"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.filterProjectsList("DEV_BONUS","warfare")&&r),r}),null,null)),hi(512,null,Aa,Oa,[An,On,hn,vn]),ci(26,278528,null,0,Pa,[Aa],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),os(27,{"text-warning":0}),(e()(),ss(28,null,[" War (",") "])),(e()(),Zo(29,0,null,null,4,"th",[["class","clickable"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.filterProjectsList("DEV_BONUS","technology")&&r),r}),null,null)),hi(512,null,Aa,Oa,[An,On,hn,vn]),ci(31,278528,null,0,Pa,[Aa],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),os(32,{"text-warning":0}),(e()(),ss(33,null,[" Tech (",") "])),(e()(),Zo(34,0,null,null,4,"th",[["class","clickable"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.filterProjectsList("DEV_BONUS","food_supply")&&r),r}),null,null)),hi(512,null,Aa,Oa,[An,On,hn,vn]),ci(36,278528,null,0,Pa,[Aa],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),os(37,{"text-warning":0}),(e()(),ss(38,null,[" Food (",") "])),(e()(),Qo(16777216,null,null,1,null,Yd)),ci(40,278528,null,0,Ra,[Mn,Dn,An],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component,r=e(t,22,0,"culture"===n.filterDevBonus);e(t,21,0,"clickable",r);var i=e(t,27,0,"warfare"===n.filterDevBonus);e(t,26,0,"clickable",i);var o=e(t,32,0,"technology"===n.filterDevBonus);e(t,31,0,"clickable",o);var s=e(t,37,0,"food_supply"===n.filterDevBonus);e(t,36,0,"clickable",s),e(t,40,0,n.filteredProjectList)}),(function(e,t){var n=t.component;e(t,23,0,null==n.currentDevLvl?null:n.currentDevLvl.culture),e(t,28,0,null==n.currentDevLvl?null:n.currentDevLvl.warfare),e(t,33,0,null==n.currentDevLvl?null:n.currentDevLvl.technology),e(t,38,0,null==n.currentDevLvl?null:n.currentDevLvl.food_supply)}))}var Jd=Ur("app-projects-list",Zf,(function(e){return ls(0,[(e()(),Zo(0,0,null,null,1,"app-projects-list",[],null,null,null,Xd,Hd)),ci(1,114688,null,0,Zf,[zd],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),ep=function(e){function t(e,n){var r;_classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var s=B(_assertThisInitialized(r),n[o],null,o);s&&r.add(s)}return r}return _inherits(t,e),_createClass(t,[{key:"notifyNext",value:function(e,t,n,r,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)}},{key:"notifyComplete",value:function(e){var t=this.destination,n=this.haveValues,r=this.values,i=r.length;e._hasValue?(this.completed++,this.completed===i&&(n===i&&t.next(r),t.complete())):t.complete()}}]),t}(z),tp=new Ae("NgValueAccessor"),np=new Ae("CompositionEventMode"),rp=function(){function e(t,n,r){var i;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Uu()?Uu().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}(),ip=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}(),op=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),t}(ip);function sp(){throw new Error("unimplemented")}var ap=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments)))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _inherits(t,e),_createClass(t,[{key:"validator",get:function(){return sp()}},{key:"asyncValidator",get:function(){return sp()}}]),t}(ip),up=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),lp=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(up),cp=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(up);function hp(e){return null==e||0===e.length}var fp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,dp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(hp(t.value)||hp(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(hp(t.value)||hp(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return hp(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return hp(e.value)?null:fp.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(hp(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(hp(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(pp);return 0==t.length?null:function(e){return yp(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(pp);return 0==t.length?null:function(e){return function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i;return"function"==typeof n[n.length-1]&&(i=n.pop()),1===n.length&&u(n[0])&&(n=n[0]),0===n.length?Wa:i?e(n).pipe(H((function(e){return i.apply(void 0,_toConsumableArray(e))}))):new C((function(e){return new ep(e,n)}))}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(vp)).pipe(H(yp))}}}]),e}();function pp(e){return null!=e}function vp(e){var t=Xt(e)?Q(e):e;if(!Jt(t))throw new Error("Expected validator to return Promise or Observable.");return t}function yp(e){var t=e.reduce((function(e,t){return null!=t?Object.assign({},e,t):e}),{});return 0===Object.keys(t).length?null:t}function gp(e){return e.validate?function(t){return e.validate(t)}:e}function mp(e){return e.validate?function(t){return e.validate(t)}:e}var _p=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),bp=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}(),wp='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',kp='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Cp='\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',Ep='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Sp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(wp))}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(kp,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(Ep))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ".concat(wp))}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(kp))}},{key:"arrayParentException",value:function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ".concat(Cp))}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}();function Tp(e,t){return[].concat(_toConsumableArray(t.path),[e])}function Ip(e,t){e||Pp(t,"Cannot find control with"),t.valueAccessor||Pp(t,"No value accessor for form control with"),e.validator=dp.compose([e.validator,t.validator]),e.asyncValidator=dp.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&xp(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&xp(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function xp(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Ap(e,t){null==e&&Pp(t,"Cannot find control with"),e.validator=dp.compose([e.validator,t.validator]),e.asyncValidator=dp.composeAsync([e.asyncValidator,t.asyncValidator])}function Op(e){return Pp(e,"There is no FormControl instance attached to form control element with")}function Pp(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function Np(e){return null!=e?dp.compose(e.map(gp)):null}function Rp(e){return null!=e?dp.composeAsync(e.map(mp)):null}var Dp=[function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),_p,function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Kt}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}(),function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Kt}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var s=i.item(o),a=t._getOptionValue(s.value);r.push(a)}else for(var u=n.options,l=0;l<u.length;l++){var c=u.item(l);if(c.selected){var h=t._getOptionValue(c.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}(),function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(ap),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()];function Lp(e){var t=Vp(e)?e.validators:e;return Array.isArray(t)?Np(t):t||null}function Mp(e,t){var n=Vp(t)?t.asyncValidators:e;return Array.isArray(n)?Rp(n):n||null}function Vp(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Fp=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=Lp(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=Mp(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign({},e,{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign({},e,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=vp(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((function(e,t){return e instanceof Up?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof qp&&e.at(t)||null}),e))}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new Ri,this.statusChanges=new Ri}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Vp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),jp=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,Lp(r),Mp(i,r))))._onChange=[],e._applyFormState(n),e._setUpdateStrategy(r),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _inherits(t,e),_createClass(t,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),t}(Fp),Up=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,Lp(n),Mp(r,n)))).controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return _inherits(t,e),_createClass(t,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof jp?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),t}(Fp),qp=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,Lp(n),Mp(r,n)))).controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return _inherits(t,e),_createClass(t,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof jp?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.controls[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){if(r.value.enabled)return!1}}catch(o){t=!0,n=o}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),t}(Fp),Bp=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Tp(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Np(this._validators)}},{key:"asyncValidator",get:function(){return Rp(this._asyncValidators)}}]),t}(op),zp=function e(){_classCallCheck(this,e)},Hp=new Ae("NgModelWithFormControlWarning"),Gp=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._validators=e,r._asyncValidators=n,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new Ri,r}return _inherits(t,e),_createClass(t,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return Ip(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t,n,r;t=this.directives,n=e,(r=t.indexOf(n))>-1&&t.splice(r,1)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);Ap(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);Ap(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return Op(t)})),t.valueAccessor.registerOnTouched((function(){return Op(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&Ip(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=Np(this._validators);this.form.validator=dp.compose([this.form.validator,e]);var t=Rp(this._asyncValidators);this.form.asyncValidator=dp.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||Sp.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),t}(op),Wp=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parent=e,i._validators=n,i._asyncValidators=r,i}return _inherits(t,e),_createClass(t,[{key:"_checkParentType",value:function(){Qp(this._parent)&&Sp.groupParentException()}}]),t}(Bp),Kp=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parent=e,i._validators=n,i._asyncValidators=r,i}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){Qp(this._parent)&&Sp.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return Tp(this.name,this._parent)}},{key:"validator",get:function(){return Np(this._validators)}},{key:"asyncValidator",get:function(){return Rp(this._asyncValidators)}}]),t}(op);function Qp(e){return!(e instanceof Wp||e instanceof Gp||e instanceof Kp)}var Zp,$p=((Zp=function(e){function t(e,n,r,i,o){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._ngModelWarningConfig=o,s._added=!1,s.update=new Ri,s._ngModelWarningSent=!1,s._parent=e,s._rawValidators=n||[],s._rawAsyncValidators=r||[],s.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Pp(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===rp?n=t:(o=t,Dp.some((function(e){return o.constructor===e}))?(r&&Pp(e,"More than one built-in value accessor matches form control with"),r=t):(i&&Pp(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(Pp(e,"No valid value accessor for form control with"),null)}(_assertThisInitialized(s),i),s}return _inherits(t,e),_createClass(t,[{key:"ngOnChanges",value:function(e){var n,r;this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Kt(t,n.currentValue)}(e,this.viewModel)&&(n=t,r=this._ngModelWarningConfig,rt()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(Sp.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_checkParentType",value:function(){!(this._parent instanceof Wp)&&this._parent instanceof Bp?Sp.ngModelGroupException():this._parent instanceof Wp||this._parent instanceof Gp||this._parent instanceof Kp||Sp.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(e){Sp.disabledAttrWarning()}},{key:"path",get:function(){return Tp(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Np(this._rawValidators)}},{key:"asyncValidator",get:function(){return Rp(this._rawAsyncValidators)}}]),t}(ap))._ngModelWarningSentOnce=!1,Zp),Yp=function e(){_classCallCheck(this,e)},Xp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new Up(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(e,t,n){return new jp(e,t,n)}},{key:"array",value:function(e,t,n){var r=this,i=e.map((function(e){return r._createControl(e)}));return new qp(i,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){n[r]=t._createControl(e[r])})),n}},{key:"_createControl",value:function(e){return e instanceof jp||e instanceof Up||e instanceof qp?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}(),Jp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:Hp,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}(),ev=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t,this.rowsCoordsArray=Array(21).fill(0).map((function(e,t){return String.fromCharCode(97+t)})),this.colsCoordsArray=Array(30).fill(0).map((function(e,t){return t+1})),this.mapData=Array(630).fill({}),this.exploredSectors=Kf,this.youAreHere=Qf,this.sectorForm=this.formBuilder.group({col:"",row:"",rotLvl:"",comment:""})}return _createClass(e,[{key:"ngOnInit",value:function(){this.fillMap()}},{key:"fillMap",value:function(){var e=this;this.exploredSectors.forEach((function(t){var n=e.convertCoordinatesToIndex(t.col,t.row);e.mapData[n]=t,e.youAreHere.find((function(e){return e.row===t.row&&e.col===t.col}))&&(e.mapData[n].youAreHere=!0)}))}},{key:"convertCoordinatesToIndex",value:function(e,t){return 30*(t.toLowerCase().charCodeAt(0)-97)+e}},{key:"convertIndexToCoordinates",value:function(e){return{row:String.fromCharCode(e/30+97),col:e%30+1}}}]),e}(),tv=er({encapsulation:0,styles:[[".wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:1502px;border:1px solid #b9b9b9}.sector[_ngcontent-%COMP%]{width:50px;height:50px;border:1px solid #b9b9b9}.rotOasis[_ngcontent-%COMP%]{background-color:#7ee283}.rotWeak[_ngcontent-%COMP%]{background-color:#e2e25f}.rotHeavy[_ngcontent-%COMP%]{background-color:#e28559}.rotHotspot[_ngcontent-%COMP%]{background-color:#e23a38}.playersSpot[_ngcontent-%COMP%]{display:inline-block;width:15px;height:15px;border-radius:50%;background-color:#ff5200}.add-data-wraper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:5px}"]],data:{}});function nv(e){return ls(0,[(e()(),Zo(0,0,null,null,0,"div",[["class","playersSpot"]],null,null,null,null,null))],null,null)}function rv(e){return ls(0,[(e()(),Zo(0,0,null,null,6,"div",[["class","sector"]],null,null,null,null,null)),hi(512,null,Aa,Oa,[An,On,hn,vn]),ci(2,278528,null,0,Pa,[Aa],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),os(3,{rotOasis:0,rotWeak:1,rotHeavy:2,rotHotspot:3}),(e()(),ss(4,null,[" ",""," "])),(e()(),Qo(16777216,null,null,1,null,nv)),ci(6,16384,null,0,La,[Mn,Dn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=e(t,3,0,0===(null==t.context.$implicit?null:t.context.$implicit.rotLvl),1===(null==t.context.$implicit?null:t.context.$implicit.rotLvl),2===(null==t.context.$implicit?null:t.context.$implicit.rotLvl),3===(null==t.context.$implicit?null:t.context.$implicit.rotLvl));e(t,2,0,"sector",n),e(t,6,0,null==t.context.$implicit?null:t.context.$implicit.youAreHere)}),(function(e,t){e(t,4,0,null==t.context.$implicit?null:t.context.$implicit.row,null==t.context.$implicit?null:t.context.$implicit.col)}))}function iv(e){return ls(0,[(e()(),Zo(0,0,null,null,2,"div",[["class","wrapper"]],null,null,null,null,null)),(e()(),Qo(16777216,null,null,1,null,rv)),ci(2,278528,null,0,Ra,[Mn,Dn,An],{ngForOf:[0,"ngForOf"]},null),(e()(),Zo(3,0,null,null,34,"div",[["class","add-data-wraper"]],null,null,null,null,null)),(e()(),Zo(4,0,null,null,33,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0;return"submit"===t&&(r=!1!==Yr(e,6).onSubmit(n)&&r),"reset"===t&&(r=!1!==Yr(e,6).onReset()&&r),r}),null,null)),ci(5,16384,null,0,zp,[],null,null),ci(6,540672,null,0,Gp,[[8,null],[8,null]],{form:[0,"form"]},null),hi(2048,null,op,null,[Gp]),ci(8,16384,null,0,cp,[[4,op]],null,null),(e()(),Zo(9,0,null,null,28,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(e()(),Zo(10,0,null,null,5,"input",[["class","form-control"],["formControlName","row"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Yr(e,11)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Yr(e,11).onTouched()&&r),"compositionstart"===t&&(r=!1!==Yr(e,11)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Yr(e,11)._compositionEnd(n.target.value)&&r),r}),null,null)),ci(11,16384,null,0,rp,[vn,hn,[2,np]],null,null),hi(1024,null,tp,(function(e){return[e]}),[rp]),ci(13,671744,null,0,$p,[[3,op],[8,null],[8,null],[6,tp],[2,Hp]],{name:[0,"name"]},null),hi(2048,null,ap,null,[$p]),ci(15,16384,null,0,lp,[[4,ap]],null,null),(e()(),Zo(16,0,null,null,6,"input",[["class","form-control"],["formControlName","col"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Yr(e,17)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Yr(e,17).onTouched()&&r),"compositionstart"===t&&(r=!1!==Yr(e,17)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Yr(e,17)._compositionEnd(n.target.value)&&r),"change"===t&&(r=!1!==Yr(e,18).onChange(n.target.value)&&r),"input"===t&&(r=!1!==Yr(e,18).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Yr(e,18).onTouched()&&r),r}),null,null)),ci(17,16384,null,0,rp,[vn,hn,[2,np]],null,null),ci(18,16384,null,0,_p,[vn,hn],null,null),hi(1024,null,tp,(function(e,t){return[e,t]}),[rp,_p]),ci(20,671744,null,0,$p,[[3,op],[8,null],[8,null],[6,tp],[2,Hp]],{name:[0,"name"]},null),hi(2048,null,ap,null,[$p]),ci(22,16384,null,0,lp,[[4,ap]],null,null),(e()(),Zo(23,0,null,null,6,"input",[["class","form-control"],["formControlName","rotLvl"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Yr(e,24)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Yr(e,24).onTouched()&&r),"compositionstart"===t&&(r=!1!==Yr(e,24)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Yr(e,24)._compositionEnd(n.target.value)&&r),"change"===t&&(r=!1!==Yr(e,25).onChange(n.target.value)&&r),"input"===t&&(r=!1!==Yr(e,25).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Yr(e,25).onTouched()&&r),r}),null,null)),ci(24,16384,null,0,rp,[vn,hn,[2,np]],null,null),ci(25,16384,null,0,_p,[vn,hn],null,null),hi(1024,null,tp,(function(e,t){return[e,t]}),[rp,_p]),ci(27,671744,null,0,$p,[[3,op],[8,null],[8,null],[6,tp],[2,Hp]],{name:[0,"name"]},null),hi(2048,null,ap,null,[$p]),ci(29,16384,null,0,lp,[[4,ap]],null,null),(e()(),Zo(30,0,null,null,5,"input",[["class","form-control"],["formControlName","comment"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Yr(e,31)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Yr(e,31).onTouched()&&r),"compositionstart"===t&&(r=!1!==Yr(e,31)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Yr(e,31)._compositionEnd(n.target.value)&&r),r}),null,null)),ci(31,16384,null,0,rp,[vn,hn,[2,np]],null,null),hi(1024,null,tp,(function(e){return[e]}),[rp]),ci(33,671744,null,0,$p,[[3,op],[8,null],[8,null],[6,tp],[2,Hp]],{name:[0,"name"]},null),hi(2048,null,ap,null,[$p]),ci(35,16384,null,0,lp,[[4,ap]],null,null),(e()(),Zo(36,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],null,null,null,null,null)),(e()(),ss(-1,null,["Purchase"]))],(function(e,t){var n=t.component;e(t,2,0,n.mapData),e(t,6,0,n.sectorForm),e(t,13,0,"row"),e(t,20,0,"col"),e(t,27,0,"rotLvl"),e(t,33,0,"comment")}),(function(e,t){e(t,4,0,Yr(t,8).ngClassUntouched,Yr(t,8).ngClassTouched,Yr(t,8).ngClassPristine,Yr(t,8).ngClassDirty,Yr(t,8).ngClassValid,Yr(t,8).ngClassInvalid,Yr(t,8).ngClassPending),e(t,10,0,Yr(t,15).ngClassUntouched,Yr(t,15).ngClassTouched,Yr(t,15).ngClassPristine,Yr(t,15).ngClassDirty,Yr(t,15).ngClassValid,Yr(t,15).ngClassInvalid,Yr(t,15).ngClassPending),e(t,16,0,Yr(t,22).ngClassUntouched,Yr(t,22).ngClassTouched,Yr(t,22).ngClassPristine,Yr(t,22).ngClassDirty,Yr(t,22).ngClassValid,Yr(t,22).ngClassInvalid,Yr(t,22).ngClassPending),e(t,23,0,Yr(t,29).ngClassUntouched,Yr(t,29).ngClassTouched,Yr(t,29).ngClassPristine,Yr(t,29).ngClassDirty,Yr(t,29).ngClassValid,Yr(t,29).ngClassInvalid,Yr(t,29).ngClassPending),e(t,30,0,Yr(t,35).ngClassUntouched,Yr(t,35).ngClassTouched,Yr(t,35).ngClassPristine,Yr(t,35).ngClassDirty,Yr(t,35).ngClassValid,Yr(t,35).ngClassInvalid,Yr(t,35).ngClassPending)}))}var ov,sv=Ur("app-zone-map",ev,(function(e){return ls(0,[(e()(),Zo(0,0,null,null,1,"app-zone-map",[],null,null,null,iv,tv)),ci(1,114688,null,0,ev,[Xp],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),av=function(){function e(t,n){_classCallCheck(this,e),this.open=t,this.close=n||t}return _createClass(e,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),e}(),uv={hover:["mouseover","mouseout"],focus:["focusin","focusout"]},lv="undefined"!=typeof window&&window||{};"undefined"==typeof console||console;var cv=function e(t,n,r){_classCallCheck(this,e),this.nodes=t,this.viewRef=n,this.componentRef=r},hv=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this._viewContainerRef=t,this._renderer=n,this._elementRef=r,this._injector=i,this._componentFactoryResolver=o,this._ngZone=s,this._applicationRef=a,this._posService=u,this.onBeforeShow=new Ri,this.onShown=new Ri,this.onBeforeHide=new Ri,this.onHidden=new Ri,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}return _createClass(e,[{key:"attach",value:function(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}},{key:"to",value:function(e){return this.container=e||this.container,this}},{key:"position",value:function(e){return this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this}},{key:"provide",value:function(e){return this._providers.push(e),this}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);var t=Mt.create({providers:this._providers,parent:this._injector});this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof hn&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document&&(document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector)).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}},{key:"hide",value:function(){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);var e=this._componentRef.location.nativeElement;return e.parentNode.removeChild(e),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(),this}},{key:"toggle",value:function(){this.isShown?this.hide():this.show()}},{key:"dispose",value:function(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}},{key:"listen",value:function(e){var t=this;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||this._elementRef.nativeElement;var n=this._listenOpts.hide=function(){return e.hide?e.hide():void t.hide()},r=this._listenOpts.show=function(n){e.show?e.show(n):t.show(n),n()};return this._unregisterListenersFn=function(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uv,n=(e||"").trim();if(0===n.length)return[];var r=n.split(/\s+/).map((function(e){return e.split(":")})).map((function(e){var n=t[e[0]]||e;return new av(n[0],n[1])})),i=r.filter((function(e){return e.isManual()}));if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(t.triggers),r=t.target;if(1===n.length&&n[0].isManual())return Function.prototype;var i=[],o=[],s=function(){o.forEach((function(e){return i.push(e())})),o.length=0};return n.forEach((function(n){var a=n.open===n.close,u=a?t.toggle:t.show;a||o.push((function(){return e.listen(r,n.close,t.hide)})),i.push(e.listen(r,n.open,(function(){return u(s)})))})),function(){i.forEach((function(e){return e()}))}}(this._renderer,{target:e.target,triggers:e.triggers,show:r,hide:n,toggle:function(e){t.isShown?n():r(e)}}),this}},{key:"_removeGlobalListener",value:function(){this._globalListener&&(this._globalListener(),this._globalListener=null)}},{key:"attachInline",value:function(e,t){return this._inlineViewRef=e.createEmbeddedView(t),this}},{key:"_registerOutsideClick",value:function(){var e=this;if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){var t=this._componentRef.location.nativeElement;setTimeout((function(){e._globalListener=function(e,t){return t.outsideClick?e.listen("document","click",(function(e){t.target&&t.target.contains(e.target)||t.targets&&t.targets.some((function(t){return t.contains(e.target)}))||t.hide()})):Function.prototype}(e._renderer,{targets:[t,e._elementRef.nativeElement],outsideClick:e._listenOpts.outsideClick,hide:function(){return e._listenOpts.hide()}})}))}var n;this._listenOpts.outsideEsc&&(this._globalListener=(n={targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:function(){return e._listenOpts.hide()}}).outsideEsc?this._renderer.listen("document","keyup.esc",(function(e){n.target&&n.target.contains(e.target)||n.targets&&n.targets.some((function(t){return t.contains(e.target)}))||n.hide()})):Function.prototype)}}},{key:"getInnerComponent",value:function(){return this._innerComponent}},{key:"_subscribePositioning",value:function(){var e=this;!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe((function(){e._posService.position({element:e._componentRef.location,target:e._elementRef,attachment:e.attachment,appendToBody:"body"===e.container})})),this._zoneSubscription=this._ngZone.onStable.subscribe((function(){e._componentRef&&e._posService.calcPosition()})))}},{key:"_unsubscribePositioning",value:function(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)}},{key:"_getContentRef",value:function(e,t,n){if(!e)return new cv([]);if(e instanceof Dn){if(this._viewContainerRef){var r=this._viewContainerRef.createEmbeddedView(e,t);return r.markForCheck(),new cv([r.rootNodes],r)}var i=e.createEmbeddedView({});return this._applicationRef.attachView(i),new cv([i.rootNodes],i)}if("function"==typeof e){var o=this._componentFactoryResolver.resolveComponentFactory(e),s=Mt.create({providers:this._providers,parent:this._injector}),a=o.create(s);return Object.assign(a.instance,n),this._applicationRef.attachView(a.hostView),new cv([[a.location.nativeElement]],a.hostView,a)}return new cv([[this._renderer.createText("".concat(e))]])}},{key:"isShown",get:function(){return!this._isHiding&&!!this._componentRef}}]),e}(),fv=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this._componentFactoryResolver=t,this._ngZone=n,this._injector=r,this._posService=i,this._applicationRef=o}return _createClass(e,[{key:"createLoader",value:function(e,t,n){return new hv(t,n,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}]),e}(),dv=function e(){_classCallCheck(this,e)},pv=function e(){_classCallCheck(this,e)},vv="*";function yv(e){return{type:2,steps:e,options:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}}function gv(e){return{type:6,styles:e,offset:null}}function mv(e){Promise.resolve(null).then(e)}var _v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;mv((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),bv=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,o=0,s=this.players.length;0==s?mv((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++r==s&&n._onFinish()})),e.onDestroy((function(){++i==s&&n._onDestroy()})),e.onStart((function(){++o==s&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),wv="!";function kv(e,t,n,i){return r(n)&&(i=n,n=void 0),i?kv(e,t,n).pipe(H((function(e){return u(e)?i.apply(void 0,_toConsumableArray(e)):i(e)}))):new C((function(r){!function e(t,n,r,i,o){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var a=t;t.addEventListener(n,r,o),s=function(){return a.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var u=t;t.on(n,r),s=function(){return u.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var l=t;t.addListener(n,r),s=function(){return l.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,h=t.length;c<h;c++)e(t[c],n,r,i,o)}i.add(s)}(e,t,(function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),r,n)}))}var Cv=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).scheduler=e,r.work=n,r}return _inherits(t,e),_createClass(t,[{key:"requestAsyncId",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(t.prototype),"requestAsyncId",this).call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))}},{key:"recycleAsyncId",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(t.prototype),"recycleAsyncId",this).call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)}}]),t}($f),Ev=new(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),t}(Xf))(Cv);function Sv(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function Tv(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function Iv(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Sv(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(String(n)+String(i)+String(r))?e:Iv(Tv(e))}var xv="undefined"!=typeof window&&"undefined"!=typeof document,Av=xv&&!(!window.MSInputMethodContext||!document.documentMode),Ov=xv&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function Pv(e){return 11===e?Av:10===e?Ov:Av||Ov}function Nv(e){if(!e)return document.documentElement;for(var t,n=Pv(10)?document.body:null,r=e.offsetParent||null;r===n&&e.nextElementSibling&&t!==e.nextElementSibling;)r=(t=e.nextElementSibling).offsetParent;var i=r&&r.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===Sv(r,"position")?Nv(r):r:t?t.ownerDocument.documentElement:document.documentElement}function Rv(e){return null!==e.parentNode?Rv(e.parentNode):e}function Dv(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s,a,u=o.commonAncestorContainer;if(e!==u&&t!==u||r.contains(i))return"BODY"===(a=(s=u).nodeName)||"HTML"!==a&&Nv(s.firstElementChild)!==s?Nv(u):u;var l=Rv(e);return l.host?Dv(l.host,t):Dv(e,Rv(t).host)}function Lv(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border".concat(n,"Width")])+parseFloat(e["border".concat(r,"Width")])}function Mv(e,t,n,r){return Math.max(t["offset".concat(e)],t["scroll".concat(e)],n["client".concat(e)],n["offset".concat(e)],n["scroll".concat(e)],Pv(10)?parseInt(n["offset".concat(e)],10)+parseInt(r["margin".concat("Height"===e?"Top":"Left")],10)+parseInt(r["margin".concat("Height"===e?"Bottom":"Right")],10):0)}function Vv(e){var t=e.body,n=e.documentElement,r=Pv(10)&&getComputedStyle(n);return{height:Mv("Height",t,n,r),width:Mv("Width",t,n,r)}}function Fv(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function jv(e){return Object.assign({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Uv(e){var t={};try{if(Pv(10)){t=e.getBoundingClientRect();var n=Fv(e,"top"),r=Fv(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(l){return}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?Vv(e.ownerDocument):{},s=e.offsetWidth-(o.width||e.clientWidth||i.right-i.left),a=e.offsetHeight-(o.height||e.clientHeight||i.bottom-i.top);if(s||a){var u=Sv(e);s-=Lv(u,"x"),a-=Lv(u,"y"),i.width-=s,i.height-=a}return jv(i)}function qv(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Pv(10),i="HTML"===t.nodeName,o=Uv(e),s=Uv(t),a=Iv(e),u=Sv(t),l=parseFloat(u.borderTopWidth),c=parseFloat(u.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=jv({top:o.top-s.top-l,left:o.left-s.left-c,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){var f=parseFloat(u.marginTop),d=parseFloat(u.marginLeft);h.top-=l-f,h.bottom-=l-f,h.left-=c-d,h.right-=c-d,h.marginTop=f,h.marginLeft=d}return(r&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Fv(t,"top"),i=Fv(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}(h,t)),h}function Bv(e){if(!e||!e.parentElement||Pv())return document.documentElement;for(var t=e.parentElement;t&&"none"===Sv(t,"transform");)t=t.parentElement;return t||document.documentElement}function zv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=i?Bv(e):Dv(e,t);if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=qv(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:Fv(n),a=t?0:Fv(n,"left");return jv({top:s-Number(r.top)+Number(r.marginTop),left:a-Number(r.left)+Number(r.marginLeft),width:i,height:o})}(s,i);else{var a;"scrollParent"===r?"BODY"===(a=Iv(Tv(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===r?e.ownerDocument.documentElement:r;var u=qv(a,s,i);if("HTML"!==a.nodeName||function e(t){var n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===Sv(t,"position")||e(Tv(t)))}(s))o=u;else{var l=Vv(e.ownerDocument),c=l.height,h=l.width;o.top+=u.top-u.marginTop,o.bottom=Number(c)+Number(u.top),o.left+=u.left-u.marginLeft,o.right=Number(h)+Number(u.left)}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function Hv(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["top","bottom","right","left"],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"viewport",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(-1===e.indexOf("auto"))return e;var a=zv(n,r,s,o),u={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(u).map((function(e){return Object.assign({key:e},u[e],{area:(t=u[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),h=(c=c.filter((function(e){return i.some((function(t){return t===e.key}))}))).length>0?c[0].key:l[0].key,f=e.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,"bs-tooltip-".concat(h)),h+(f?"-".concat(f):"")}function Gv(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:Number(e.offsetWidth)+r,height:Number(e.offsetHeight)+n}}function Wv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return qv(t,n?Bv(e):Dv(e,t),n)}function Kv(e,t,n){var r=n.split(" ")[0],i=Gv(e),o={width:i.width,height:i.height},s=-1!==["right","left"].indexOf(r),a=s?"top":"left",u=s?"left":"top",l=s?"height":"width",c=s?"width":"height";return o[a]=t[a]+t[l]/2-i[l]/2,o[u]=r===u?t[u]-i[c]:t[function(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}(u)],o}function Qv(e,t){return e&&e.modifiers&&e.modifiers[t]&&e.modifiers[t].enabled}function Zv(e,t,n){Object.keys(t).forEach((function(r){var i,o="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&(""!==(i=t[r])&&!isNaN(parseFloat(i))&&isFinite(i))&&(o="px"),n?n.setStyle(e,r,"".concat(String(t[r])).concat(o)):e.style[r]=String(t[r])+o}))}function $v(e){var t,n=e.offsets.target,r=e.instance.target.querySelector(".arrow");if(!r)return e;var i=-1!==["left","right"].indexOf(e.placement.split(" ")[0]),o=i?"height":"width",s=i?"Top":"Left",a=s.toLowerCase(),u=i?"left":"top",l=i?"bottom":"right",c=Gv(r)[o],h=e.placement.split(" ")[1];e.offsets.host[l]-c<n[a]&&(n[a]-=n[a]-(e.offsets.host[l]-c)),Number(e.offsets.host[a])+Number(c)>n[l]&&(n[a]+=Number(e.offsets.host[a])+Number(c)-Number(n[l])),n=jv(n);var f,d=Sv(e.instance.target),p=parseFloat(d["margin".concat(s)]),v=parseFloat(d["border".concat(s,"Width")]);if(h){var y=parseFloat(d.borderRadius),g=Number(p+v+y);f=a===h?Number(e.offsets.host[a])+g:Number(e.offsets.host[a])+Number(e.offsets.host[o]-g)}else f=Number(e.offsets.host[a])+Number(e.offsets.host[o]/2-c/2);var m=f-n[a]-p-v;return m=Math.max(Math.min(n[o]-c,m),0),e.offsets.arrow=(_defineProperty(t={},a,Math.round(m)),_defineProperty(t,u,""),t),e.instance.arrow=r,e}function Yv(e){if(e.offsets.target=jv(e.offsets.target),!Qv(e.options,"flip"))return e.offsets.target=Object.assign({},e.offsets.target,Kv(e.instance.target,e.offsets.host,e.placement)),e;var t=zv(e.instance.target,e.instance.host,0,"viewport",!1),n=e.placement.split(" ")[0],r=e.placement.split(" ")[1]||"",i=Hv("auto",e.offsets.host,e.instance.target,e.instance.host,e.options.allowedPositions),o=[n,i];return o.forEach((function(i,s){if(n!==i||o.length===s+1)return e;var a="left"===(n=e.placement.split(" ")[0])&&Math.floor(e.offsets.target.right)>Math.floor(e.offsets.host.left)||"right"===n&&Math.floor(e.offsets.target.left)<Math.floor(e.offsets.host.right)||"top"===n&&Math.floor(e.offsets.target.bottom)>Math.floor(e.offsets.host.top)||"bottom"===n&&Math.floor(e.offsets.target.top)<Math.floor(e.offsets.host.bottom),u=Math.floor(e.offsets.target.left)<Math.floor(t.left),l=Math.floor(e.offsets.target.right)>Math.floor(t.right),c=Math.floor(e.offsets.target.top)<Math.floor(t.top),h=Math.floor(e.offsets.target.bottom)>Math.floor(t.bottom),f="left"===n&&u||"right"===n&&l||"top"===n&&c||"bottom"===n&&h,d=-1!==["top","bottom"].indexOf(n),p=d&&"left"===r&&u||d&&"right"===r&&l||!d&&"left"===r&&c||!d&&"right"===r&&h;(a||f||p)&&((a||f)&&(n=o[s+1]),p&&(r=function(e){return"right"===e?"left":"left"===e?"right":e}(r)),e.placement=n+(r?" ".concat(r):""),e.offsets.target=Object.assign({},e.offsets.target,Kv(e.instance.target,e.offsets.host,e.placement)))})),e}function Xv(e){if(!Qv(e.options,"preventOverflow"))return e;var t=e.instance.target.style,n=t.top,r=t.left,i=t.transform;t.top="",t.left="",t.transform="";var o=zv(e.instance.target,e.instance.host,0,"scrollParent",!1);t.top=n,t.left=r,t.transform=i;var s,a={primary:function(t){var n=e.offsets.target[t];return e.offsets.target[t]<o[t]&&(n=Math.max(e.offsets.target[t],o[t])),_defineProperty({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=e.offsets.target[n];return e.offsets.target[t]>o[t]&&(r=Math.min(e.offsets.target[n],o[t]-("right"===t?e.offsets.target.width:e.offsets.target.height))),_defineProperty({},n,r)}};return["left","right","top","bottom"].forEach((function(t){s=-1!==["left","top"].indexOf(t)?"primary":"secondary",e.offsets.target=Object.assign({},e.offsets.target,a[s](t))})),e}function Jv(e){var t=e.placement,n=t.split(" ")[0],r=t.split(" ")[1];if(r){var i=e.offsets,o=i.host,s=i.target,a=-1!==["bottom","top"].indexOf(n),u=a?"left":"top",l=a?"width":"height",c={start:_defineProperty({},u,o[u]),end:_defineProperty({},u,o[u]+o[l]-s[l])};e.offsets.target=Object.assign({},s,_defineProperty({},u,u===r?c.start[u]:c.end[u]))}return e}var ey=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"position",value:function(e,t){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.offset(e,t,!1)}},{key:"offset",value:function(e,t){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Wv(t,e)}},{key:"positionElements",value:function(e,t,n,r,i){return[Yv,Jv,Xv,$v].reduce((function(e,t){return t(e)}),function(e,t,n,r){var i=Wv(e,t);n.match(/^(auto)*\s*(left|right|top|bottom)*$/)||n.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\s*(start|end)*$/)||(n="auto");var o=!!n.match(/auto/g),s=n.match(/auto\s(left|right|top|bottom)/)?n.split(" ")[1]||"auto":n,a=s.match(/^(left|right|top|bottom)* ?(?!\1)(left|right|top|bottom)?/);return a&&(s=a[1]+(a[2]?" ".concat(a[2]):"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(s)&&(s="auto"),{options:r,instance:{target:e,host:t,arrow:null},offsets:{target:Kv(e,i,s),host:i,arrow:null},positionFixed:!1,placement:s=Hv(s,i,e,t,r?r.allowedPositions:void 0),placementAuto:o}}(t,e,n,i))}}]),e}()),ty=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.update$$=new O,this.positionElements=new Map,this.isDisabled=!1,function(e){return e===Ua}(r)&&t.runOutsideAngular((function(){i.triggerEvent$=ee(kv(window,"scroll",{passive:!0}),kv(window,"resize",{passive:!0}),Za(0,Ev),i.update$$),i.triggerEvent$.subscribe((function(){i.isDisabled||i.positionElements.forEach((function(e){var t,r,o,s,a,u,l,c;t=ny(e.target),r=ny(e.element),o=e.attachment,s=e.appendToBody,a=i.options,u=n.createRenderer(null,null),l=ey.positionElements(t,r,o,s,a),c=function(e){return{width:e.offsets.target.width,height:e.offsets.target.height,left:Math.floor(e.offsets.target.left),top:Math.round(e.offsets.target.top),bottom:Math.round(e.offsets.target.bottom),right:Math.floor(e.offsets.target.right)}}(l),Zv(r,{"will-change":"transform",top:"0px",left:"0px",transform:"translate3d(".concat(c.left,"px, ").concat(c.top,"px, 0px)")},u),l.instance.arrow&&Zv(l.instance.arrow,l.offsets.arrow,u),function(e,t){var n=e.instance.target,r=n.className;e.placementAuto&&(-1!==(r=(r=(r=r.replace(/bs-popover-auto/g,"bs-popover-".concat(e.placement))).replace(/bs-tooltip-auto/g,"bs-tooltip-".concat(e.placement))).replace(/\sauto/g," ".concat(e.placement))).indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom/g,"".concat(e.placement.split(" ")[0])),t?t.setAttribute(n,"class",r):n.className=r}(l,u)}))}))}))}return _createClass(e,[{key:"position",value:function(e){this.addPositionElement(e)}},{key:"disable",value:function(){this.isDisabled=!0}},{key:"enable",value:function(){this.isDisabled=!1}},{key:"addPositionElement",value:function(e){this.positionElements.set(ny(e.element),e)}},{key:"calcPosition",value:function(){this.update$$.next()}},{key:"deletePositionElement",value:function(e){this.positionElements.delete(ny(e))}},{key:"setOptions",value:function(e){this.options=e}},{key:"event$",get:function(){return this.triggerEvent$}}]),e}();function ny(e){return"string"==typeof e?document.querySelector(e):e instanceof hn?e.nativeElement:e}var ry=function e(){_classCallCheck(this,e),this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1},iy=function e(){var t=this;_classCallCheck(this,e),this.direction="down",this.isOpenChange=new Ri,this.isDisabledChange=new Ri,this.toggleClick=new Ri,this.dropdownMenu=new Promise((function(e){t.resolveDropdownMenu=e}))},oy=[gv({height:0,overflow:"hidden"}),function(e){return{type:4,styles:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,timings:e}}("220ms cubic-bezier(0, 0, 0.2, 1)",gv({height:"*",overflow:"hidden"}))],sy=function(){function e(t,n,r,i,o){var s=this;_classCallCheck(this,e),this._state=t,this.cd=n,this._renderer=r,this._element=i,this.isOpen=!1,this._factoryDropDownAnimation=o.build(oy),this._subscription=t.isOpenChange.subscribe((function(e){s.isOpen=e;var t=s._element.nativeElement.querySelector(".dropdown-menu");s._renderer.addClass(s._element.nativeElement.querySelector("div"),"open"),t&&!(void 0===lv||(void 0===lv.__theme?ov?"bs3"===ov:"bs3"===(ov=function(){if("undefined"==typeof document)return null;var e=document.createElement("span");e.innerText="test bs version",document.body.appendChild(e),e.classList.add("d-none");var t=e.getBoundingClientRect();return document.body.removeChild(e),t&&0===t.top?"bs4":"bs3"}()):"bs4"!==lv.__theme))&&(s._renderer.addClass(t,"show"),t.classList.contains("dropdown-menu-right")&&(s._renderer.setStyle(t,"left","auto"),s._renderer.setStyle(t,"right","0")),"up"===s.direction&&(s._renderer.setStyle(t,"top","auto"),s._renderer.setStyle(t,"transform","translateY(-101%)"))),t&&s._state.isAnimated&&s._factoryDropDownAnimation.create(t).play(),s.cd.markForCheck(),s.cd.detectChanges()}))}return _createClass(e,[{key:"_contains",value:function(e){return this._element.nativeElement.contains(e)}},{key:"ngOnDestroy",value:function(){this._subscription.unsubscribe()}},{key:"direction",get:function(){return this._state.direction}}]),e}(),ay=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[fv,ty,iy,{provide:ry,useValue:t||{autoClose:!0,insideClick:!1}}]}}}]),e}(),uy=er({encapsulation:2,styles:[],data:{}});function ly(e){return ls(2,[(e()(),Zo(0,0,null,null,1,"div",[],[[2,"dropup",null],[2,"dropdown",null],[2,"show",null],[2,"open",null]],null,null,null,null)),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:null,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:0}}],null,(function(e,t){var n=t.component;e(t,0,0,"up"===n.direction,"down"===n.direction,n.isOpen,n.isOpen)}))}var cy=Ur("bs-dropdown-container",sy,(function(e){return ls(0,[(e()(),Zo(0,0,null,null,1,"bs-dropdown-container",[["style","display:block;position: absolute;z-index: 1040"]],null,null,null,ly,uy)),ci(1,180224,null,0,sy,[iy,Nt,vn,hn,dv],null,null)],null,null)}),{},{},["*"]),hy=er({encapsulation:0,styles:[[""]],data:{}});function fy(e){return ls(0,[(e()(),Zo(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ci(1,212992,null,0,pf,[df,Mn,an,[8,null],Nt],null,null)],(function(e,t){e(t,1,0)}),null)}var dy=Ur("app-root",ya,(function(e){return ls(0,[(e()(),Zo(0,0,null,null,1,"app-root",[],null,null,null,fy,hy)),ci(1,49152,null,0,ya,[],null,null)],null,null)}),{},{},[]);function py(){return"undefined"!=typeof process}function vy(e){switch(e.length){case 0:return new _v;case 1:return e[0];default:return new bv(e)}}function yy(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],a=[],u=-1,l=null;if(r.forEach((function(e){var n=e.offset,r=n==u,c=r&&l||{};Object.keys(e).forEach((function(n){var r=n,a=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,s),a){case wv:a=i[n];break;case vv:a=o[n];break;default:a=t.normalizeStyleValue(n,r,a,s)}c[r]=a})),r||a.push(c),l=c,u=n})),s.length){throw new Error("Unable to animate due to the following errors:".concat("\n - ").concat(s.join("\n - ")))}return a}function gy(e,t,n,r){switch(t){case"start":e.onStart((function(){return r(n&&my(n,"start",e))}));break;case"done":e.onDone((function(){return r(n&&my(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return r(n&&my(n,"destroy",e))}))}}function my(e,t,n){var r=n.totalTime,i=_y(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function _y(e,t,n,r){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",totalTime:arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,disabled:!!(arguments.length>6?arguments[6]:void 0)}}function by(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function wy(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var ky=function(e,t){return!1},Cy=function(e,t){return!1},Ey=function(e,t,n){return[]},Sy=py();(Sy||"undefined"!=typeof Element)&&(ky=function(e,t){return e.contains(t)},Cy=function(){if(Sy||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:Cy}(),Ey=function(e,t,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(e.querySelectorAll(t)));else{var i=e.querySelector(t);i&&r.push(i)}return r});var Ty=null,Iy=!1;function xy(e){Ty||(Ty=("undefined"!=typeof document?document.body:null)||{},Iy=!!Ty.style&&"WebkitAppearance"in Ty.style);var t=!0;return Ty.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&!(t=e in Ty.style)&&Iy&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Ty.style),t}var Ay=Cy,Oy=ky,Py=Ey;function Ny(e){var t={};return Object.keys(e).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]})),t}var Ry=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return xy(e)}},{key:"matchesElement",value:function(e,t){return Ay(e,t)}},{key:"containsElement",value:function(e,t){return Oy(e,t)}},{key:"query",value:function(e,t,n){return Py(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6];return new _v(n,r)}}]),e}(),Dy=function(){var e=function e(){_classCallCheck(this,e)};return e.NOOP=new Ry,e}(),Ly=1e3;function My(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Vy(parseFloat(t[1]),t[2])}function Vy(e,t){switch(t){case"s":return e*Ly;default:return e}}function Fy(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var s=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=Vy(parseFloat(s[1]),s[2]);var a=s[3];null!=a&&(i=Vy(parseFloat(a),s[4]));var u=s[5];u&&(o=u)}else r=e;if(!n){var l=!1,c=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),l=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&t.splice(c,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function jy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function Uy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else jy(e,n);return n}function qy(e,t,n){return n?t+":"+n+";":""}function By(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=qy(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=qy(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function zy(e,t,n){e.style&&(Object.keys(t).forEach((function(r){var i=Yy(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]})),py()&&By(e))}function Hy(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=Yy(t);e.style[n]=""})),py()&&By(e))}function Gy(e){return Array.isArray(e)?1==e.length?e[0]:yv(e):e}var Wy=new RegExp("".concat("{{","\\s*(.+?)\\s*}}"),"g");function Ky(e){var t=[];if("string"==typeof e){for(var n,r=e.toString();n=Wy.exec(r);)t.push(n[1]);Wy.lastIndex=0}return t}function Qy(e,t,n){var r=e.toString(),i=r.replace(Wy,(function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()}));return i==r?e:i}function Zy(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var $y=/-+([a-z0-9])/g;function Yy(e){return e.replace($y,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function Xy(e,t){return 0===e||0===t}function Jy(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach((function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]})),o.length)for(var s=function(){var n=t[a];o.forEach((function(t){n[t]=tg(e,t)}))},a=1;a<t.length;a++)s()}return t}function eg(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function tg(e,t){return window.getComputedStyle(e)[t]}var ng="*";var rg=new Set(["true","1"]),ig=new Set(["false","0"]);function og(e,t){var n=rg.has(e)||ig.has(e),r=rg.has(t)||ig.has(t);return function(i,o){var s=e==ng||e==i,a=t==ng||t==o;return!s&&n&&"boolean"==typeof i&&(s=i?rg.has(e):ig.has(e)),!a&&r&&"boolean"==typeof o&&(a=o?rg.has(t):ig.has(t)),s&&a}}var sg=new RegExp("s*".concat(":self","s*,?"),"g");function ag(e,t,n){return new ug(e).build(t,n)}var ug=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new lg(t);return this._resetContextStyleTimingState(n),eg(this,Gy(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var a=e,u=a.name;u.toString().split(/\s*,\s*/).forEach((function(e){a.name=e,o.push(n.visitState(a,t))})),a.name=u}else if(1==e.type){var l=n.visitTransition(e,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(e){if(cg(e)){var t=e;Object.keys(t).forEach((function(e){Ky(t[e]).forEach((function(e){o.hasOwnProperty(e)||i.add(e)}))}))}})),i.size){var s=Zy(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,o=eg(this,Gy(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],s=i[2],a=i[3];t.push(og(o,a)),"<"!=s[0]||o==ng&&a==ng||t.push(og(a,o))}(e,i,r)})):i.push(n),i),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:hg(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return eg(n,e,t)})),options:hg(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map((function(e){t.currentTime=r;var o=eg(n,e,t);return i=Math.max(i,t.currentTime),o}));return t.currentTime=i,{type:3,steps:o,options:hg(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return fg(Fy(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var i=fg(0,0,"");return i.dynamic=!0,i.strValue=r,i}return fg((n=n||Fy(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:gv({});if(5==i.type)n=this.visitKeyframes(i,t);else{var o=e.styles,s=!1;if(!o){s=!0;var a={};r.easing&&(a.easing=r.easing),o=gv(a)}t.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,t);u.isEmptyStep=s,n=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?e==vv?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var r=!1,i=null;return n.forEach((function(e){if(cg(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(r){if(n._driver.validateStyleProperty(r)){var s,a,u,l,c,h=t.collectedStyles[t.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),t.options&&(s=e[r],a=t.options,u=t.errors,l=a.params||{},(c=Ky(s)).length&&c.forEach((function(e){l.hasOwnProperty(e)||u.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],s=!1,a=!1,u=0,l=e.steps.map((function(e){var r=n._makeStyleAst(e,t),l=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(cg(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(cg(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),c=0;return null!=l&&(i++,c=r.offset=l),a=a||c<0||c>1,s=s||c<u,u=c,o.push(c),r}));a&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,h=0;i>0&&i<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));var f=c-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return l.forEach((function(e,i){var s=h>0?i==f?1:h*i:o[i],a=s*v;t.currentTime=d+p.delay+a,p.duration=a,n._validateStyleAst(e,t),e.offset=s,r.styles.push(e)})),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:eg(this,Gy(e.animation),t),options:hg(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:hg(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:hg(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(sg,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=i[0],s=i[1];t.currentQuerySelector=n.length?n+" "+o:o,by(t.collectedStyles,t.currentQuerySelector,{});var a=eg(this,Gy(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:hg(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Fy(e.timings,t.errors,!0);return{type:12,animation:eg(this,Gy(e.animation),t),timings:n,options:null}}}]),e}(),lg=function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function cg(e){return!Array.isArray(e)&&"object"==typeof e}function hg(e){var t;return e?(e=jy(e)).params&&(e.params=(t=e.params)?jy(t):null):e={},e}function fg(e,t,n){return{duration:e,delay:t,easing:n}}function dg(e,t,n,r,i,o){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,subTimeline:arguments.length>7&&void 0!==arguments[7]&&arguments[7]}}var pg=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),vg=new RegExp(":enter","g"),yg=new RegExp(":leave","g");function gg(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new mg).buildKeyframes(e,t,n,r,i,o,s,a,u,l)}var mg=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,s,a,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new pg;var c=new bg(e,t,u,r,i,l,[]);c.options=a,c.currentTimeline.setStyles([o],null,c.errors,a),eg(this,n,c);var h=c.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(s).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([s],null,c.errors,a)}return h.length?h.map((function(e){return e.buildKeyframes()})):[dg(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?My(n.duration):null,o=null!=n.delay?My(n.delay):null;return 0!==i&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),eg(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=_g);var s=My(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach((function(e){return eg(n,e,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?My(e.options.delay):0;e.steps.forEach((function(s){var a=t.createSubContext(e.options);o&&a.delayNextStep(o),eg(n,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)})),r.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return Fy(t.params?Qy(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?My(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=_g);var s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;var u=null;a.forEach((function(r,i){t.currentQueryIndex=i;var a=t.createSubContext(e.options,r);o&&a.delayNextStep(o),r===t.element&&(u=a.currentTimeline),eg(n,e.animation,a),a.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,a.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),s=o*(t.currentQueryTotal-1),a=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}var u=t.currentTimeline;a&&u.delayNextStep(a);var l=u.currentTime;eg(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}]),e}(),_g={},bg=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_g,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new wg(this._driver,n,0),a.push(this.currentTimeline)}return _createClass(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=My(r.duration)),null!=r.delay&&(i.delay=My(r.delay));var o=r.params;if(o){var s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach((function(e){t&&s.hasOwnProperty(e)||(s[e]=Qy(o[e],s,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=_g,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new kg(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var s=[];if(r&&s.push(this.element),e.length>0){e=(e=e.replace(vg,"."+this._enterClassName)).replace(yg,"."+this._leaveClassName);var a=this._driver.query(this.element,e,1!=n);0!==n&&(a=n<0?a.slice(a.length+n,a.length):a.slice(0,n)),s.push.apply(s,_toConsumableArray(a))}return i||0!=s.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),s}},{key:"params",get:function(){return this.options.params}}]),e}(),wg=function(){function e(t,n,r,i){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||vv,t._currentKeyframe[e]=vv})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o=r&&r.params||{},s=function(e,t){var n,r={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){r[e]=vv})):Uy(e,!1,r)})),r}(e,this._globalTimelineStyles);Object.keys(s).forEach((function(e){var t=Qy(s[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:vv),i._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,s){var a=Uy(o,!0);Object.keys(a).forEach((function(e){var r=a[e];r==wv?t.add(e):r==vv&&n.add(e)})),r||(a.offset=s/e.duration),i.push(a)}));var o=t.size?Zy(t.values()):[],s=n.size?Zy(n.values()):[];if(r){var a=i[0],u=jy(a);a.offset=0,u.offset=1,i=[a,u]}return dg(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),kg=function(e){function t(e,n,r,i,o,s){var a,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,s.delay))).element=n,a.keyframes=r,a.preStyleProps=i,a.postStyleProps=o,a._stretchStartingKeyframe=u,a.timings={duration:s.duration,delay:s.delay,easing:s.easing},a}return _inherits(t,e),_createClass(t,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],s=r+n,a=n/s,u=Uy(e[0],!1);u.offset=0,o.push(u);var l=Uy(e[0],!1);l.offset=Cg(a),o.push(l);for(var c=e.length-1,h=1;h<=c;h++){var f=Uy(e[h],!1);f.offset=Cg((n+f.offset*r)/s),o.push(f)}r=s,n=0,i="",e=o}return dg(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),t}(wg);function Cg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var Eg=function e(){_classCallCheck(this,e)},Sg=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"normalizePropertyName",value:function(e,t){return Yy(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if(Tg[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),t}(Eg),Tg=function(e){var t={};return e.forEach((function(e){return t[e]=!0})),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Ig(e,t,n,r,i,o,s,a,u,l,c,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:f}}var xg={},Ag=function(){function e(t,n,r){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return _createClass(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some((function(e){return e(t,n,r,i)}))}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,s,a,u,l){var c=[],h=this.ast.options&&this.ast.options.params||xg,f=this.buildStyles(n,s&&s.params||xg,c),d=a&&a.params||xg,p=this.buildStyles(r,d,c),v=new Set,y=new Map,g=new Map,m="void"===r,_={params:Object.assign({},h,d)},b=l?[]:gg(e,t,this.ast.animation,i,o,f,p,_,u,c),w=0;if(b.forEach((function(e){w=Math.max(e.duration+e.delay,w)})),c.length)return Ig(t,this._triggerName,n,r,m,f,p,[],[],y,g,w,c);b.forEach((function(e){var n=e.element,r=by(y,n,{});e.preStyleProps.forEach((function(e){return r[e]=!0}));var i=by(g,n,{});e.postStyleProps.forEach((function(e){return i[e]=!0})),n!==t&&v.add(n)}));var k=Zy(v.values());return Ig(t,this._triggerName,n,r,m,f,p,b,k,y,g,w)}}]),e}(),Og=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},r=jy(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(r[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach((function(e){var o=i[e];o.length>1&&(o=Qy(o,r,t)),n[e]=o}))}})),n}}]),e}(),Pg=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){r.states[e.name]=new Og(e.style,e.options&&e.options.params||{})})),Ng(this.states,"true","1"),Ng(this.states,"false","0"),n.transitions.forEach((function(e){r.transitionFactories.push(new Ag(t,e,r.states))})),this.fallbackTransition=new Ag(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find((function(i){return i.match(e,t,n,r)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function Ng(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var Rg=new pg,Dg=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],r=ag(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=yy(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[e],a=new Map;if(s?(n=gg(this._driver,t,s,"ng-enter","ng-leave",{},{},i,Rg,o)).forEach((function(e){var t=by(a,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));a.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=r._driver.computeStyle(t,n,vv)}))}));var u=vy(n.map((function(e){var t=a.get(e.element);return r._buildPlayer(e,{},t)})));return this._playersById[e]=u,u.onDestroy((function(){return r.destroy(e)})),this.players.push(u),u}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,r){var i=_y(t,"","","");return gy(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),Lg=[],Mg={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Vg={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fg="__ng_removed",jg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var o=jy(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}},{key:"params",get:function(){return this.options.params}}]),e}(),Ug=new jg("void"),qg=function(){function e(t,n,r){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Zg(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var s=by(this._elementListeners,e,[]),a={name:t,phase:n,callback:r};s.push(a);var u=by(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(Zg(e,"ng-trigger"),Zg(e,"ng-trigger-"+t),u[t]=Ug),function(){o._engine.afterFlush((function(){var e=s.indexOf(a);e>=0&&s.splice(e,1),o._triggers[t]||delete u[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),s=new zg(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Zg(e,"ng-trigger"),Zg(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,a={}));var u=a[t],l=new jg(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a[t]=l,u||(u=Ug),"void"===l.value||u.value!==l.value){var c=by(this._engine.playersByElement,e,[]);c.forEach((function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=o.matchTransition(u.value,l.value,e,l.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:u,toState:l,player:s,isFallbackTransition:f}),f||(Zg(e,"ng-animate-queued"),s.onStart((function(){$g(e,"ng-animate-queued")}))),s.onDone((function(){var t=r.players.indexOf(s);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(s);i>=0&&n.splice(i,1)}})),this.players.push(s),c.push(s),s}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(u.params,l.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(l.value,l.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){Hy(e,p),zy(e,v)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,r){t._elementListeners.set(r,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this;arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._engine.driver.query(e,".ng-trigger",!0).forEach((function(e){if(!e[Fg]){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var s=[];if(Object.keys(o).forEach((function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&s.push(n)}})),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&vy(s).onDone((function(){return i._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=t._triggers[i].fallbackTransition,s=t._engine.statesByElement.get(e)[i]||Ug,a=new jg("void"),u=new zg(t.id,i,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:i,transition:o,fromState:s,toState:a,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var s=e;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}this.prepareLeaveAnimationListeners(e),i?r.markElementAsRemoved(this.id,e,!1,t):(r.afterFlush((function(){return n.clearElementCache(e)})),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}},{key:"insertNode",value:function(e,t){Zg(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,s=t._elementListeners.get(o);s&&s.forEach((function(t){if(t.name==r.triggerName){var n=_y(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,gy(r.player,t.phase,n,t.callback)}})),i.markedForDestroy?t._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),Bg=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new qg(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var s=this._fetchNamespace(o);s&&t.add(s)}}return t}},{key:"trigger",value:function(e,t,n,r){if(Hg(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(Hg(t)){var i=t[Fg];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var s=this._fetchNamespace(e);s&&s.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Zg(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),$g(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(Hg(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t[Fg]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return Hg(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return vy(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e[Fg];if(n&&n.setForRemoval){if(e[Fg]=Mg,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Zg(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var a=this._whenQuietFns;this._whenQuietFns=[],n.length?vy(n).onDone((function(){a.forEach((function(e){return e()}))})):a.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new pg,i=[],o=new Map,s=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach((function(e){c.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)c.add(t[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=Kg(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(e,t){var n="ng-enter"+v++;p.set(t,n),e.forEach((function(e){return Zg(e,n)}))}));for(var y=[],g=new Set,m=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],w=b[Fg];w&&w.setForRemoval&&(y.push(b),g.add(b),w.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(e){return g.add(e)})):m.add(b))}var k=new Map,C=Kg(f,Array.from(g));C.forEach((function(e,t){var n="ng-leave"+v++;k.set(t,n),e.forEach((function(e){return Zg(e,n)}))})),e.push((function(){d.forEach((function(e,t){var n=p.get(t);e.forEach((function(e){return $g(e,n)}))})),C.forEach((function(e,t){var n=k.get(t);e.forEach((function(e){return $g(e,n)}))})),y.forEach((function(e){n.processLeaveNode(e)}))}));for(var E=[],S=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(t).forEach((function(e){var t=e.player,o=e.element;if(E.push(t),n.collectedEnterElements.length){var c=o[Fg];if(c&&c.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,o),d=k.get(o),v=p.get(o),y=n._buildInstruction(e,r,v,d,f);if(!y.errors||!y.errors.length)return f?(t.onStart((function(){return Hy(o,y.fromStyles)})),t.onDestroy((function(){return zy(o,y.toStyles)})),void i.push(t)):e.isFallbackTransition?(t.onStart((function(){return Hy(o,y.fromStyles)})),t.onDestroy((function(){return zy(o,y.toStyles)})),void i.push(t)):(y.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),r.append(o,y.timelines),s.push({instruction:y,player:t,element:o}),y.queriedElements.forEach((function(e){return by(a,e,[]).push(t)})),y.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var r=u.get(t);r||u.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}})),void y.postStyleProps.forEach((function(e,t){var n=Object.keys(e),r=l.get(t);r||l.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))})));S.push(y)}));if(S.length){var I=[];S.forEach((function(e){I.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return I.push("- ".concat(e,"\n"))}))})),E.forEach((function(e){return e.destroy()})),this.reportError(I)}var x=new Map,A=new Map;s.forEach((function(e){var t=e.element;r.has(t)&&(A.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,x))})),i.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){by(x,t,[]).push(e),e.destroy()}))}));var O=y.filter((function(e){return Xg(e,u,l)})),P=new Map;Wg(P,this.driver,m,l,vv).forEach((function(e){Xg(e,u,l)&&O.push(e)}));var N=new Map;d.forEach((function(e,t){Wg(N,n.driver,new Set(e),u,wv)})),O.forEach((function(e){var t=P.get(e),n=N.get(e);P.set(e,Object.assign({},t,n))}));var R=[],D=[],L={};s.forEach((function(e){var t=e.element,s=e.player,a=e.instruction;if(r.has(t)){if(c.has(t))return s.onDestroy((function(){return zy(t,a.toStyles)})),s.disabled=!0,s.overrideTotalTime(a.totalTime),void i.push(s);var u=L;if(A.size>1){for(var l=t,h=[];l=l.parentNode;){var f=A.get(l);if(f){u=f;break}h.push(l)}h.forEach((function(e){return A.set(e,u)}))}var d=n._buildAnimation(s.namespaceId,a,x,o,N,P);if(s.setRealPlayer(d),u===L)R.push(s);else{var p=n.playersByElement.get(u);p&&p.length&&(s.parentPlayer=vy(p)),i.push(s)}}else Hy(t,a.fromStyles),s.onDestroy((function(){return zy(t,a.toStyles)})),D.push(s),c.has(t)&&i.push(s)})),D.forEach((function(e){var t=o.get(e.element);if(t&&t.length){var n=vy(t);e.setRealPlayer(n)}})),i.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var M=0;M<y.length;M++){var V=y[M],F=V[Fg];if($g(V,"ng-leave"),!F||!F.hasAnimation){var j=[];if(a.size){var U=a.get(V);U&&U.length&&j.push.apply(j,_toConsumableArray(U));for(var q=this.driver.query(V,".ng-animating",!0),B=0;B<q.length;B++){var z=a.get(q[B]);z&&z.length&&j.push.apply(j,_toConsumableArray(z))}}var H=j.filter((function(e){return!e.destroyed}));H.length?Yg(this,V,H):this.processLeaveNode(V)}}return y.length=0,R.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),R}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t[Fg];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var s=this.playersByQueriedElement.get(e);s&&(o=s)}else{var a=this.playersByElement.get(e);if(a){var u=!i||"void"==i;a.forEach((function(e){e.queued||(u||e.triggerName==r)&&o.push(e)}))}}return(n||r)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r=this,i=t.element,o=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,a=!0,u=!1,l=void 0;try{for(var c,h=function(){var e=c.value.element,a=e!==i,u=by(n,e,[]);r._getPreviousPlayers(e,a,o,s,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),u.push(e)}))},f=t.timelines[Symbol.iterator]();!(a=(c=f.next()).done);a=!0)h()}catch(d){u=!0,l=d}finally{try{a||null==f.return||f.return()}finally{if(u)throw l}}Hy(i,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,o){var s=this,a=t.triggerName,u=t.element,l=[],c=new Set,h=new Set,f=t.timelines.map((function(t){var f=t.element;c.add(f);var d=f[Fg];if(d&&d.removedBeforeQueried)return new _v(t.duration,t.delay);var p,v,y=f!==u,g=(p=(n.get(f)||Lg).map((function(e){return e.getRealPlayer()})),v=[],function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof bv?e(i.players,n):n.push(i)}}(p,v),v).filter((function(e){return!!e.element&&e.element===f})),m=i.get(f),_=o.get(f),b=yy(0,s._normalizer,0,t.keyframes,m,_),w=s._buildPlayer(t,b,g);if(t.subTimeline&&r&&h.add(f),y){var k=new zg(e,a,f);k.setRealPlayer(w),l.push(k)}return w}));l.forEach((function(e){by(s.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(s.playersByQueriedElement,e.element,e)}))})),c.forEach((function(e){return Zg(e,"ng-animating")}));var d=vy(f);return d.onDestroy((function(){c.forEach((function(e){return $g(e,"ng-animating")})),zy(u,t.toStyles)})),h.forEach((function(e){by(r,e,[]).push(d)})),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new _v(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}}]),e}(),zg=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new _v,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return gy(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){by(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function Hg(e){return e&&1===e.nodeType}function Gg(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function Wg(e,t,n,r,i){var o=[];n.forEach((function(e){return o.push(Gg(e))}));var s=[];r.forEach((function(n,r){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r[Fg]=Vg,s.push(r))})),e.set(r,o)}));var a=0;return n.forEach((function(e){return Gg(e,o[a++])})),s}function Kg(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var r=new Set(t),i=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=i.get(t);if(o)return o;var s=t.parentNode;return o=n.has(s)?s:r.has(s)?1:e(s),i.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}var Qg="$$classes";function Zg(e,t){if(e.classList)e.classList.add(t);else{var n=e[Qg];n||(n=e[Qg]={}),n[t]=!0}}function $g(e,t){if(e.classList)e.classList.remove(t);else{var n=e[Qg];n&&delete n[t]}}function Yg(e,t,n){vy(n).onDone((function(){return e.processLeaveNode(t)}))}function Xg(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach((function(e){return i.add(e)})):t.set(e,r),n.delete(e),!0}var Jg=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new Bg(t,n,r),this._timelineEngine=new Dg(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,s=this._triggerCache[o];if(!s){var a=[],u=ag(this._driver,i,a);if(a.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));s=function(e,t){return new Pg(e,t)}(r,u),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,r,s)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(wy(n),2),o=i[0],s=i[1];this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(wy(n),2),s=o[0],a=o[1];return this._timelineEngine.listen(s,t,a,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),e}();function em(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=nm(t[0]),t.length>1&&(r=nm(t[t.length-1]))):t&&(n=nm(t)),n||r?new tm(e,n,r):null}var tm=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&zy(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(zy(this._element,this._initialStyles),this._endStyles&&(zy(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Hy(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hy(this._element,this._endStyles),this._endStyles=null),zy(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function nm(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];rm(i)&&((t=t||{})[i]=e[i])}return t}function rm(e){return"display"===e||"position"===e}var im="animation",om="animationend",sm=function(){function e(t,n,r,i,o,s,a){var u=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=fm(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),hm(e,"",t),cm(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){am(this._element,this._name,"paused")}},{key:"resume",value:function(){am(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=um(this._element,this._name);this._position=e*this._duration,hm(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),cm(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){var n=fm(e,"").split(","),r=lm(n,t);r>=0&&(n.splice(r,1),hm(e,"",n.join(",")))}(this._element,this._name))}}]),e}();function am(e,t,n){hm(e,"PlayState",n,um(e,t))}function um(e,t){var n=fm(e,"");return n.indexOf(",")>0?lm(n.split(","),t):lm([n],t)}function lm(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function cm(e,t,n){n?e.removeEventListener(om,t):e.addEventListener(om,t)}function hm(e,t,n,r){var i=im+t;if(null!=r){var o=e.style[i];if(o.length){var s=o.split(",");s[r]=n,n=s.join(",")}}e.style[i]=n}function fm(e,t){return e.style[im+t]}var dm="linear",pm=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||dm,this.totalTime=i+o,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new sm(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:tg(e.element,r))}))}this.currentSnapshot=t}}]),e}(),vm=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).element=e,r._startingStyles={},r.__initialized=!1,r._styles=Ny(n),r}return _inherits(t,e),_createClass(t,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf(t.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf(t.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf(t.prototype),"destroy",this).call(this))}}]),t}(_v),ym=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return xy(e)}},{key:"matchesElement",value:function(e,t){return Ay(e,t)}},{key:"containsElement",value:function(e,t){return Oy(e,t)}},{key:"query",value:function(e,t,n){return Py(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return Ny(e)}));var r="@keyframes ".concat(t," {\n"),i="";n.forEach((function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}})),r+="".concat(i,"}\n")})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;s&&this._notifyFaultyScrubber();var a=o.filter((function(e){return e instanceof pm})),u={};Xy(n,r)&&a.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var l=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=Jy(e,t,u));if(0==n)return new vm(e,l);var c="".concat("gen_css_kf_").concat(this._count++),h=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(h);var f=em(e,t),d=new pm(e,t,c,n,r,i,l,f);return d.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),gm=function(){function e(t,n,r,i){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:tg(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),mm=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(_m().toString()),this._cssKeyframesDriver=new ym}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return xy(e)}},{key:"matchesElement",value:function(e,t){return Ay(e,t)}},{key:"containsElement",value:function(e,t){return Oy(e,t)}},{key:"query",value:function(e,t,n){return Py(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);var u={},l=o.filter((function(e){return e instanceof gm}));Xy(n,r)&&l.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var c=em(e,t=Jy(e,t=t.map((function(e){return Uy(e,!1)})),u));return new gm(e,t,a,c)}}]),e}();function _m(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var bm=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._nextAnimationId=0,r._renderer=e.createRenderer(n.body,{id:"0",encapsulation:We.None,styles:[],data:{animation:[]}}),r}return _inherits(t,e),_createClass(t,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?yv(e):e;return Cm(this._renderer,null,t,"register",[n]),new wm(t,this._renderer)}}]),t}(dv),wm=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._id=e,r._renderer=n,r}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e,t){return new km(this._id,e,t||{},this._renderer)}}]),t}(pv),km=function(){function e(t,n,r,i){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Cm(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function Cm(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var Em=function(){function e(t,n,r){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new Sm("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,s=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,e),t.data.animation.forEach((function(t){return n.engine.registerTrigger(o,s,e,t.name,t)})),new Tm(this,s,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}(),Sm=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),Tm=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n,r,i))).factory=e,o.namespaceId=n,o}return _inherits(t,e),_createClass(t,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r,i,o=this;if("@"==t.charAt(0)){var s,a=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),u=t.substr(1),l="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(s=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],l=s[1]),this.engine.listen(this.namespaceId,a,u,l,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),t}(Sm),Im=function(e){function t(e,n,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e.body,n,r))}return _inherits(t,e),t}(Jg);function xm(){return"function"==typeof _m()?new mm:new ym}function Am(){return new Sg}function Om(e,t,n){return new Em(e,t,n)}var Pm=new Ae("AnimationModuleType"),Nm=function e(){_classCallCheck(this,e)},Rm=function e(){_classCallCheck(this,e)},Dm=function e(){_classCallCheck(this,e)},Lm=new pa(va,[ya],(function(e){return function(e){for(var t={},n=[],r=!1,i=0;i<e.length;i++){var o=e[i];o.token===Dt&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,t[Yn(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}([Rr(512,an,un,[[8,[Ff,Jd,sv,cy,dy]],[3,an],Be]),Rr(4608,Xp,Xp,[]),Rr(4608,bp,bp,[]),Rr(5120,Gi,Go,[[3,Gi]]),Rr(4608,Ia,xa,[Gi,[2,Ta]]),Rr(5120,Ti,Wo,[lo]),Rr(5120,Fi,ji,[]),Rr(5120,An,zo,[]),Rr(5120,On,Ho,[]),Rr(4608,Ml,Vl,[ja]),Rr(6144,Tt,null,[Ml]),Rr(4608,Al,Pl,[]),Rr(5120,nl,(function(e,t,n,r,i,o,s,a){return[new Il(e,t,n),new Ll(r),new Nl(i,o,s,a)]}),[ja,lo,Bi,ja,ja,Al,Hi,[2,Ol]]),Rr(4608,rl,rl,[nl,lo]),Rr(135680,sl,sl,[ja]),Rr(4608,dl,dl,[rl,sl,Fi]),Rr(5120,Dy,xm,[]),Rr(5120,Eg,Am,[]),Rr(4608,Jg,Im,[ja,Dy,Eg]),Rr(5120,dn,Om,[dl,Jg,lo]),Rr(6144,ol,null,[sl]),Rr(4608,mo,mo,[lo]),Rr(4608,dv,bm,[dn,ja]),Rr(5120,th,Pf,[hf]),Rr(4608,mf,mf,[]),Rr(6144,yf,null,[mf]),Rr(135680,_f,_f,[hf,Po,eo,Mt,yf]),Rr(4608,gf,gf,[]),Rr(5120,bf,Tf,[hf,Ha,wf]),Rr(5120,Lf,Df,[Nf]),Rr(5120,zi,(function(e){return[e]}),[Lf]),Rr(5120,kd,Ed,[bd,lo,[2,wd]]),Rr(4608,qd,qd,[bd,[2,wd],[2,Ld],[2,Vd],Bi,lo,[2,Md]]),Rr(4608,ty,ty,[lo,dn,Bi]),Rr(4608,fv,fv,[an,lo,Mt,ty,Ao]),Rr(4608,iy,iy,[]),Rr(1073742336,Yp,Yp,[]),Rr(1073742336,Jp,Jp,[]),Rr(1073742336,Fa,Fa,[]),Rr(1024,et,Gl,[]),Rr(1024,Co,(function(){return[Ef()]}),[]),Rr(512,Nf,Nf,[Mt]),Rr(1024,Mi,(function(e,t){return[(n=e,Ju("probe",tl),Ju("coreTokens",Object.assign({},el,(n||[]).reduce((function(e,t){return e[t.name]=t.token,e}),{}))),function(){return tl}),Rf(t)];var n}),[[2,Co],Nf]),Rr(512,Vi,Vi,[[2,Mi]]),Rr(131584,Ao,Ao,[lo,Hi,Mt,et,an,Vi]),Rr(1073742336,Ko,Ko,[Ao]),Rr(1073742336,Wl,Wl,[[3,Wl]]),Rr(1073742336,Nm,Nm,[]),Rr(1024,kf,xf,[[3,hf]]),Rr(512,Rc,Dc,[]),Rr(512,df,df,[]),Rr(256,wf,{},[]),Rr(1024,_a,If,[ga,[2,ba],wf]),Rr(512,wa,wa,[_a,ga]),Rr(512,eo,eo,[]),Rr(512,Po,Do,[eo,[2,No]]),Rr(1024,rf,(function(){return[[{path:"",component:Zf,pathMatch:"full"},{path:"map",component:ev,pathMatch:"full"}]]}),[]),Rr(1024,hf,Of,[Ao,Rc,df,wa,Mt,Po,eo,rf,wf,[2,sf],[2,tf]]),Rr(1073742336,Sf,Sf,[[2,kf],[2,hf]]),Rr(1073742336,Rm,Rm,[]),Rr(1073742336,Dm,Dm,[]),Rr(1073742336,Sd,Sd,[Bi]),Rr(1073742336,Bd,Bd,[]),Rr(1073742336,ay,ay,[]),Rr(1073742336,va,va,[]),Rr(256,Dt,!0,[]),Rr(256,Pm,"BrowserAnimations",[]),Rr(256,bd,{apiKey:"AIzaSyDu_DzZv2TssLX7LtCekz_CeC8XxSC0aag",authDomain:"myz-projects-base.firebaseapp.com",databaseURL:"https://myz-projects-base.firebaseio.com",projectId:"myz-projects-base",storageBucket:"myz-projects-base.appspot.com",messagingSenderId:"32810322105",appId:"1:32810322105:web:23139ec8cc6c38a40c3368"},[]),Rr(256,wd,void 0,[]),Rr(256,ry,{autoClose:!0,insideClick:!1},[])])}));(function(){if(nt)throw new Error("Cannot enable prod mode after platform setup.");tt=!1})(),Hl().bootstrapModuleFactory(Lm).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);